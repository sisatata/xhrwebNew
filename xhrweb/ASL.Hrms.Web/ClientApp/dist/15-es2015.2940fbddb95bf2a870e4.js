(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{LVab:function(e,t,n){"use strict";n.r(t),n.d(t,"ReportModule",(function(){return pn}));var r=n("ofXK"),a=n("3Pt+"),i=n("N/25"),l=n("6VUB"),o=n("TwVa"),s=n("ZF+8"),m=n("Cmua"),p=n("fXoL"),d=n("jhN1"),c=n("kmnG"),h=n("qFsG"),u=n("iadO"),E=n("d3UM"),f=n("FKr1"),y=n("sYmb");function v(e,t){1&e&&p["\u0275\u0275element"](0,"div",21)}function I(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",2),p["\u0275\u0275element"](1,"app-search-filter",22),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("companyId",e.companyId)("showEmployeeList",!0)("showInputField",!1)}}function g(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",26),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.companyName," ")}}function C(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1,"Company is required "),p["\u0275\u0275elementEnd"]())}function R(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",23),p["\u0275\u0275elementStart"](1,"mat-form-field",9),p["\u0275\u0275elementStart"](2,"mat-label"),p["\u0275\u0275text"](3),p["\u0275\u0275pipe"](4,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](5,"mat-select",24),p["\u0275\u0275pipe"](6,"translate"),p["\u0275\u0275template"](7,g,2,2,"mat-option",25),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](8,C,2,0,"mat-error",13),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](4,4,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](6,6,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngForOf",e.companies),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",e.submitted&&e.f.companyId.errors&&e.f.companyId.errors.required)}}function A(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275elementStart"](1,"mat-option",26),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275propertyInterpolate"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate"](e.fullName)}}function S(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"translate"),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](2,1,"COMMON.SELECT.EMPLOYEEID.REQUIERED_ERROR_TEXT"),""))}function b(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",23),p["\u0275\u0275elementStart"](1,"mat-form-field",9),p["\u0275\u0275elementStart"](2,"mat-select",27),p["\u0275\u0275listener"]("valueChange",(function(t){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().employeeId=t}))("selectionChange",(function(t){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().onChangeEmployee(t)})),p["\u0275\u0275template"](3,A,3,2,"ng-container",28),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](4,S,3,3,"mat-error",13),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}if(2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("value",e.employeeId)("disabled",!e.isAdmin),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",e.employees),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",e.submitted&&e.f.employeeId.errors&&e.f.employeeId.errors.required)}}function T(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"translate"),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT")," "))}function O(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"translate"),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT")," "))}function D(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",17),p["\u0275\u0275elementStart"](1,"button",18),p["\u0275\u0275listener"]("click",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().downloadAttendanceSummaryReport()})),p["\u0275\u0275text"](2),p["\u0275\u0275pipe"](3,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}2&e&&(p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](3,1,"REPORT.INDEX.BUTTONTEXT.ATTENDANCE_SUMMARY_REPORT_PDF")))}function x(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",17),p["\u0275\u0275elementStart"](1,"button",18),p["\u0275\u0275listener"]("click",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().downloadJobCardSummaryReport()})),p["\u0275\u0275text"](2),p["\u0275\u0275pipe"](3,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}2&e&&(p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](3,1,"REPORT.INDEX.BUTTONTEXT.JOB_CARD_SUMMARY_REPORT_PDF")))}function F(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275elementStart"](1,"div",29),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate1"](" ",e.errorMessages," ")}}function L(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",30),p["\u0275\u0275element"](1,"iframe",31),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("src",e.pdfUrl,p["\u0275\u0275sanitizeResourceUrl"])}}const P=function(e){return{"is-invalid":e}};let N=(()=>{class e{constructor(e,t,n,r,a,i,l,s,m){this.formBuilder=e,this.alertService=t,this.datePipe=n,this.attendanceReportService=r,this.billClaimReportService=a,this.companyService=i,this.employeeService=l,this.authService=s,this.sanitize=m,this.employeeFilter=new o.T,this.companyId=localStorage.getItem("companyId"),this.daysInMonth=31,this.employeeId=o.cb.empty,this.isEmployee=this.authService.isEmployee,this.isAdmin=this.authService.isAdmin,this.isAdmin||(this.employeeId=this.authService.getLoggedInUserInfo().employeeId)}ngOnInit(){this.buildForm(),this.getAllCompanies(),this.getAllEmployees()}buildForm(){this.reportFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,[a.G.required]],startTime:[this.startTime,[a.G.required]],endTime:[this.endTime,[a.G.required]],employeeId:[this.employeeId]})}getAllCompanies(){this.companyService.getAllCompanies().subscribe(e=>{this.companies=e})}getAllEmployees(){this.employeeService.getAllEmployees().subscribe(e=>{this.employees=e,this.employees.unshift({id:o.cb.empty,fullName:"Select All Employee"})})}get f(){return this.reportFilterFormGroup.controls}generateExcel(e,t){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(e.body,t);else{const n=window.URL.createObjectURL(e.body),r=document.createElement("a");document.body.appendChild(r),r.setAttribute("style","display: none"),r.href=n,r.download=t,r.click(),window.URL.revokeObjectURL(n),r.remove()}}downloadAttndancePdfReport(){var e,t;if(this.submitted=!0,this.reportFilterFormGroup.invalid)return;const n=null===(e=this.searchFilter)||void 0===e?void 0:e.employeeFilterFormGroup;this.attendanceReport=new o.h(this.reportFilterFormGroup.value),this.attendanceReport.startTime=this.datePipe.transform(new Date(this.attendanceReport.startTime),"yyyy-MM-dd"),this.attendanceReport.endTime=this.datePipe.transform(new Date(this.attendanceReport.endTime),"yyyy-MM-dd"),this.attendanceReport.branchIds=null==n?void 0:n.value.branchId,this.attendanceReport.departmentIds=null==n?void 0:n.value.departmentId,this.attendanceReport.designationIds=null==n?void 0:n.value.designationId,this.attendanceReport.employeeIds=void 0===(null===(t=this.searchFilter)||void 0===t?void 0:t.employeeId)?[]:this.searchFilter.employeeId,!this.isAdmin&&this.isEmployee&&(this.attendanceReport.employeeIds=[this.employeeId]),this.loading=!0,this.attendanceReportService.createAttendancePdfReport(this.attendanceReport).subscribe(e=>{this.loading=!1,this.pdfUrl=this.sanitize.bypassSecurityTrustResourceUrl(e.printPdfUrl)},()=>{this.loading=!1,this.submitted=!1})}downloadAttndanceExcelReport(){this.submitted=!0,this.reportFilterFormGroup.invalid||(this.attendanceReport=new o.h(this.reportFilterFormGroup.value),this.attendanceReport.startTime=this.datePipe.transform(new Date(this.attendanceReport.startTime),"yyyy-MM-dd"),this.attendanceReport.endTime=this.datePipe.transform(new Date(this.attendanceReport.endTime),"yyyy-MM-dd"),this.loading=!0,this.attendanceReportService.createAttendanceExcelReport(this.attendanceReport).subscribe(e=>{this.generateExcel(e,"Attendance-Report"),this.loading=!1,this.submitted=!1},()=>{this.loading=!1,this.submitted=!1}))}downloadBillClaimPdfReport(){this.submitted=!0,this.reportFilterFormGroup.invalid||(this.billClaimReport=new o.p(this.reportFilterFormGroup.value),this.billClaimReport.startTime=this.datePipe.transform(new Date(this.billClaimReport.startTime),"yyyy-MM-dd"),this.billClaimReport.endTime=this.datePipe.transform(new Date(this.billClaimReport.endTime),"yyyy-MM-dd"),this.loading=!0,this.billClaimReportService.createBillClaimePdfReport(this.billClaimReport).subscribe(e=>{this.loading=!1,this.pdfUrl=this.sanitize.bypassSecurityTrustResourceUrl(e.printPdfUrl)},()=>{this.loading=!1}))}downloadJobCardSummaryReport(){var e,t;if(this.submitted=!0,this.reportFilterFormGroup.invalid)return;const n=null===(e=this.searchFilter)||void 0===e?void 0:e.employeeFilterFormGroup;this.attendanceReport=new o.h(this.reportFilterFormGroup.value),this.attendanceReport.startTime=this.datePipe.transform(new Date(this.attendanceReport.startTime),"yyyy-MM-dd"),this.attendanceReport.endTime=this.datePipe.transform(new Date(this.attendanceReport.endTime),"yyyy-MM-dd"),this.attendanceReport.branchIds=null==n?void 0:n.value.branchId,this.attendanceReport.departmentIds=null==n?void 0:n.value.departmentId,this.attendanceReport.designationIds=null==n?void 0:n.value.designationId,this.attendanceReport.employeeIds=void 0===(null===(t=this.searchFilter)||void 0===t?void 0:t.employeeId)?[]:this.searchFilter.employeeId,this.loading=!0,!this.isAdmin&&this.isEmployee&&(this.attendanceReport.employeeIds=[this.employeeId]),this.attendanceReportService.createJobCardSummaryReport(this.attendanceReport).subscribe(e=>{this.loading=!1,this.pdfUrl=this.sanitize.bypassSecurityTrustResourceUrl(e.printPdfUrl)},()=>{this.loading=!1,this.submitted=!1})}onChangeEmployee(e){this.employeeId=e.value}downloadAttendanceSummaryReport(){var e,t;if(this.submitted=!0,this.reportFilterFormGroup.invalid)return;const n=null===(e=this.searchFilter)||void 0===e?void 0:e.employeeFilterFormGroup;this.attendanceReport=new o.h(this.reportFilterFormGroup.value),this.attendanceReport.startTime=this.datePipe.transform(new Date(this.attendanceReport.startTime),"yyyy-MM-dd"),this.attendanceReport.endTime=this.datePipe.transform(new Date(this.attendanceReport.endTime),"yyyy-MM-dd");let r=new Date(this.attendanceReport.startTime),a=new Date(this.attendanceReport.endTime);this.calculateDiffOfDays(r,a)>this.daysInMonth?this.alertService.error("Difference of start and end date should maximum 31 days"):(this.loading=!0,this.attendanceReport.branchIds=null==n?void 0:n.value.branchId,this.attendanceReport.departmentIds=null==n?void 0:n.value.departmentId,this.attendanceReport.designationIds=null==n?void 0:n.value.designationId,this.attendanceReport.employeeIds=void 0===(null===(t=this.searchFilter)||void 0===t?void 0:t.employeeId)?[]:this.searchFilter.employeeId,!this.isAdmin&&this.isEmployee&&(this.attendanceReport.employeeIds=[this.employeeId]),this.attendanceReportService.createAttendanceSummaryPdfReport(this.attendanceReport).subscribe(e=>{this.loading=!1,this.pdfUrl=this.sanitize.bypassSecurityTrustResourceUrl(e.printPdfUrl)},()=>{this.loading=!1,this.submitted=!1}))}calculateDiffOfDays(e,t){if(e&&t){let n=Math.abs(e-t);return Math.ceil(n/864e5)}}}return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](a.g),p["\u0275\u0275directiveInject"](m.a),p["\u0275\u0275directiveInject"](r.f),p["\u0275\u0275directiveInject"](s.b),p["\u0275\u0275directiveInject"](s.l),p["\u0275\u0275directiveInject"](s.u),p["\u0275\u0275directiveInject"](s.U),p["\u0275\u0275directiveInject"](i.a),p["\u0275\u0275directiveInject"](d.b))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["app-report"]],viewQuery:function(e,t){var n;1&e&&p["\u0275\u0275viewQuery"](l.a,!0),2&e&&p["\u0275\u0275queryRefresh"](n=p["\u0275\u0275loadQuery"]())&&(t.searchFilter=n.first)},decls:42,vars:40,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-12"],["id","tableLabel"],[3,"formGroup"],[1,"row"],["class","col-12",4,"ngIf"],["class","col-sm-3 col-md-3 col-12",4,"ngIf"],[1,"col-sm-3","col-md-2","col-12"],["appearance","outline"],["matInput","","formControlName","startTime",3,"matDatepicker","placeholder","ngClass","click"],["matSuffix","",3,"for"],["startDatePicker",""],[4,"ngIf"],["matInput","","formControlName","endTime",3,"matDatepicker","value","placeholder","ngClass","click","valueChange"],["endDatePicker",""],[1,"row","justify-content-center","text-center"],[1,"col-12","col-md-4","col-lg-4","col-xl-2","mt-2"],["type","submit",1,"btn","btn-success",2,"font-size","12px","width","100%",3,"click"],["class","col-12 col-md-4 col-lg-4 col-xl-2 mt-2",4,"ngIf"],["class","mt-5",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"companyId","showEmployeeList","showInputField"],[1,"col-sm-3","col-md-3","col-12"],["formControlName","companyId",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","formControlName","employeeId","placeholder","Select Employee",3,"value","disabled","valueChange","selectionChange"],[4,"ngFor","ngForOf"],[1,"d-flex","mx-auto"],[1,"mt-5"],[2,"width","100%","height","600px",3,"src"]],template:function(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275template"](0,v,1,0,"div",0),p["\u0275\u0275elementStart"](1,"div",1),p["\u0275\u0275elementStart"](2,"div",2),p["\u0275\u0275elementStart"](3,"h1",3),p["\u0275\u0275text"](4),p["\u0275\u0275pipe"](5,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"form",4),p["\u0275\u0275elementStart"](7,"div",5),p["\u0275\u0275template"](8,I,2,3,"div",6),p["\u0275\u0275template"](9,R,9,8,"div",7),p["\u0275\u0275template"](10,b,5,4,"div",7),p["\u0275\u0275elementStart"](11,"div",8),p["\u0275\u0275elementStart"](12,"mat-form-field",9),p["\u0275\u0275elementStart"](13,"mat-label"),p["\u0275\u0275text"](14),p["\u0275\u0275pipe"](15,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](16,"input",10),p["\u0275\u0275listener"]("click",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275reference"](20).open()})),p["\u0275\u0275pipe"](17,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](18,"mat-datepicker-toggle",11),p["\u0275\u0275element"](19,"mat-datepicker",null,12),p["\u0275\u0275template"](21,T,3,3,"mat-error",13),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](22,"div",8),p["\u0275\u0275elementStart"](23,"mat-form-field",9),p["\u0275\u0275elementStart"](24,"mat-label"),p["\u0275\u0275text"](25),p["\u0275\u0275pipe"](26,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](27,"input",14),p["\u0275\u0275listener"]("click",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275reference"](31).open()}))("valueChange",(function(e){return t.endTime=e})),p["\u0275\u0275pipe"](28,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](29,"mat-datepicker-toggle",11),p["\u0275\u0275element"](30,"mat-datepicker",null,15),p["\u0275\u0275template"](32,O,3,3,"mat-error",13),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](33,"div",16),p["\u0275\u0275elementStart"](34,"div",17),p["\u0275\u0275elementStart"](35,"button",18),p["\u0275\u0275listener"]("click",(function(){return t.downloadAttndancePdfReport()})),p["\u0275\u0275text"](36),p["\u0275\u0275pipe"](37,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](38,D,4,3,"div",19),p["\u0275\u0275template"](39,x,4,3,"div",19),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](40,F,3,1,"mat-error",13),p["\u0275\u0275template"](41,L,2,1,"div",20),p["\u0275\u0275elementEnd"]()}if(2&e){const e=p["\u0275\u0275reference"](20),n=p["\u0275\u0275reference"](31);p["\u0275\u0275property"]("ngIf",t.loading),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](5,24,"REPORT.INDEX.ATTENDANCEREPORTTITLE")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("formGroup",t.reportFilterFormGroup),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",t.isAdmin),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.isEmployee&&!t.isAdmin),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.isEmployee&&!t.isAdmin),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](15,26,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")," "),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](17,28,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),p["\u0275\u0275property"]("matDatepicker",e)("ngClass",p["\u0275\u0275pureFunction1"](36,P,t.f.startTime.errors)),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("for",e),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startTime.errors&&t.f.startTime.errors.required),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](26,30,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")," "),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](28,32,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),p["\u0275\u0275property"]("matDatepicker",n)("value",t.endTime)("ngClass",p["\u0275\u0275pureFunction1"](38,P,t.f.endTime.errors)),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("for",n),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endTime.errors&&t.f.endTime.errors.required),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](37,34,"REPORT.INDEX.BUTTONTEXT.ATTENDANCE_PDF_REPORT")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",t.isAdmin),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.isAdmin),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",!t.isFormValid),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.pdfUrl)}},directives:[r.t,a.I,a.t,a.k,c.c,c.g,h.b,a.d,u.h,a.s,a.j,r.q,u.j,c.j,u.f,l.a,E.a,r.s,f.m,c.b],pipes:[y.d],styles:["@media (min-width:576px){.mb-sm-10[_ngcontent-%COMP%]{margin-bottom:10px!important}}"]}),e})();var M=n("tyNb"),B=n("Vvy3"),w=n("PCNd"),Y=n("40fR"),k=n("e/mZ");function U(e,t){1&e&&p["\u0275\u0275element"](0,"div",25)}function G(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",26),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.companyName," ")}}function j(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1,"Company is required "),p["\u0275\u0275elementEnd"]())}function _(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",26),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.branchName," ")}}function q(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",6),p["\u0275\u0275elementStart"](1,"mat-form-field",7),p["\u0275\u0275elementStart"](2,"mat-label"),p["\u0275\u0275text"](3,"Branch"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](4,"mat-select",27),p["\u0275\u0275listener"]("selectionChange",(function(t){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().onChangeBranch(t.value)}))("valueChange",(function(t){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().branchId=t})),p["\u0275\u0275template"](5,_,2,2,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}if(2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("value",e.branchId),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",e.branches)}}function z(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",26),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.departmentName," ")}}function V(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",6),p["\u0275\u0275elementStart"](1,"mat-form-field",7),p["\u0275\u0275elementStart"](2,"mat-label"),p["\u0275\u0275text"](3,"Department"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](4,"mat-select",28),p["\u0275\u0275listener"]("selectionChange",(function(t){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().onChangeDepartment(t.value)}))("valueChange",(function(t){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().departmentId=t})),p["\u0275\u0275template"](5,z,2,2,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}if(2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("value",e.departmentId),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",e.departments)}}function H(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",26),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate2"](" ",e.designationName," - ",e.departmentName," ")}}function X(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1,"Designation is required "),p["\u0275\u0275elementEnd"]())}function K(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",6),p["\u0275\u0275elementStart"](1,"mat-form-field",7),p["\u0275\u0275elementStart"](2,"mat-label"),p["\u0275\u0275text"](3),p["\u0275\u0275pipe"](4,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](5,"mat-select",29),p["\u0275\u0275listener"]("selectionChange",(function(t){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().onChangeDesignation(t.value)})),p["\u0275\u0275pipe"](6,"translate"),p["\u0275\u0275template"](7,H,2,3,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](8,X,2,0,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}if(2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](4,4,"COMMON.SELECT.DESIGNATIONID.PLACEHOLDER")),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](6,6,"COMMON.SELECT.DESIGNATIONID.PLACEHOLDER")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngForOf",e.designations),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",e.submitted&&e.f.designationId.errors&&e.f.designationId.errors.required)}}function $(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"translate"),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT")," "))}function Q(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"translate"),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT")," "))}function J(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",26),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.value," ")}}function W(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1,"Report type is required "),p["\u0275\u0275elementEnd"]())}function Z(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275elementStart"](1,"div",30),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate1"](" ",e.errorMessages," ")}}function ee(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",31),p["\u0275\u0275element"](1,"iframe",32),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("src",e.pdfUrl,p["\u0275\u0275sanitizeResourceUrl"])}}const te=function(e){return{"is-invalid":e}};let ne=(()=>{class e{constructor(e,t,n,r,a,i,l,s,m,p){this.formBuilder=e,this.datePipe=t,this.attendanceReportService=n,this.companyService=r,this.employeeService=a,this.authService=i,this.sanitize=l,this.departmentServce=s,this.designationService=m,this.branchService=p,this.dropdownList=[],this.selectedItems=[],this.dropdownSettings={},this.companyId=localStorage.getItem("companyId"),this.employeeId=[],this.departmentFilter=new o.C,this.designationFilter=new o.D,this.employeeFilter=new o.T,this.isAdmin=!1,this.departmentId=[],this.designationId=[],this.filterOptions=[{id:1,value:"All"},{id:2,value:"Late"},{id:3,value:"Absent"},{id:4,value:"Early Out"},{id:5,value:"In punch miss"},{id:6,value:"Out punch miss"},{id:7,value:"Present"}],this.itemList=[],this.settings={},this.isEmployee=this.authService.isEmployee,this.isAdmin=this.authService.isAdmin,this.empId=this.authService.getLoggedInUserInfo().employeeId}ngOnInit(){this.buildForm(),this.getAllCompanies(),this.onChangeCompany(this.companyId),this.getAllEmployees(),this.getAllBranchByCompanyId(),this.initializeEmployeeDropdown()}onChangeCompany(e){this.companyId=e,e&&this.companyId.length>0&&(this.getAllBranchByCompanyId(),this.getALLDepartmentByBranchId(null),this.getAllDesignationByDepartmentId(null))}getALLDepartmentByBranchId(e){this.departments=[],this.departmentFilter.companyId=this.companyId,this.departmentFilter.branchIds=e,this.departmentServce.getAllDepartmentByBranchIds(this.departmentFilter).subscribe(e=>{this.departments=e;let t=this.departments.map(e=>e.id);this.getAllDesignationByDepartmentId(t)},()=>{})}getAllDesignationByDepartmentId(e){this.designations=[],this.designationFilter.companyId=this.companyId,this.designationFilter.entityIds=e,this.designationService.getAllDesignationByDepartmentIds(this.designationFilter).subscribe(e=>{this.designations=e,this.designationId=this.designations.map(e=>e.id),this.getAllEmployeesFilteredList()},()=>{})}buildForm(){this.attendanceFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,[a.G.required]],startDate:[this.startDate,[a.G.required]],endDate:[this.endDate,[a.G.required]],employeeId:[this.employeeId],branchId:[this.branchId],departmentId:[this.departmentId],designationId:[this.designationId],statusId:[this.statusId,[a.G.required]]})}getAllBranchByCompanyId(){this.branches=[],this.loading=!0,this.branchService.getAllBranchByCompanyId(this.companyId).subscribe(e=>{this.branches=e;let t=this.branches.map(e=>e.id);this.getALLDepartmentByBranchId(t)})}getAllCompanies(){this.companyService.getAllCompanies().subscribe(e=>{this.companies=e})}getAllEmployeesFilteredList(){this.employeeFilter.branchIds=this.branchId,this.employeeFilter.departmentIds=this.departmentId,this.employeeFilter.designationIds=this.designationId,this.employeeFilter.employeeIds=this.employeeId,this.loading=!0,this.employeeService.getAllEmployeePagedListWithoutPagination(this.employeeFilter).subscribe(e=>{this.employees=e,this.itemList=e,this.loading=!1},()=>{})}getAllEmployees(){this.employeeService.getAllEmployees().subscribe(e=>{if(this.employees=e,this.itemList=e,this.isEmployee&&!this.isAdmin){const e=this.employees.filter(e=>e.id===this.empId)[0];this.selectedItems.push(e)}},()=>{})}get f(){return this.attendanceFilterFormGroup.controls}onChangeBranch(e){this.branchId=e,this.branchId&&this.branchId.length>0?(this.loading=!0,this.getALLDepartmentByBranchId(this.branchId)):(this.getALLDepartmentByBranchId(null),this.branchId=[]),this.departmentId=[],this.designationId=[],this.employeeId=[],this.attendanceFilterFormGroup.controls.departmentId.setValue([]),this.attendanceFilterFormGroup.controls.designationId.setValue([]),this.attendanceFilterFormGroup.controls.employeeId.setValue([])}onChangeDepartment(e){this.departmentId=e,e&&this.departmentId.length>0?(this.loading=!0,this.getAllDesignationByDepartmentId(this.departmentId)):(this.getAllDesignationByDepartmentId(null),this.departmentId=[]),this.designationId=[],this.employeeId=[],this.attendanceFilterFormGroup.controls.designationId.setValue([]),this.attendanceFilterFormGroup.controls.employeeId.setValue([])}onChangeEmployee(e){this.selecetdEmployees=e,this.employeeId=e}onChangeDesignation(e){e&&e.length>0?(this.loading=!0,this.designationId=e):this.designationId=[],this.getAllEmployeesFilteredList(),this.employeeId=[],this.attendanceFilterFormGroup.controls.employeeId.setValue([])}onSubmit(){this.submitted=!0,this.pushEmployeeId(),this.attendanceFilterFormGroup.invalid||this.createAndGetAttendanceDetailsReport()}createAndGetAttendanceDetailsReport(){this.loading=!0,this.attendanceDetailsReport=new o.f(this.attendanceFilterFormGroup.value),this.attendanceDetailsReport.branchIds=this.branchId,this.attendanceDetailsReport.employeeIds=this.employeeId,this.attendanceDetailsReport.departmentIds=this.departmentId,this.attendanceDetailsReport.DesignationIds=this.designationId,this.attendanceDetailsReport.startDate=this.datePipe.transform(new Date(this.attendanceDetailsReport.startDate),"yyyy-MM-dd"),this.attendanceDetailsReport.endDate=this.datePipe.transform(new Date(this.attendanceDetailsReport.endDate),"yyyy-MM-dd"),this.attendanceDetailsReport.type=this.attendanceDetailsReport.statusId,this.attendanceReportService.createAttendanceDetailsPdfReport(this.attendanceDetailsReport).subscribe(e=>{this.loading=!1,this.pdfUrl=this.sanitize.bypassSecurityTrustResourceUrl(e.printPdfUrl)},()=>{this.loading=!1})}pushEmployeeId(){this.employeeId=[],this.selectedItems.forEach(e=>{this.employeeId.push(e.id)})}initializeEmployeeDropdown(){this.selectedItems=[];const e=window.screen.width>768?"2":"1";this.settings={text:"Select employees",enableSearchFilter:!0,unSelectAllText:"Un Select All",classes:"myclass custom-class",labelKey:"fullName",primaryKey:"id",badgeShowLimit:e,showCheckbox:!0,enableFilterSelectAll:!0,disabled:!0!==(this.isAdmin&&this.isEmployee),maxHeight:"200"}}}return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](a.g),p["\u0275\u0275directiveInject"](r.f),p["\u0275\u0275directiveInject"](s.b),p["\u0275\u0275directiveInject"](s.u),p["\u0275\u0275directiveInject"](s.U),p["\u0275\u0275directiveInject"](i.a),p["\u0275\u0275directiveInject"](d.b),p["\u0275\u0275directiveInject"](s.A),p["\u0275\u0275directiveInject"](s.B),p["\u0275\u0275directiveInject"](s.o))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["app-attendance-report"]],decls:58,vars:48,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-12"],["id","tableLabel"],[3,"formGroup"],[1,"row"],[1,"col-lg-2","col-md-3","col-12"],["appearance","outline"],["formControlName","companyId",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["class","col-lg-2 col-md-3 col-12",4,"ngIf"],[1,"col-lg-3","col-md-5","col-12"],[1,"form-group"],["ngDefaultControl","","formControlName","employeeId","name","selectedItems",3,"data","ngModel","settings","ngModelChange"],[1,"col-md-3","col-12"],["matInput","","formControlName","startDate",3,"matDatepicker","placeholder","ngClass","click"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","endDate",3,"matDatepicker","value","placeholder","ngClass","click","valueChange"],["endDatePicker",""],["placeholder","Status","formControlName","statusId"],[1,"row","justify-content-center"],["type","submit",1,"btn","btn-success","mr-5","w-100",2,"font-size","12px",3,"click"],["class","mt-5",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"],["placeholder","Branch","formControlName","branchId","multiple","",3,"value","selectionChange","valueChange"],["placeholder","Department","formControlName","departmentId","multiple","",3,"value","selectionChange","valueChange"],["formControlName","designationId","multiple","",3,"placeholder","selectionChange"],[1,"d-flex","mx-auto"],[1,"mt-5"],[2,"width","100%","height","600px",3,"src"]],template:function(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275template"](0,U,1,0,"div",0),p["\u0275\u0275elementStart"](1,"div",1),p["\u0275\u0275elementStart"](2,"div",2),p["\u0275\u0275elementStart"](3,"h1",3),p["\u0275\u0275text"](4,"Attendance Details Report"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](5,"form",4),p["\u0275\u0275elementStart"](6,"div",5),p["\u0275\u0275elementStart"](7,"div",6),p["\u0275\u0275elementStart"](8,"mat-form-field",7),p["\u0275\u0275elementStart"](9,"mat-label"),p["\u0275\u0275text"](10),p["\u0275\u0275pipe"](11,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](12,"mat-select",8),p["\u0275\u0275pipe"](13,"translate"),p["\u0275\u0275template"](14,G,2,2,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](15,j,2,0,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](16,q,6,2,"div",11),p["\u0275\u0275template"](17,V,6,2,"div",11),p["\u0275\u0275template"](18,K,9,8,"div",11),p["\u0275\u0275elementStart"](19,"div",12),p["\u0275\u0275elementStart"](20,"div",13),p["\u0275\u0275elementStart"](21,"angular2-multiselect",14),p["\u0275\u0275listener"]("ngModelChange",(function(e){return t.selectedItems=e})),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](22,"div",15),p["\u0275\u0275elementStart"](23,"mat-form-field",7),p["\u0275\u0275elementStart"](24,"mat-label"),p["\u0275\u0275text"](25),p["\u0275\u0275pipe"](26,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](27,"input",16),p["\u0275\u0275listener"]("click",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275reference"](31).open()})),p["\u0275\u0275pipe"](28,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](29,"mat-datepicker-toggle",17),p["\u0275\u0275element"](30,"mat-datepicker",null,18),p["\u0275\u0275template"](32,$,3,3,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](33,"div",15),p["\u0275\u0275elementStart"](34,"mat-form-field",7),p["\u0275\u0275elementStart"](35,"mat-label"),p["\u0275\u0275text"](36),p["\u0275\u0275pipe"](37,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](38,"input",19),p["\u0275\u0275listener"]("click",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275reference"](42).open()}))("valueChange",(function(e){return t.endDate=e})),p["\u0275\u0275pipe"](39,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](40,"mat-datepicker-toggle",17),p["\u0275\u0275element"](41,"mat-datepicker",null,20),p["\u0275\u0275template"](43,Q,3,3,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](44,"div",15),p["\u0275\u0275elementStart"](45,"mat-form-field",7),p["\u0275\u0275elementStart"](46,"mat-label"),p["\u0275\u0275text"](47," Report Type"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](48,"mat-select",21),p["\u0275\u0275template"](49,J,2,2,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](50,W,2,0,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](51,"div",22),p["\u0275\u0275elementStart"](52,"div",6),p["\u0275\u0275elementStart"](53,"button",23),p["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),p["\u0275\u0275text"](54),p["\u0275\u0275pipe"](55,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](56,Z,3,1,"mat-error",10),p["\u0275\u0275template"](57,ee,2,1,"div",24),p["\u0275\u0275elementEnd"]()}if(2&e){const e=p["\u0275\u0275reference"](31),n=p["\u0275\u0275reference"](42);p["\u0275\u0275property"]("ngIf",t.loading),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("formGroup",t.attendanceFilterFormGroup),p["\u0275\u0275advance"](5),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](11,30,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](13,32,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngForOf",t.companies),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.isAdmin),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.isAdmin),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.isAdmin),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("data",t.itemList)("ngModel",t.selectedItems)("settings",t.settings),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](26,34,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")," "),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](28,36,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),p["\u0275\u0275property"]("matDatepicker",e)("ngClass",p["\u0275\u0275pureFunction1"](44,te,t.f.startDate.errors)),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("for",e),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startDate.errors&&t.f.startDate.errors.required),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](37,38,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")," "),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](39,40,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),p["\u0275\u0275property"]("matDatepicker",n)("value",t.endDate)("ngClass",p["\u0275\u0275pureFunction1"](46,te,t.f.endDate.errors)),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("for",n),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endDate.errors&&t.f.endDate.errors.required),p["\u0275\u0275advance"](6),p["\u0275\u0275property"]("ngForOf",t.filterOptions),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.statusId.errors&&t.f.statusId.errors.required),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](55,42,"REPORT.INDEX.BUTTONTEXT.ATTENDANCE_PDF_REPORT")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",!t.isFormValid),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.pdfUrl)}},directives:[r.t,a.I,a.t,a.k,c.c,c.g,E.a,a.s,a.j,r.s,k.a,a.d,h.b,u.h,r.q,u.j,c.j,u.f,f.m,c.b],pipes:[y.d],styles:['.c-btn{background-color:#fff;border:2px solid green}.multi-select[_ngcontent-%COMP%]{display:block;margin-top:4px}.error[_ngcontent-%COMP%]{margin-top:-23px}  .selected-list .c-list .c-token{background:green}  .c-token{color:#fff}  .c-angle-down{top:35%!important;width:10px!important} .pure-checkbox input[type=checkbox]+label:before{box-sizing:content-box;content:"";position:absolute;top:50%;left:0;width:15px;height:15px;margin-top:-9px;text-align:center;transition:.4s;border-radius:3px;border:1px solid #218838} .pure-checkbox input[type=checkbox]:checked+label:after{color:#218838!important}.w-100[_ngcontent-%COMP%], ss-multiselect-dropdown[_ngcontent-%COMP%] > div.btn-group[_ngcontent-%COMP%] > ul.dropdown-menu[_ngcontent-%COMP%]{width:100%}  .selected-list .c-btn{color:#808a9a!important;font-size:16px;font-family:Helvetica,sans-serif}  .selected-list .c-list .c-token{font-size:10px}']}),e})();function re(e,t){1&e&&p["\u0275\u0275element"](0,"div",19)}function ae(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",20),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.companyName," ")}}function ie(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1,"Company is required "),p["\u0275\u0275elementEnd"]())}function le(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",20),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.financialYearName," ")}}function oe(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1,"Financial Year is required"),p["\u0275\u0275elementEnd"]())}function se(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",20),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.monthCycleName," ")}}function me(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1,"Month Cycle is required "),p["\u0275\u0275elementEnd"]())}function pe(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275elementStart"](1,"mat-option",20),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275propertyInterpolate"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate"](e.fullName)}}function de(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"translate"),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](2,1,"COMMON.SELECT.EMPLOYEEID.REQUIERED_ERROR_TEXT"),""))}function ce(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",21),p["\u0275\u0275element"](1,"iframe",22),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("src",e.pdfUrl,p["\u0275\u0275sanitizeResourceUrl"])}}let he=(()=>{class e{constructor(e,t,n,r,a,i,l,o){this.formBuilder=e,this.companyService=t,this.employeeService=n,this.authService=r,this.financialYearService=a,this.monthCycleService=i,this.salaryReportService=l,this.sanitize=o,this.companyId=localStorage.getItem("companyId"),this.loading=!1,this.submitted=!1,this.downloaded=!1,this.isEmployee=this.authService.isEmployee,this.isAdmin=this.authService.isAdmin,this.payrollManager=this.authService.isPayrollManger,this.isAdmin&&this.payrollManager||(this.employeeId=this.authService.getLoggedInUserInfo().employeeId)}ngOnInit(){this.buildForm(),this.getAllCompanies(),this.onChangeCompany(this.companyId),this.getAllEmployees()}buildForm(){this.salaryReportFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,[a.G.required]],financialYearId:[this.financialYearId,[a.G.required]],monthCycleId:[this.monthCycleId,[a.G.required]],employeeId:[this.employeeId]})}get f(){return this.salaryReportFilterFormGroup.controls}getAllCompanies(){this.companyService.getAllCompanies().subscribe(e=>{this.companies=e})}onChangeEmployee(e){this.employeeId=e.value}getAllEmployees(){this.employeeService.getAllEmployees().subscribe(e=>{this.employees=e,this.employees.unshift({id:o.cb.empty,fullName:"Select All Employee"})})}onChangeMonthCycle(e){this.monthCycleId=e.value}onChangeFinancialYears(e){var t=e.value;this.financialYearId=t,t&&this.getAllMonthCycleByCompanyIdAndFinancialYear()}onChangeCompany(e){this.companyId=e,e&&this.getAllFinancialYearByCompanyId()}getAllFinancialYearByCompanyId(){this.financialYearService.getAllFinancialYearByCompanyId(this.companyId).subscribe(e=>{this.financialYears=e})}getAllMonthCycleByCompanyIdAndFinancialYear(){this.monthCycleService.getMonthCycleByCompanyAndFinancialYear(this.companyId,this.financialYearId).subscribe(e=>{this.monthCycles=e})}onSubmit(){this.submitted=!0,this.salaryReportFilterFormGroup.invalid||this.createAndGetSalaryReport()}downloadPayslipReport(){this.submitted=!0,this.salaryReportFilterFormGroup.invalid||this.createAndGetPayslipReport()}createAndGetSalaryReport(){this.salaryReport=new o.tb(this.salaryReportFilterFormGroup.value),this.loading=!0,this.salaryReportService.createSalaryPdfReport(this.salaryReport).subscribe(e=>{this.loading=!1,this.pdfUrl=this.sanitize.bypassSecurityTrustResourceUrl(e.printPdfUrl)},()=>{this.loading=!1})}createAndGetPayslipReport(){this.payslipReport=new o.sb(this.salaryReportFilterFormGroup.value),this.loading=!0,this.salaryReportService.createPayslipPdfReport(this.payslipReport).subscribe(e=>{this.loading=!1,this.pdfUrl=this.sanitize.bypassSecurityTrustResourceUrl(e.printPdfUrl)},()=>{this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](a.g),p["\u0275\u0275directiveInject"](s.u),p["\u0275\u0275directiveInject"](s.U),p["\u0275\u0275directiveInject"](i.a),p["\u0275\u0275directiveInject"](s.Y),p["\u0275\u0275directiveInject"](s.ib),p["\u0275\u0275directiveInject"](s.nb),p["\u0275\u0275directiveInject"](d.b))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["app-salary-report"]],decls:46,vars:30,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-sm-12","col-md-12"],["id","tableLabel"],[3,"formGroup"],[1,"row"],[1,"col-md-3","col-12"],["appearance","outline"],["formControlName","companyId",3,"placeholder","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Financial Year","formControlName","financialYearId",3,"value","selectionChange"],["placeholder","Month Cycle","formControlName","monthCycleId",3,"value","selectionChange"],["matInput","","formControlName","employeeId","placeholder","Select Employee",3,"value","disabled","valueChange","selectionChange"],[4,"ngFor","ngForOf"],[1,"row","justify-content-center"],["type","submit",1,"btn","btn-success","mr-5",2,"font-size","smaller",3,"click"],["type","submit",1,"btn","btn-success",2,"font-size","smaller",3,"click"],["class","mt-5",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"],[1,"mt-5"],[2,"width","100%","height","600px",3,"src"]],template:function(e,t){1&e&&(p["\u0275\u0275template"](0,re,1,0,"div",0),p["\u0275\u0275elementStart"](1,"div",1),p["\u0275\u0275elementStart"](2,"div",2),p["\u0275\u0275elementStart"](3,"h1",3),p["\u0275\u0275text"](4),p["\u0275\u0275pipe"](5,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"form",4),p["\u0275\u0275elementStart"](7,"div",5),p["\u0275\u0275elementStart"](8,"div",6),p["\u0275\u0275elementStart"](9,"mat-form-field",7),p["\u0275\u0275elementStart"](10,"mat-label"),p["\u0275\u0275text"](11),p["\u0275\u0275pipe"](12,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](13,"mat-select",8),p["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeCompany(e.value)})),p["\u0275\u0275pipe"](14,"translate"),p["\u0275\u0275template"](15,ae,2,2,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](16,ie,2,0,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](17,"div",6),p["\u0275\u0275elementStart"](18,"mat-form-field",7),p["\u0275\u0275elementStart"](19,"mat-label"),p["\u0275\u0275text"](20,"Financial Year"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](21,"mat-select",11),p["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeFinancialYears(e)})),p["\u0275\u0275template"](22,le,2,2,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](23,oe,2,0,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](24,"div",6),p["\u0275\u0275elementStart"](25,"mat-form-field",7),p["\u0275\u0275elementStart"](26,"mat-label"),p["\u0275\u0275text"](27,"Month Cycle"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](28,"mat-select",12),p["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeMonthCycle(e)})),p["\u0275\u0275template"](29,se,2,2,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](30,me,2,0,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](31,"div",6),p["\u0275\u0275elementStart"](32,"mat-form-field",7),p["\u0275\u0275elementStart"](33,"mat-label"),p["\u0275\u0275text"](34,"Employee"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](35,"mat-select",13),p["\u0275\u0275listener"]("valueChange",(function(e){return t.employeeId=e}))("selectionChange",(function(e){return t.onChangeEmployee(e)})),p["\u0275\u0275template"](36,pe,3,2,"ng-container",14),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](37,de,3,3,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](38,"div",15),p["\u0275\u0275elementStart"](39,"button",16),p["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),p["\u0275\u0275text"](40),p["\u0275\u0275pipe"](41,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](42,"button",17),p["\u0275\u0275listener"]("click",(function(){return t.downloadPayslipReport()})),p["\u0275\u0275text"](43),p["\u0275\u0275pipe"](44,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](45,ce,2,1,"div",18),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275property"]("ngIf",t.loading),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](5,20,"REPORT.INDEX.SALARYREPORTTITLE")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("formGroup",t.salaryReportFilterFormGroup),p["\u0275\u0275advance"](5),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](12,22,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](14,24,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngForOf",t.companies),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("value",t.financialYearId),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",t.financialYears),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.financialYearId.errors&&t.f.financialYearId.errors.required),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("value",t.monthCycleId),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",t.monthCycles),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.monthCycleId.errors&&t.f.monthCycleId.errors.required),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("value",t.employeeId)("disabled",!t.payrollManager),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",t.employees),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.employeeId.errors&&t.f.employeeId.errors.required),p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](41,26,"REPORT.INDEX.BUTTONTEXT.SALARY_REPORT_PDF_REPORT"),""),p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](44,28,"REPORT.INDEX.BUTTONTEXT.PAY_SLIP_REPORT_PDF"),""),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",t.submitted&&t.pdfUrl))},directives:[r.t,a.I,a.t,a.k,c.c,c.g,E.a,a.s,a.j,r.s,f.m,c.b],pipes:[y.d],styles:[""]}),e})();var ue=n("LlkH");function Ee(e,t){1&e&&p["\u0275\u0275element"](0,"div",25)}function fe(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",26),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.companyName," ")}}function ye(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1,"Company is required"),p["\u0275\u0275elementEnd"]())}function ve(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"translate"),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT")))}function Ie(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"translate"),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT")))}function ge(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",26),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.leaveTypeName),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.leaveTypeName," ")}}function Ce(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",26),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function Re(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",26),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.fullName),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.fullName," ")}}function Ae(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",27),p["\u0275\u0275elementStart"](1,"mat-form-field",8),p["\u0275\u0275elementStart"](2,"mat-label"),p["\u0275\u0275text"](3),p["\u0275\u0275pipe"](4,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](5,"mat-select",28),p["\u0275\u0275listener"]("selectionChange",(function(t){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().onChangeEmployee(t)})),p["\u0275\u0275pipe"](6,"translate"),p["\u0275\u0275template"](7,Re,2,2,"mat-option",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}if(2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](4,3,"LEAVE.LEAVEBALANCE.INDEX.EMPLOYEE.PLACEHOLDER")),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](6,5,"LEAVE.LEAVEBALANCE.INDEX.EMPLOYEE.PLACEHOLDER")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngForOf",e.employees)}}function Se(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",29),p["\u0275\u0275element"](1,"iframe",30),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("src",e.pdfUrl,p["\u0275\u0275sanitizeResourceUrl"])}}const be=function(e){return{"is-invalid":e}};let Te=(()=>{class e{constructor(e,t,n,r,a,i,l,o){this.formBuilder=e,this.datePipe=t,this.companyService=n,this.employeeService=r,this.authService=a,this.leaveReportService=i,this.sanitize=l,this.leaveTypeService=o,this.companyId=localStorage.getItem("companyId"),this.leaveApplications=[],this.searched=!1,this.userId=localStorage.getItem("userId"),this.statuses=[{id:"null",name:"All"},{id:3,name:"Approved"},{name:"Declined",id:9},{name:"Pending",id:1}],this.isEmployee=this.authService.isEmployee,this.isAdmin=this.authService.isAdmin,this.employeeId=this.authService.getLoggedInUserInfo().employeeId}ngOnInit(){this.buildForm(),this.getAllCompanies(),this.getAllLeaveTypeByCompanyId(),this.getAllEmployees()}buildForm(){this.leaveReportFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,[a.G.required]],startDate:[this.startDate,[a.G.required]],endDate:[this.endDate,[a.G.required]],statusId:["null"],leaveTypeName:[this.leaveTypeName],employeeName:[this.employeeName]})}getAllCompanies(){this.companyService.getAllCompanies().subscribe(e=>{this.companies=e})}get f(){return this.leaveReportFilterFormGroup.controls}onSubmit(){this.submitted=!0,this.leaveReportFilterFormGroup.invalid||this.createAndGetLeaveReport()}createAndGetLeaveReport(){this.loading=!0,this.leaveReport=new ue.a(this.leaveReportFilterFormGroup.value),this.leaveReport.employeeName=this.employeeName,this.leaveReport.approvalStatusText=this.statusType,this.leaveReport.leaveTypeName=this.leaveTypeName,this.leaveReport.startDate=this.datePipe.transform(new Date(this.leaveReport.startDate),"yyyy-MM-dd"),this.leaveReport.endDate=this.datePipe.transform(new Date(this.leaveReport.endDate),"yyyy-MM-dd"),this.leaveReportSubscription=this.leaveReportService.createLeavePdfReport(this.leaveReport).subscribe(e=>{this.loading=!1,this.pdfUrl=this.sanitize.bypassSecurityTrustResourceUrl(e.printPdfUrl)},()=>{this.loading=!1})}getAllEmployees(){this.loading=!0,this.employeeService.getAllEmployees().subscribe(e=>{this.employees=e,this.employees.unshift({fullName:"All",id:"null"}),this.loading=!1},()=>{this.loading=!1})}onChangeCompany(e){this.companyId=e,this.leaveReport.companyId=e}onChangeEmployee(e){this.employeeName=e.value}onChangeStatus(e){this.statusType=e.value}onChangeLeaveTypeName(e){this.leaveTypeName=e.value}getAllLeaveTypeByCompanyId(){this.loading=!0,this.leaveTypeService.getAllLeaveTypeByCompanyIdForCombo(this.companyId).subscribe(e=>{this.leaveTypes=e,this.loading=!1,this.leaveTypes.unshift({leaveTypeName:"All"})},()=>{this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](a.g),p["\u0275\u0275directiveInject"](r.f),p["\u0275\u0275directiveInject"](s.u),p["\u0275\u0275directiveInject"](s.U),p["\u0275\u0275directiveInject"](i.a),p["\u0275\u0275directiveInject"](s.gb),p["\u0275\u0275directiveInject"](d.b),p["\u0275\u0275directiveInject"](s.hb))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["app-leave-report"]],decls:57,vars:41,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-sm-12","col-md-6"],["id","tableLabel"],[1,"col-lg-2","col-md-6","col-sm-10"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-2","col-sm-6","col-md-3"],["appearance","outline"],["formControlName","companyId",3,"placeholder","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","startDate","placeholder","Start Date",3,"matDatepicker","ngClass","click"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","endDate",3,"matDatepicker","placeholder","ngClass","click"],["endDatePicker",""],[1,"col-lg-2","col-sm-2","col-md-3"],["placeholder","Leave Type Name",3,"selectionChange"],[1,"col-lg-1","col-sm-12","col-md-3"],["placeholder","Status","formControlName","statusId",3,"selectionChange"],["class","col-lg-1 col-sm-2 col-md-3",4,"ngIf"],[1,"col-sm-1","col-md-1","text-right","pt-2"],["type","submit",1,"btn","btn-success"],["class","mt-5",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"],[1,"col-lg-1","col-sm-2","col-md-3"],["id","employeeName",3,"placeholder","selectionChange"],[1,"mt-5"],[2,"width","100%","height","600px",3,"src"]],template:function(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275template"](0,Ee,1,0,"div",0),p["\u0275\u0275elementStart"](1,"div",1),p["\u0275\u0275elementStart"](2,"div",2),p["\u0275\u0275elementStart"](3,"h1",3),p["\u0275\u0275text"](4),p["\u0275\u0275pipe"](5,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](6,"div",4),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](7,"form",5),p["\u0275\u0275listener"]("ngSubmit",(function(){return t.onSubmit()})),p["\u0275\u0275elementStart"](8,"div",6),p["\u0275\u0275elementStart"](9,"div",7),p["\u0275\u0275elementStart"](10,"mat-form-field",8),p["\u0275\u0275elementStart"](11,"mat-label"),p["\u0275\u0275text"](12),p["\u0275\u0275pipe"](13,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](14,"mat-select",9),p["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeCompany(e.value)})),p["\u0275\u0275pipe"](15,"translate"),p["\u0275\u0275template"](16,fe,2,2,"mat-option",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](17,ye,2,0,"mat-error",11),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](18,"div",7),p["\u0275\u0275elementStart"](19,"mat-form-field",8),p["\u0275\u0275elementStart"](20,"mat-label"),p["\u0275\u0275text"](21),p["\u0275\u0275pipe"](22,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](23,"input",12),p["\u0275\u0275listener"]("click",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275reference"](26).open()})),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](24,"mat-datepicker-toggle",13),p["\u0275\u0275element"](25,"mat-datepicker",null,14),p["\u0275\u0275template"](27,ve,3,3,"mat-error",11),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](28,"div",7),p["\u0275\u0275elementStart"](29,"mat-form-field",8),p["\u0275\u0275elementStart"](30,"mat-label"),p["\u0275\u0275text"](31),p["\u0275\u0275pipe"](32,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](33,"input",15),p["\u0275\u0275listener"]("click",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275reference"](37).open()})),p["\u0275\u0275pipe"](34,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](35,"mat-datepicker-toggle",13),p["\u0275\u0275element"](36,"mat-datepicker",null,16),p["\u0275\u0275template"](38,Ie,3,3,"mat-error",11),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](39,"div",17),p["\u0275\u0275elementStart"](40,"mat-form-field",8),p["\u0275\u0275elementStart"](41,"mat-label"),p["\u0275\u0275text"](42,"Leave Type Name"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](43,"mat-select",18),p["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeLeaveTypeName(e)})),p["\u0275\u0275template"](44,ge,2,2,"mat-option",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](45,"div",19),p["\u0275\u0275elementStart"](46,"mat-form-field",8),p["\u0275\u0275elementStart"](47,"mat-label"),p["\u0275\u0275text"](48,"Status"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](49,"mat-select",20),p["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeStatus(e)})),p["\u0275\u0275template"](50,Ce,2,2,"mat-option",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](51,Ae,8,7,"div",21),p["\u0275\u0275elementStart"](52,"div",22),p["\u0275\u0275elementStart"](53,"button",23),p["\u0275\u0275text"](54),p["\u0275\u0275pipe"](55,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](56,Se,2,1,"div",24),p["\u0275\u0275elementEnd"]()}if(2&e){const e=p["\u0275\u0275reference"](26),n=p["\u0275\u0275reference"](37);p["\u0275\u0275property"]("ngIf",t.loading),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](5,23,"REPORT.INDEX.LEAVEREPORTTITLE")),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("formGroup",t.leaveReportFilterFormGroup),p["\u0275\u0275advance"](5),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](13,25,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](15,27,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngForOf",t.companies),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](22,29,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("matDatepicker",e)("ngClass",p["\u0275\u0275pureFunction1"](37,be,t.f.startDate.errors)),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("for",e),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startDate.errors&&t.f.startDate.errors.required),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](32,31,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](34,33,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),p["\u0275\u0275property"]("matDatepicker",n)("ngClass",p["\u0275\u0275pureFunction1"](39,be,t.f.endDate.errors)),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("for",n),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endDate.errors&&t.f.endDate.errors.required),p["\u0275\u0275advance"](6),p["\u0275\u0275property"]("ngForOf",t.leaveTypes),p["\u0275\u0275advance"](6),p["\u0275\u0275property"]("ngForOf",t.statuses),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.isAdmin),p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](55,35,"COMMON.SEARCHTEXT")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",t.submitted&&t.pdfUrl)}},directives:[r.t,a.I,a.t,a.k,c.c,c.g,E.a,a.s,a.j,r.s,h.b,a.d,u.h,r.q,u.j,c.j,u.f,f.m,c.b],pipes:[y.d],styles:[""]}),e})();function Oe(e,t){1&e&&p["\u0275\u0275element"](0,"div",17)}function De(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",18),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.companyName," ")}}function xe(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1,"Company is required "),p["\u0275\u0275elementEnd"]())}function Fe(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275elementStart"](1,"mat-option",18),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275propertyInterpolate"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate"](e.fullName)}}function Le(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"translate"),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](2,1,"COMMON.SELECT.EMPLOYEEID.REQUIERED_ERROR_TEXT"),""))}function Pe(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",18),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.financialYearName," ")}}function Ne(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1,"Financial Year is required"),p["\u0275\u0275elementEnd"]())}function Me(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",18),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.monthCycleName," ")}}function Be(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1,"Month Cycle is required"),p["\u0275\u0275elementEnd"]())}let we=(()=>{class e{constructor(e,t,n,r,a,i,l,o,s,m,p,d){this.formBuilder=e,this.alertService=t,this.injector=n,this.datePipe=r,this.attendanceReportService=a,this.billClaimReportService=i,this.companyService=l,this.employeeService=o,this.authService=s,this.financialYearService=m,this.monthCycleService=p,this.salaryReportService=d,this.companyId=localStorage.getItem("companyId"),this.loading=!1,this.submitted=!1}ngOnInit(){this.buildForm(),this.getAllCompanies(),this.onChangeCompany(this.companyId),this.getAllEmployees()}onChangeEmployee(e){this.employeeId=e.value}getAllEmployees(){this.employeeService.getAllEmployees().subscribe(e=>{this.employees=e,this.employees.unshift({id:o.cb.empty,fullName:"Select All Employee"})})}buildForm(){this.payslipReportFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,[a.G.required]],financialYearId:[this.financialYearId,[a.G.required]],monthCycleId:[this.monthCycleId,[a.G.required]],employeeId:[this.employeeId]})}get f(){return this.payslipReportFilterFormGroup.controls}getAllCompanies(){this.companyService.getAllCompanies().subscribe(e=>{this.companies=e})}onChangeMonthCycle(e){this.monthCycleId=e.value}onChangeFinancialYears(e){var t=e.value;this.financialYearId=t,t&&this.getAllMonthCycleByCompanyIdAndFinancialYear()}onChangeCompany(e){this.companyId=e,e&&this.getAllFinancialYearByCompanyId()}getAllFinancialYearByCompanyId(){this.financialYearService.getAllFinancialYearByCompanyId(this.companyId).subscribe(e=>{this.financialYears=e})}getAllMonthCycleByCompanyIdAndFinancialYear(){this.monthCycleService.getMonthCycleByCompanyAndFinancialYear(this.companyId,this.financialYearId).subscribe(e=>{this.monthCycles=e})}onSubmit(){this.submitted=!0,this.payslipReportFilterFormGroup.invalid||this.createAndGetPayslipReport()}createAndGetPayslipReport(){this.payslipReport=new o.sb(this.payslipReportFilterFormGroup.value),this.loading=!0,this.salaryReportService.createPayslipPdfReport(this.payslipReport).subscribe(e=>{this.loading=!1,window.open(e.printPdfUrl)},()=>{this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](a.g),p["\u0275\u0275directiveInject"](m.a),p["\u0275\u0275directiveInject"](p.Injector),p["\u0275\u0275directiveInject"](r.f),p["\u0275\u0275directiveInject"](s.b),p["\u0275\u0275directiveInject"](s.l),p["\u0275\u0275directiveInject"](s.u),p["\u0275\u0275directiveInject"](s.U),p["\u0275\u0275directiveInject"](i.a),p["\u0275\u0275directiveInject"](s.Y),p["\u0275\u0275directiveInject"](s.ib),p["\u0275\u0275directiveInject"](s.nb))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["app-pay-slip-report"]],decls:41,vars:25,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-sm-12","col-md-12"],["id","tableLabel"],[3,"formGroup"],[1,"row"],[1,"col-4"],["appearance","outline"],["formControlName","companyId",3,"placeholder","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","employeeId","placeholder","Select Employee",3,"value","valueChange","selectionChange"],[4,"ngFor","ngForOf"],["placeholder","Financial Year","formControlName","financialYearId",3,"value","selectionChange"],["placeholder","Month Cycle","formControlName","monthCycleId",3,"value","selectionChange"],[1,"col-12","col-md-12","col-lg-3","p-0"],["type","submit",1,"btn","btn-success",2,"font-size","smaller",3,"click"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"]],template:function(e,t){1&e&&(p["\u0275\u0275template"](0,Oe,1,0,"div",0),p["\u0275\u0275elementStart"](1,"div",1),p["\u0275\u0275elementStart"](2,"div",2),p["\u0275\u0275elementStart"](3,"h1",3),p["\u0275\u0275text"](4),p["\u0275\u0275pipe"](5,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"form",4),p["\u0275\u0275elementStart"](7,"div",5),p["\u0275\u0275elementStart"](8,"div",6),p["\u0275\u0275elementStart"](9,"mat-form-field",7),p["\u0275\u0275elementStart"](10,"mat-label"),p["\u0275\u0275text"](11),p["\u0275\u0275pipe"](12,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](13,"mat-select",8),p["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeCompany(e.value)})),p["\u0275\u0275pipe"](14,"translate"),p["\u0275\u0275template"](15,De,2,2,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](16,xe,2,0,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](17,"div",6),p["\u0275\u0275elementStart"](18,"mat-form-field",7),p["\u0275\u0275elementStart"](19,"mat-select",11),p["\u0275\u0275listener"]("valueChange",(function(e){return t.employeeId=e}))("selectionChange",(function(e){return t.onChangeEmployee(e)})),p["\u0275\u0275template"](20,Fe,3,2,"ng-container",12),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](21,Le,3,3,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](22,"div",5),p["\u0275\u0275elementStart"](23,"div",6),p["\u0275\u0275elementStart"](24,"mat-form-field",7),p["\u0275\u0275elementStart"](25,"mat-label"),p["\u0275\u0275text"](26,"Financial Year"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](27,"mat-select",13),p["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeFinancialYears(e)})),p["\u0275\u0275template"](28,Pe,2,2,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](29,Ne,2,0,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](30,"div",6),p["\u0275\u0275elementStart"](31,"mat-form-field",7),p["\u0275\u0275elementStart"](32,"mat-label"),p["\u0275\u0275text"](33,"Month Cycle"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](34,"mat-select",14),p["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeMonthCycle(e)})),p["\u0275\u0275template"](35,Me,2,2,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](36,Be,2,0,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](37,"div",15),p["\u0275\u0275elementStart"](38,"button",16),p["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),p["\u0275\u0275text"](39),p["\u0275\u0275pipe"](40,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275property"]("ngIf",t.loading),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](5,17,"REPORT.INDEX.PAYSLIPREPORT")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("formGroup",t.payslipReportFilterFormGroup),p["\u0275\u0275advance"](5),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](12,19,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](14,21,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngForOf",t.companies),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("value",t.employeeId),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",t.employees),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.employeeId.errors&&t.f.employeeId.errors.required),p["\u0275\u0275advance"](6),p["\u0275\u0275property"]("value",t.financialYearId),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",t.financialYears),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.financialYearId.errors&&t.f.financialYearId.errors.required),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("value",t.monthCycleId),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",t.monthCycles),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.monthCycleId.errors&&t.f.monthCycleId.errors.required),p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](40,23,"REPORT.INDEX.BUTTONTEXT.PAY_SLIP_REPORT_PDF"),""))},directives:[r.t,a.I,a.t,a.k,c.c,c.g,E.a,a.s,a.j,r.s,f.m,c.b],pipes:[y.d],styles:[""]}),e})();var Ye=n("tk/3");function ke(e,t){1&e&&p["\u0275\u0275element"](0,"div",22)}function Ue(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",23),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.companyName," ")}}function Ge(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1,"Company is required "),p["\u0275\u0275elementEnd"]())}function je(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275elementStart"](1,"mat-option",23),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275propertyInterpolate"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate"](e.fullName)}}function _e(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"translate"),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](2,1,"COMMON.SELECT.EMPLOYEEID.REQUIERED_ERROR_TEXT"),""))}function qe(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"translate"),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT")," "))}function ze(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"translate"),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT")," "))}function Ve(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275elementStart"](1,"div",24),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate1"](" ",e.errorMessages," ")}}function He(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",25),p["\u0275\u0275element"](1,"iframe",26),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("src",e.pdfUrl,p["\u0275\u0275sanitizeResourceUrl"])}}const Xe=function(e){return{"is-invalid":e}};function Ke(e,t){1&e&&p["\u0275\u0275element"](0,"div",19)}function $e(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",20),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.companyName," ")}}function Qe(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1,"Company is required "),p["\u0275\u0275elementEnd"]())}function Je(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",20),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.financialYearName," ")}}function We(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1,"Financial Year is required"),p["\u0275\u0275elementEnd"]())}function Ze(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",20),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.lookUpTypeName," ")}}function et(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1," Bonus Type is required"),p["\u0275\u0275elementEnd"]())}function tt(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275elementStart"](1,"mat-option",20),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275propertyInterpolate"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate"](e.fullName)}}function nt(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"translate"),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](2,1,"COMMON.SELECT.EMPLOYEEID.REQUIERED_ERROR_TEXT"),""))}function rt(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",21),p["\u0275\u0275element"](1,"iframe",22),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("src",e.pdfUrl,p["\u0275\u0275sanitizeResourceUrl"])}}function at(e,t){1&e&&p["\u0275\u0275element"](0,"div",20)}function it(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",21),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.companyName," ")}}function lt(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1,"Company is required "),p["\u0275\u0275elementEnd"]())}function ot(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",21),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.value," ")}}function st(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1," Type is required"),p["\u0275\u0275elementEnd"]())}function mt(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"translate"),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT")," "))}function pt(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"translate"),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT")," "))}function dt(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",22),p["\u0275\u0275element"](1,"iframe",23),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("src",e.pdfUrl,p["\u0275\u0275sanitizeResourceUrl"])}}const ct=function(e){return{"is-invalid":e}};function ht(e,t){1&e&&p["\u0275\u0275element"](0,"div",19)}function ut(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",20),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.companyName," ")}}function Et(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1,"Company is required "),p["\u0275\u0275elementEnd"]())}function ft(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"translate"),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT")," "))}function yt(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"translate"),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT")," "))}function vt(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",21),p["\u0275\u0275element"](1,"iframe",22),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("src",e.pdfUrl,p["\u0275\u0275sanitizeResourceUrl"])}}const It=function(e){return{"is-invalid":e}};function gt(e,t){1&e&&p["\u0275\u0275element"](0,"div",22)}function Ct(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",23),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.companyName," ")}}function Rt(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1,"Company is required "),p["\u0275\u0275elementEnd"]())}function At(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",23),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.branchName," ")}}function St(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",6),p["\u0275\u0275elementStart"](1,"mat-form-field",7),p["\u0275\u0275elementStart"](2,"mat-label"),p["\u0275\u0275text"](3,"Branch"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](4,"mat-select",24),p["\u0275\u0275listener"]("selectionChange",(function(t){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().onChangeBranch(t.value)}))("valueChange",(function(t){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().branchId=t})),p["\u0275\u0275template"](5,At,2,2,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}if(2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("value",e.branchId),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",e.branches)}}function bt(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",23),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.departmentName," ")}}function Tt(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",6),p["\u0275\u0275elementStart"](1,"mat-form-field",7),p["\u0275\u0275elementStart"](2,"mat-label"),p["\u0275\u0275text"](3,"Department"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](4,"mat-select",25),p["\u0275\u0275listener"]("selectionChange",(function(t){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().onChangeDepartment(t.value)}))("valueChange",(function(t){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().departmentId=t})),p["\u0275\u0275template"](5,bt,2,2,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}if(2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("value",e.departmentId),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",e.departments)}}function Ot(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",23),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate2"](" ",e.designationName," - ",e.departmentName," ")}}function Dt(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1,"Designation is required "),p["\u0275\u0275elementEnd"]())}function xt(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",6),p["\u0275\u0275elementStart"](1,"mat-form-field",7),p["\u0275\u0275elementStart"](2,"mat-label"),p["\u0275\u0275text"](3),p["\u0275\u0275pipe"](4,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](5,"mat-select",26),p["\u0275\u0275listener"]("selectionChange",(function(t){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().onChangeDesignation(t.value)})),p["\u0275\u0275pipe"](6,"translate"),p["\u0275\u0275template"](7,Ot,2,3,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](8,Dt,2,0,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}if(2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](4,4,"COMMON.SELECT.DESIGNATIONID.PLACEHOLDER")),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](6,6,"COMMON.SELECT.DESIGNATIONID.PLACEHOLDER")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngForOf",e.designations),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",e.submitted&&e.f.designationId.errors&&e.f.designationId.errors.required)}}function Ft(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",23),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.fullName," ")}}function Lt(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div",6),p["\u0275\u0275elementStart"](1,"mat-form-field",7),p["\u0275\u0275elementStart"](2,"mat-label"),p["\u0275\u0275text"](3,"Employee"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](4,"mat-select",27),p["\u0275\u0275listener"]("selectionChange",(function(t){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().onChangeEmployee(t.value)}))("valueChange",(function(t){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().employeeId=t})),p["\u0275\u0275template"](5,Ft,2,2,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}if(2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("value",e.employeeId),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",e.employees)}}function Pt(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"translate"),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT")," "))}function Nt(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"translate"),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT")," "))}function Mt(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",23),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function Bt(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1," Status is required "),p["\u0275\u0275elementEnd"]())}function wt(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275elementStart"](1,"div",28),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate1"](" ",e.errorMessages," ")}}function Yt(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",29),p["\u0275\u0275element"](1,"iframe",30),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("src",e.pdfUrl,p["\u0275\u0275sanitizeResourceUrl"])}}const kt=function(e){return{"is-invalid":e}};function Ut(e,t){1&e&&p["\u0275\u0275element"](0,"div",19)}function Gt(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",20),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.companyName," ")}}function jt(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1,"Company is required "),p["\u0275\u0275elementEnd"]())}function _t(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"translate"),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT")," "))}function qt(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"translate"),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT")," "))}function zt(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",21),p["\u0275\u0275element"](1,"iframe",22),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("src",e.pdfUrl,p["\u0275\u0275sanitizeResourceUrl"])}}const Vt=function(e){return{"is-invalid":e}};function Ht(e,t){1&e&&p["\u0275\u0275element"](0,"div",16)}function Xt(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",17),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.companyName," ")}}function Kt(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1,"Company is required "),p["\u0275\u0275elementEnd"]())}function $t(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",17),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.financialYearName," ")}}function Qt(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1,"Financial Year is required"),p["\u0275\u0275elementEnd"]())}function Jt(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",17),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.monthCycleName," ")}}function Wt(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1,"Month Cycle is required "),p["\u0275\u0275elementEnd"]())}function Zt(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",18),p["\u0275\u0275element"](1,"iframe",19),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("src",e.pdfUrl,p["\u0275\u0275sanitizeResourceUrl"])}}function en(e,t){1&e&&p["\u0275\u0275element"](0,"div",23)}function tn(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",24),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e.id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.companyName," ")}}function nn(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1,"Company is required "),p["\u0275\u0275elementEnd"]())}function rn(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"translate"),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT")," "))}function an(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"translate"),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT")," "))}function ln(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-error"),p["\u0275\u0275elementStart"](1,"div",25),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate1"](" ",e.errorMessages," ")}}function on(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",26),p["\u0275\u0275element"](1,"iframe",27),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("src",e.pdfUrl,p["\u0275\u0275sanitizeResourceUrl"])}}const sn=function(e){return{"is-invalid":e}},mn=[{path:"attendance-report",component:ne,canActivate:[B.a],data:{roles:["Administrators","SystemAdmin","EmployeeRole"]}},{path:"attendance",component:N,canActivate:[B.a],data:{roles:["Administrators","SystemAdmin","EmployeeRole"]}},{path:"salary",component:he,canActivate:[B.a],data:{roles:["Administrators","SystemAdmin","EmployeeRole","PayrollManager"]}},{path:"leave",component:Te,canActivate:[B.a],data:{roles:["Administrators","SystemAdmin"]}},{path:"payslip",component:we,canActivate:[B.a],data:{roles:["Administrators","SystemAdmin","EmployeeRole","PayrollManager"]}},{path:"bill",component:(()=>{class e{constructor(e,t,n,r,a,i,l,s,m,p,d){this.formBuilder=e,this.alertService=t,this.injector=n,this.datePipe=r,this.attendanceReportService=a,this.billClaimReportService=i,this.companyService=l,this.employeeService=s,this.authService=m,this.sanitize=p,this.http=d,this.companyId=localStorage.getItem("companyId"),this.employeeId=o.cb.empty,this.isEmployee=this.authService.isEmployee,this.isAdmin=this.authService.isAdmin,this.isAdmin||(this.employeeId=this.authService.getLoggedInUserInfo().employeeId)}ngOnInit(){this.buildForm(),this.getAllCompanies(),this.getAllEmployees()}buildForm(){this.reportFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,[a.G.required]],startTime:[this.startTime,[a.G.required]],endTime:[this.endTime,[a.G.required]],employeeId:[this.employeeId]})}getAllCompanies(){this.companyService.getAllCompanies().subscribe(e=>{this.companies=e})}getAllEmployees(){this.employeeService.getAllEmployees().subscribe(e=>{this.employees=e,this.employees.unshift({id:o.cb.empty,fullName:"Select All Employee"})})}get f(){return this.reportFilterFormGroup.controls}downloadBillClaimReport(){this.submitted=!0,this.reportFilterFormGroup.invalid||(this.billClaimReport=new o.p(this.reportFilterFormGroup.value),this.billClaimReport.startTime=this.datePipe.transform(new Date(this.billClaimReport.startTime),"yyyy-MM-dd"),this.billClaimReport.endTime=this.datePipe.transform(new Date(this.billClaimReport.endTime),"yyyy-MM-dd"),this.loading=!0,this.billClaimReportService.createBillClaimReport(this.billClaimReport).subscribe(e=>{this.generateExcel(e,"Bill-Claim-Report"),this.loading=!1,this.submitted=!1},e=>{this.loading=!1,this.submitted=!1}))}generateExcel(e,t){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(e.body,t);else{const n=window.URL.createObjectURL(e.body),r=document.createElement("a");document.body.appendChild(r),r.setAttribute("style","display: none"),r.href=n,r.download=t,r.click(),window.URL.revokeObjectURL(n),r.remove()}}downloadBillClaimPdfReport(){this.submitted=!0,this.reportFilterFormGroup.invalid||(this.billClaimReport=new o.p(this.reportFilterFormGroup.value),this.billClaimReport.startTime=this.datePipe.transform(new Date(this.billClaimReport.startTime),"yyyy-MM-dd"),this.billClaimReport.endTime=this.datePipe.transform(new Date(this.billClaimReport.endTime),"yyyy-MM-dd"),this.loading=!0,this.billClaimReportService.createBillClaimePdfReport(this.billClaimReport).subscribe(e=>{this.loading=!1,this.pdfUrl=this.sanitize.bypassSecurityTrustResourceUrl(e.printPdfUrl)},()=>{this.loading=!1}))}onChangeEmployee(e){this.employeeId=e.value}downloadEmployeeBillClaimReport(){this.billClaimReport=new o.p(this.reportFilterFormGroup.value),this.billClaimReport.startTime=this.datePipe.transform(new Date(this.billClaimReport.startTime),"yyyy-MM-dd"),this.billClaimReport.endTime=this.datePipe.transform(new Date(this.billClaimReport.endTime),"yyyy-MM-dd"),this.loading=!0,this.billClaimReportService.createBillClaimePdfReport(this.billClaimReport).subscribe(e=>{this.loading=!1,this.pdfUrl=this.sanitize.bypassSecurityTrustResourceUrl(e.printPdfUrl)},()=>{this.loading=!1})}downloadAttendanceSummaryReport(){this.submitted=!0,this.reportFilterFormGroup.invalid||(this.attendanceReport=new o.h(this.reportFilterFormGroup.value),this.attendanceReport.startTime=this.datePipe.transform(new Date(this.attendanceReport.startTime),"yyyy-MM-dd"),this.attendanceReport.endTime=this.datePipe.transform(new Date(this.attendanceReport.endTime),"yyyy-MM-dd"),this.loading=!0,this.attendanceReportService.createAttendanceSummaryPdfReport(this.attendanceReport).subscribe(e=>{this.loading=!1,this.pdfUrl=this.sanitize.bypassSecurityTrustResourceUrl(e.printPdfUrl)},()=>{this.loading=!1,this.submitted=!1}))}}return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](a.g),p["\u0275\u0275directiveInject"](m.a),p["\u0275\u0275directiveInject"](p.Injector),p["\u0275\u0275directiveInject"](r.f),p["\u0275\u0275directiveInject"](s.b),p["\u0275\u0275directiveInject"](s.l),p["\u0275\u0275directiveInject"](s.u),p["\u0275\u0275directiveInject"](s.U),p["\u0275\u0275directiveInject"](i.a),p["\u0275\u0275directiveInject"](d.b),p["\u0275\u0275directiveInject"](Ye.b))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["app-bill-report"]],decls:53,vars:50,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-12"],["id","tableLabel"],[3,"formGroup"],[1,"row"],[1,"col-sm-3","col-md-3","col-12"],["appearance","outline"],["formControlName","companyId",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","employeeId","placeholder","Select Employee",3,"value","disabled","valueChange","selectionChange"],[4,"ngFor","ngForOf"],["matInput","","formControlName","startTime",3,"matDatepicker","placeholder","ngClass","click"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","endTime",3,"matDatepicker","value","placeholder","ngClass","click","valueChange"],["endDatePicker",""],[1,"row","justify-content-center"],["type","submit",1,"btn","btn-success","mr-5",2,"font-size","12px",3,"click"],["type","submit",1,"btn","btn-success",2,"font-size","12px",3,"click"],["class","mt-5",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"],[1,"d-flex","mx-auto"],[1,"mt-5"],[2,"width","100%","height","600px",3,"src"]],template:function(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275template"](0,ke,1,0,"div",0),p["\u0275\u0275elementStart"](1,"div",1),p["\u0275\u0275elementStart"](2,"div",2),p["\u0275\u0275elementStart"](3,"h1",3),p["\u0275\u0275text"](4),p["\u0275\u0275pipe"](5,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"form",4),p["\u0275\u0275elementStart"](7,"div",5),p["\u0275\u0275elementStart"](8,"div",6),p["\u0275\u0275elementStart"](9,"mat-form-field",7),p["\u0275\u0275elementStart"](10,"mat-label"),p["\u0275\u0275text"](11),p["\u0275\u0275pipe"](12,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](13,"mat-select",8),p["\u0275\u0275pipe"](14,"translate"),p["\u0275\u0275template"](15,Ue,2,2,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](16,Ge,2,0,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](17,"div",6),p["\u0275\u0275elementStart"](18,"mat-form-field",7),p["\u0275\u0275elementStart"](19,"mat-select",11),p["\u0275\u0275listener"]("valueChange",(function(e){return t.employeeId=e}))("selectionChange",(function(e){return t.onChangeEmployee(e)})),p["\u0275\u0275template"](20,je,3,2,"ng-container",12),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](21,_e,3,3,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](22,"div",6),p["\u0275\u0275elementStart"](23,"mat-form-field",7),p["\u0275\u0275elementStart"](24,"mat-label"),p["\u0275\u0275text"](25),p["\u0275\u0275pipe"](26,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](27,"input",13),p["\u0275\u0275listener"]("click",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275reference"](31).open()})),p["\u0275\u0275pipe"](28,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](29,"mat-datepicker-toggle",14),p["\u0275\u0275element"](30,"mat-datepicker",null,15),p["\u0275\u0275template"](32,qe,3,3,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](33,"div",6),p["\u0275\u0275elementStart"](34,"mat-form-field",7),p["\u0275\u0275elementStart"](35,"mat-label"),p["\u0275\u0275text"](36),p["\u0275\u0275pipe"](37,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](38,"input",16),p["\u0275\u0275listener"]("click",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275reference"](42).open()}))("valueChange",(function(e){return t.endTime=e})),p["\u0275\u0275pipe"](39,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](40,"mat-datepicker-toggle",14),p["\u0275\u0275element"](41,"mat-datepicker",null,17),p["\u0275\u0275template"](43,ze,3,3,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](44,"div",18),p["\u0275\u0275elementStart"](45,"button",19),p["\u0275\u0275listener"]("click",(function(){return t.downloadBillClaimReport()})),p["\u0275\u0275text"](46),p["\u0275\u0275pipe"](47,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](48,"button",20),p["\u0275\u0275listener"]("click",(function(){return t.downloadBillClaimPdfReport()})),p["\u0275\u0275text"](49),p["\u0275\u0275pipe"](50,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](51,Ve,3,1,"mat-error",10),p["\u0275\u0275template"](52,He,2,1,"div",21),p["\u0275\u0275elementEnd"]()}if(2&e){const e=p["\u0275\u0275reference"](31),n=p["\u0275\u0275reference"](42);p["\u0275\u0275property"]("ngIf",t.loading),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](5,28,"REPORT.INDEX.BILLCLAIMREPORTTITLE")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("formGroup",t.reportFilterFormGroup),p["\u0275\u0275advance"](5),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](12,30,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](14,32,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngForOf",t.companies),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("value",t.employeeId)("disabled",!t.isAdmin),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",t.employees),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.employeeId.errors&&t.f.employeeId.errors.required),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](26,34,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")," "),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](28,36,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),p["\u0275\u0275property"]("matDatepicker",e)("ngClass",p["\u0275\u0275pureFunction1"](46,Xe,t.f.startTime.errors)),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("for",e),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startTime.errors&&t.f.startTime.errors.required),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](37,38,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")," "),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](39,40,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),p["\u0275\u0275property"]("matDatepicker",n)("value",t.endTime)("ngClass",p["\u0275\u0275pureFunction1"](48,Xe,t.f.endTime.errors)),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("for",n),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endTime.errors&&t.f.endTime.errors.required),p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](47,42,"REPORT.INDEX.BUTTONTEXT.BILL_CLAIM_EXCEL_REPORT"),""),p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](50,44,"REPORT.INDEX.BUTTONTEXT.BILL_CLAIM_PDF_REPORT"),""),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",!t.isFormValid),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.pdfUrl)}},directives:[r.t,a.I,a.t,a.k,c.c,c.g,E.a,a.s,a.j,r.s,h.b,a.d,u.h,r.q,u.j,c.j,u.f,f.m,c.b],pipes:[y.d],styles:[""]}),e})(),canActivate:[B.a],data:{roles:["Administrators","SystemAdmin","EmployeeRole"]}},{path:"bonus",component:(()=>{class e{constructor(e,t,n,r,a,i,l,o){this.formBuilder=e,this.companyService=t,this.authService=n,this.financialYearService=r,this.commonLookUpTypeService=a,this.bonusReportService=i,this.employeeService=l,this.sanitize=o,this.companyId=localStorage.getItem("companyId"),this.loading=!1,this.downloaded=!1,this.isEmployee=this.authService.isEmployee,this.payrollManager=this.authService.isPayrollManger,this.isAdmin&&this.payrollManager||(this.employeeId=this.authService.getLoggedInUserInfo().employeeId)}ngOnInit(){this.buildForm(),this.getAllCompanies(),this.getBonusTypes(),this.getAllFinancialYearByCompanyId(),this.getAllEmployees()}getAllCompanies(){this.companyService.getAllCompanies().subscribe(e=>{this.companies=e})}buildForm(){this.bonusReportFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,[a.G.required]],financialYearId:[this.financialYearId,[a.G.required]],bonusTypeId:[this.bonusTypeId,[a.G.required]],employeeId:[this.employeeId]})}getBonusTypes(){this.commonLookUpTypeService.getCommonLookUpTypeByParentCode(this.companyId,"FestivalBonusTypes").subscribe(e=>{this.bonustypes=e},()=>{})}onChangeFinancialYears(e){this.financialYearId=e.value}getAllEmployees(){this.employeeService.getAllEmployees().subscribe(e=>{this.employees=e,this.employees.unshift({id:null,fullName:"Select All Employee"})})}getAllFinancialYearByCompanyId(){this.financialYearService.getAllFinancialYearByCompanyId(this.companyId).subscribe(e=>{this.financialYears=e})}onChangeEmployee(e){this.employeeId=e.value}onSubmit(){this.submitted=!0,this.bonusReportFilterFormGroup.invalid||this.createAndGetBonusReport()}createAndGetBonusReport(){this.loading=!0,this.bonusReport=new o.q(this.bonusReportFilterFormGroup.value),this.bonusReportService.createBonusPdfReport(this.bonusReport).subscribe(e=>{this.loading=!1,this.pdfUrl=this.sanitize.bypassSecurityTrustResourceUrl(e.printPdfUrl)},()=>{})}get f(){return this.bonusReportFilterFormGroup.controls}}return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](a.g),p["\u0275\u0275directiveInject"](s.u),p["\u0275\u0275directiveInject"](i.a),p["\u0275\u0275directiveInject"](s.Y),p["\u0275\u0275directiveInject"](s.p),p["\u0275\u0275directiveInject"](s.n),p["\u0275\u0275directiveInject"](s.U),p["\u0275\u0275directiveInject"](d.b))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["app-bonus-report"]],decls:43,vars:27,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-sm-12","col-md-12"],["id","tableLabel"],[3,"formGroup"],[1,"row"],[1,"col-md-3","col-12"],["appearance","outline"],["formControlName","companyId",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Financial Year","formControlName","financialYearId",3,"value","selectionChange"],[1,"label-font"],["placeholder","Financial Year","formControlName","bonusTypeId",3,"value","valueChange"],["matInput","","formControlName","employeeId","placeholder","Select Employee",3,"value","disabled","valueChange","selectionChange"],[4,"ngFor","ngForOf"],[1,"row","justify-content-center","pt-20"],["type","submit",1,"btn","btn-success","mr-5",3,"click"],["class","mt-5",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"],[1,"mt-5"],[2,"width","100%","height","600px",3,"src"]],template:function(e,t){1&e&&(p["\u0275\u0275template"](0,Ke,1,0,"div",0),p["\u0275\u0275elementStart"](1,"div",1),p["\u0275\u0275elementStart"](2,"div",2),p["\u0275\u0275elementStart"](3,"h1",3),p["\u0275\u0275text"](4),p["\u0275\u0275pipe"](5,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"form",4),p["\u0275\u0275elementStart"](7,"div",5),p["\u0275\u0275elementStart"](8,"div",6),p["\u0275\u0275elementStart"](9,"mat-form-field",7),p["\u0275\u0275elementStart"](10,"mat-label"),p["\u0275\u0275text"](11),p["\u0275\u0275pipe"](12,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](13,"mat-select",8),p["\u0275\u0275pipe"](14,"translate"),p["\u0275\u0275template"](15,$e,2,2,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](16,Qe,2,0,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](17,"div",6),p["\u0275\u0275elementStart"](18,"mat-form-field",7),p["\u0275\u0275elementStart"](19,"mat-label"),p["\u0275\u0275text"](20,"Financial Year"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](21,"mat-select",11),p["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeFinancialYears(e)})),p["\u0275\u0275template"](22,Je,2,2,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](23,We,2,0,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](24,"div",6),p["\u0275\u0275elementStart"](25,"mat-form-field",7),p["\u0275\u0275elementStart"](26,"mat-label",12),p["\u0275\u0275text"](27,"Bonus Type"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](28,"mat-select",13),p["\u0275\u0275listener"]("valueChange",(function(e){return t.bonusTypeId=e})),p["\u0275\u0275template"](29,Ze,2,2,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](30,et,2,0,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](31,"div",6),p["\u0275\u0275elementStart"](32,"mat-form-field",7),p["\u0275\u0275elementStart"](33,"mat-label"),p["\u0275\u0275text"](34,"Employee"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](35,"mat-select",14),p["\u0275\u0275listener"]("valueChange",(function(e){return t.employeeId=e}))("selectionChange",(function(e){return t.onChangeEmployee(e)})),p["\u0275\u0275template"](36,tt,3,2,"ng-container",15),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](37,nt,3,3,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](38,"div",16),p["\u0275\u0275elementStart"](39,"button",17),p["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),p["\u0275\u0275text"](40),p["\u0275\u0275pipe"](41,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](42,rt,2,1,"div",18),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275property"]("ngIf",t.loading),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](5,19,"REPORT.INDEX.BONUSREPORTTITLE")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("formGroup",t.bonusReportFilterFormGroup),p["\u0275\u0275advance"](5),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](12,21,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](14,23,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngForOf",t.companies),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("value",t.financialYearId),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",t.financialYears),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.financialYearId.errors&&t.f.financialYearId.errors.required),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("value",t.bonusTypeId),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",t.bonustypes),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.bonusTypeId.errors&&t.f.bonusTypeId.errors.required),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("value",t.employeeId)("disabled",!t.payrollManager),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",t.employees),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.employeeId.errors&&t.f.employeeId.errors.required),p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](41,25,"REPORT.INDEX.BUTTONTEXT.SALARY_REPORT_PDF_REPORT"),""),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",t.submitted&&t.pdfUrl))},directives:[r.t,a.I,a.t,a.k,c.c,c.g,E.a,a.s,a.j,r.s,f.m,c.b],pipes:[y.d],styles:[""]}),e})(),canActivate:[B.a],data:{roles:["Administrators","SystemAdmin","EmployeeRole"]}},{path:"employee-enroll",component:(()=>{class e{constructor(e,t,n,r,a,i){this.formBuilder=e,this.companyService=t,this.authService=n,this.sanitize=r,this.employeeEnrollmentReportService=a,this.datePipe=i,this.companyId=localStorage.getItem("companyId"),this.loading=!1,this.submitted=!1,this.downloaded=!1,this.types=[{id:10,value:"Join"},{id:20,value:"Quit"}],this.defaultTypeId=10}ngOnInit(){this.buildForm(),this.getAllCompanies(),this.typeId=this.defaultTypeId}buildForm(){this.EmployeeEnrollReportFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,[a.G.required]],startDate:[this.startDate,[a.G.required]],endDate:[this.endDate,[a.G.required]],type:[this.type]})}getAllCompanies(){this.companyService.getAllCompanies().subscribe(e=>{this.companies=e},()=>{})}onSubmit(){this.submitted=!0,this.EmployeeEnrollReportFilterFormGroup.invalid||this.createAndGetEmployeeEnrollReport()}createAndGetEmployeeEnrollReport(){this.employeeEnrollReport=new o.P(this.EmployeeEnrollReportFilterFormGroup.value),this.employeeEnrollReport.startDate=this.datePipe.transform(new Date(this.employeeEnrollReport.startDate),"yyyy-MM-dd"),this.employeeEnrollReport.endDate=this.datePipe.transform(new Date(this.employeeEnrollReport.endDate),"yyyy-MM-dd"),this.loading=!0,this.employeeEnrollmentReportService.createEmployeeEnrollPdfReport(this.employeeEnrollReport).subscribe(e=>{this.pdfUrl=this.sanitize.bypassSecurityTrustResourceUrl(e.printPdfUrl),this.loading=!1},()=>{})}get f(){return this.EmployeeEnrollReportFilterFormGroup.controls}}return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](a.g),p["\u0275\u0275directiveInject"](s.u),p["\u0275\u0275directiveInject"](i.a),p["\u0275\u0275directiveInject"](d.b),p["\u0275\u0275directiveInject"](s.L),p["\u0275\u0275directiveInject"](r.f))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["app-employee-enroll-report"]],decls:50,vars:42,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-sm-12","col-md-12"],["id","tableLabel"],[3,"formGroup"],[1,"row"],[1,"col-md-3","col-12"],["appearance","outline"],["formControlName","companyId",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","type","placeholder","Type",3,"ngModel","ngModelChange"],["matInput","","formControlName","startDate",3,"matDatepicker","placeholder","ngClass","click"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","endDate",3,"matDatepicker","value","placeholder","ngClass","click","valueChange"],["endDatePicker",""],[1,"row","justify-content-center"],["type","submit",1,"btn","btn-success",3,"click"],["class","mt-5",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"],[1,"mt-5"],[2,"width","100%","height","600px",3,"src"]],template:function(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275template"](0,at,1,0,"div",0),p["\u0275\u0275elementStart"](1,"div",1),p["\u0275\u0275elementStart"](2,"div",2),p["\u0275\u0275elementStart"](3,"h1",3),p["\u0275\u0275text"](4,"Employee Enrollment Report"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](5,"form",4),p["\u0275\u0275elementStart"](6,"div",5),p["\u0275\u0275elementStart"](7,"div",6),p["\u0275\u0275elementStart"](8,"mat-form-field",7),p["\u0275\u0275elementStart"](9,"mat-label"),p["\u0275\u0275text"](10),p["\u0275\u0275pipe"](11,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](12,"mat-select",8),p["\u0275\u0275pipe"](13,"translate"),p["\u0275\u0275template"](14,it,2,2,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](15,lt,2,0,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](16,"div",6),p["\u0275\u0275elementStart"](17,"mat-form-field",7),p["\u0275\u0275elementStart"](18,"mat-label"),p["\u0275\u0275text"](19,"Types"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](20,"mat-select",11),p["\u0275\u0275listener"]("ngModelChange",(function(e){return t.typeId=e})),p["\u0275\u0275template"](21,ot,2,2,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](22,st,2,0,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](23,"div",6),p["\u0275\u0275elementStart"](24,"mat-form-field",7),p["\u0275\u0275elementStart"](25,"mat-label"),p["\u0275\u0275text"](26),p["\u0275\u0275pipe"](27,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](28,"input",12),p["\u0275\u0275listener"]("click",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275reference"](32).open()})),p["\u0275\u0275pipe"](29,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](30,"mat-datepicker-toggle",13),p["\u0275\u0275element"](31,"mat-datepicker",null,14),p["\u0275\u0275template"](33,mt,3,3,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](34,"div",6),p["\u0275\u0275elementStart"](35,"mat-form-field",7),p["\u0275\u0275elementStart"](36,"mat-label"),p["\u0275\u0275text"](37),p["\u0275\u0275pipe"](38,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](39,"input",15),p["\u0275\u0275listener"]("click",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275reference"](43).open()}))("valueChange",(function(e){return t.endDate=e})),p["\u0275\u0275pipe"](40,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](41,"mat-datepicker-toggle",13),p["\u0275\u0275element"](42,"mat-datepicker",null,16),p["\u0275\u0275template"](44,pt,3,3,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](45,"div",17),p["\u0275\u0275elementStart"](46,"button",18),p["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),p["\u0275\u0275text"](47),p["\u0275\u0275pipe"](48,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](49,dt,2,1,"div",19),p["\u0275\u0275elementEnd"]()}if(2&e){const e=p["\u0275\u0275reference"](32),n=p["\u0275\u0275reference"](43);p["\u0275\u0275property"]("ngIf",t.loading),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("formGroup",t.EmployeeEnrollReportFilterFormGroup),p["\u0275\u0275advance"](5),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](11,24,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](13,26,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngForOf",t.companies),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("ngModel",t.typeId),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",t.types),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.type.errors&&t.f.type.errors.required),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](27,28,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")," "),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](29,30,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),p["\u0275\u0275property"]("matDatepicker",e)("ngClass",p["\u0275\u0275pureFunction1"](38,ct,t.f.startDate.errors)),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("for",e),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startDate.errors&&t.f.startDate.errors.required),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](38,32,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")," "),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](40,34,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),p["\u0275\u0275property"]("matDatepicker",n)("value",t.endDate)("ngClass",p["\u0275\u0275pureFunction1"](40,ct,t.f.endDate.errors)),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("for",n),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endDate.errors&&t.f.endDate.errors.required),p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](48,36,"REPORT.INDEX.BUTTONTEXT.SALARY_REPORT_PDF_REPORT"),""),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",t.submitted&&t.pdfUrl)}},directives:[r.t,a.I,a.t,a.k,c.c,c.g,E.a,a.s,a.j,r.s,h.b,a.d,u.h,r.q,u.j,c.j,u.f,f.m,c.b],pipes:[y.d],styles:[""]}),e})(),canActivate:[B.a],data:{roles:["Administrators","SystemAdmin"]}},{path:"confirmation",component:(()=>{class e{constructor(e,t,n,r,a,i,l,s,m){this.formBuilder=e,this.alertService=t,this.injector=n,this.datePipe=r,this.companyService=a,this.employeeService=i,this.authService=l,this.sanitize=s,this.confirmationReportService=m,this.companyId=localStorage.getItem("companyId"),this.employeeId=o.cb.empty}ngOnInit(){this.buildForm(),this.getAllCompanies()}buildForm(){this.confirmationReportFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,[a.G.required]],startDate:[this.startDate,[a.G.required]],endDate:[this.endDate,[a.G.required]]})}getAllCompanies(){this.companyService.getAllCompanies().subscribe(e=>{this.companies=e},()=>{})}get f(){return this.confirmationReportFilterFormGroup.controls}onSubmit(){this.submitted=!0,console.log(this.confirmationReportFilterFormGroup),this.confirmationReportFilterFormGroup.invalid||this.createAndGetConfirmationReport()}createAndGetConfirmationReport(){this.loading=!0,this.confirmationReport=new o.z(this.confirmationReportFilterFormGroup.value),this.confirmationReport.startDate=this.datePipe.transform(new Date(this.confirmationReport.startDate),"yyyy-MM-dd"),this.confirmationReport.endDate=this.datePipe.transform(new Date(this.confirmationReport.endDate),"yyyy-MM-dd"),this.confirmationReportService.createConfirmationPdfReport(this.confirmationReport).subscribe(e=>{this.loading=!1,this.pdfUrl=this.sanitize.bypassSecurityTrustResourceUrl(e.printPdfUrl)},()=>{this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](a.g),p["\u0275\u0275directiveInject"](m.a),p["\u0275\u0275directiveInject"](p.Injector),p["\u0275\u0275directiveInject"](r.f),p["\u0275\u0275directiveInject"](s.u),p["\u0275\u0275directiveInject"](s.U),p["\u0275\u0275directiveInject"](i.a),p["\u0275\u0275directiveInject"](d.b),p["\u0275\u0275directiveInject"](s.L))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["app-confirmation-report"]],decls:44,vars:42,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-sm-12","col-md-12"],["id","tableLabel"],[3,"formGroup"],[1,"row"],[1,"col-md-3","col-12"],["appearance","outline"],["formControlName","companyId",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","startDate",3,"matDatepicker","placeholder","ngClass","click"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","endDate",3,"matDatepicker","value","placeholder","ngClass","click","valueChange"],["endDatePicker",""],[1,"row","justify-content-center"],["type","submit",1,"btn","btn-success",3,"click"],["class","mt-5",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"],[1,"mt-5"],[2,"width","100%","height","600px",3,"src"]],template:function(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275template"](0,ht,1,0,"div",0),p["\u0275\u0275elementStart"](1,"div",1),p["\u0275\u0275elementStart"](2,"div",2),p["\u0275\u0275elementStart"](3,"h1",3),p["\u0275\u0275text"](4),p["\u0275\u0275pipe"](5,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"form",4),p["\u0275\u0275elementStart"](7,"div",5),p["\u0275\u0275elementStart"](8,"div",6),p["\u0275\u0275elementStart"](9,"mat-form-field",7),p["\u0275\u0275elementStart"](10,"mat-label"),p["\u0275\u0275text"](11),p["\u0275\u0275pipe"](12,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](13,"mat-select",8),p["\u0275\u0275pipe"](14,"translate"),p["\u0275\u0275template"](15,ut,2,2,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](16,Et,2,0,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](17,"div",6),p["\u0275\u0275elementStart"](18,"mat-form-field",7),p["\u0275\u0275elementStart"](19,"mat-label"),p["\u0275\u0275text"](20),p["\u0275\u0275pipe"](21,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](22,"input",11),p["\u0275\u0275listener"]("click",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275reference"](26).open()})),p["\u0275\u0275pipe"](23,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](24,"mat-datepicker-toggle",12),p["\u0275\u0275element"](25,"mat-datepicker",null,13),p["\u0275\u0275template"](27,ft,3,3,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](28,"div",6),p["\u0275\u0275elementStart"](29,"mat-form-field",7),p["\u0275\u0275elementStart"](30,"mat-label"),p["\u0275\u0275text"](31),p["\u0275\u0275pipe"](32,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](33,"input",14),p["\u0275\u0275listener"]("click",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275reference"](37).open()}))("valueChange",(function(e){return t.endDate=e})),p["\u0275\u0275pipe"](34,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](35,"mat-datepicker-toggle",12),p["\u0275\u0275element"](36,"mat-datepicker",null,15),p["\u0275\u0275template"](38,yt,3,3,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](39,"div",16),p["\u0275\u0275elementStart"](40,"button",17),p["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),p["\u0275\u0275text"](41),p["\u0275\u0275pipe"](42,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](43,vt,2,1,"div",18),p["\u0275\u0275elementEnd"]()}if(2&e){const e=p["\u0275\u0275reference"](26),n=p["\u0275\u0275reference"](37);p["\u0275\u0275property"]("ngIf",t.loading),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](5,22,"REPORT.INDEX.CONFIRMATIONREPORTTITLE")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("formGroup",t.confirmationReportFilterFormGroup),p["\u0275\u0275advance"](5),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](12,24,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](14,26,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngForOf",t.companies),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](21,28,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")," "),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](23,30,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),p["\u0275\u0275property"]("matDatepicker",e)("ngClass",p["\u0275\u0275pureFunction1"](38,It,t.f.startDate.errors)),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("for",e),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startDate.errors&&t.f.startDate.errors.required),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](32,32,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")," "),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](34,34,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),p["\u0275\u0275property"]("matDatepicker",n)("value",t.endDate)("ngClass",p["\u0275\u0275pureFunction1"](40,It,t.f.endDate.errors)),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("for",n),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endDate.errors&&t.f.endDate.errors.required),p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](42,36,"REPORT.INDEX.BUTTONTEXT.SALARY_REPORT_PDF_REPORT"),""),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",t.submitted&&t.pdfUrl)}},directives:[r.t,a.I,a.t,a.k,c.c,c.g,E.a,a.s,a.j,r.s,h.b,a.d,u.h,r.q,u.j,c.j,u.f,f.m,c.b],pipes:[y.d],styles:[""]}),e})(),canActivate:[B.a],data:{roles:["Administrators","SystemAdmin"]}},{path:"leave-details",component:(()=>{class e{constructor(e,t,n,r,a,i,l,s,m,p,d,c,h){this.formBuilder=e,this.alertService=t,this.injector=n,this.datePipe=r,this.companyService=a,this.employeeService=i,this.authService=l,this.sanitize=s,this.leaveReportService=m,this.departmentServce=p,this.designationService=d,this.branchService=c,this.http=h,this.companyId=localStorage.getItem("companyId"),this.employeeId=[],this.departmentFilter=new o.C,this.designationFilter=new o.D,this.employeeFilter=new o.T,this.departmentId=[],this.designationId=[],this.statuses=[{id:"null",name:"All"},{id:3,name:"Approved"},{name:"Declined",id:9},{name:"Pending",id:1},{name:"In Progress",id:2}],this.isEmployee=this.authService.isEmployee,this.isAdmin=this.authService.isAdmin,this.empId=this.authService.getLoggedInUserInfo().employeeId}ngOnInit(){this.buildForm(),this.getAllCompanies(),this.isAdmin&&(this.onChangeCompany(this.companyId),this.getAllEmployees(),this.getAllBranchByCompanyId())}buildForm(){this.leveDetailsFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,[a.G.required]],startDate:[this.startDate,[a.G.required]],endDate:[this.endDate,[a.G.required]],employeeId:[this.employeeId],branchId:[this.branchId],departmentId:[this.departmentId],designationId:[this.designationId],statusId:[this.statusId,[a.G.required]]})}getAllCompanies(){this.companyService.getAllCompanies().subscribe(e=>{this.companies=e})}onChangeCompany(e){this.companyId=e,e&&this.companyId.length>0&&(this.getAllBranchByCompanyId(),this.getALLDepartmentByBranchId(null),this.getAllDesignationByDepartmentId(null))}getAllEmployees(){this.employeeService.getAllEmployees().subscribe(e=>{this.employees=e,this.employees.unshift({id:o.cb.empty,fullName:"Select All Employee"})})}getAllBranchByCompanyId(){this.branches=[],this.loading=!0,this.branchService.getAllBranchByCompanyId(this.companyId).subscribe(e=>{this.branches=e;let t=this.branches.map(e=>e.id);this.getALLDepartmentByBranchId(t)})}getALLDepartmentByBranchId(e){this.departments=[],this.departmentFilter.companyId=this.companyId,this.departmentFilter.branchIds=e,this.departmentServce.getAllDepartmentByBranchIds(this.departmentFilter).subscribe(e=>{this.departments=e;let t=this.departments.map(e=>e.id);this.getAllDesignationByDepartmentId(t)},()=>{})}getAllDesignationByDepartmentId(e){this.designations=[],this.designationFilter.companyId=this.companyId,this.designationFilter.entityIds=e,this.designationService.getAllDesignationByDepartmentIds(this.designationFilter).subscribe(e=>{this.designations=e,this.designationId=this.designations.map(e=>e.id),this.getAllEmployeesFilteredList()},()=>{})}getAllEmployeesFilteredList(){this.employeeFilter.branchIds=this.branchId,this.employeeFilter.departmentIds=this.departmentId,this.employeeFilter.designationIds=this.designationId,this.employeeFilter.employeeIds=this.employeeId,this.loading=!0,this.employeeService.getAllEmployeePagedListWithoutPagination(this.employeeFilter).subscribe(e=>{this.employees=e,this.loading=!1},()=>{})}onChangeBranch(e){this.branchId=e,this.branchId&&this.branchId.length>0?(this.loading=!0,this.getALLDepartmentByBranchId(this.branchId)):(this.getALLDepartmentByBranchId(null),this.branchId=[]),this.departmentId=[],this.designationId=[],this.employeeId=[],this.leveDetailsFilterFormGroup.controls.departmentId.setValue([]),this.leveDetailsFilterFormGroup.controls.designationId.setValue([]),this.leveDetailsFilterFormGroup.controls.employeeId.setValue([])}onChangeDepartment(e){this.departmentId=e,e&&this.departmentId.length>0?(this.loading=!0,this.getAllDesignationByDepartmentId(this.departmentId)):(this.getAllDesignationByDepartmentId(null),this.departmentId=[]),this.designationId=[],this.employeeId=[],this.leveDetailsFilterFormGroup.controls.designationId.setValue([]),this.leveDetailsFilterFormGroup.controls.employeeId.setValue([])}onChangeEmployee(e){this.selecetdEmployees=e,this.employeeId=e}onChangeDesignation(e){e&&e.length>0?(this.loading=!0,this.designationId=e):this.designationId=[],this.getAllEmployeesFilteredList(),this.employeeId=[],this.leveDetailsFilterFormGroup.controls.employeeId.setValue([])}onChangeStatus(e){this.statusId=e.value}onSubmit(){this.submitted=!0,this.leveDetailsFilterFormGroup.invalid||this.createAndGetLeaveDetailsReport()}createAndGetLeaveDetailsReport(){this.loading=!0,this.leaveDetailsReport=new o.kb(this.leveDetailsFilterFormGroup.value),this.leaveDetailsReport.branchIds=this.branchId,this.leaveDetailsReport.employeeIds=this.employeeId,this.leaveDetailsReport.departmentIds=this.departmentId,this.leaveDetailsReport.DesignationIds=this.designationId,this.leaveDetailsReport.startDate=this.datePipe.transform(new Date(this.leaveDetailsReport.startDate),"yyyy-MM-dd"),this.leaveDetailsReport.endDate=this.datePipe.transform(new Date(this.leaveDetailsReport.endDate),"yyyy-MM-dd"),this.leaveDetailsReport.approvalStatusText="null"==this.statusId?null:this.statusId,this.isEmployee&&!this.isAdmin&&(this.leaveDetailsReport.employeeIds=[],this.leaveDetailsReport.employeeIds.push(this.empId)),this.leaveReportService.createLeaveDetailsPdfReport(this.leaveDetailsReport).subscribe(e=>{this.loading=!1,this.pdfUrl=this.sanitize.bypassSecurityTrustResourceUrl(e.printPdfUrl)},()=>{this.loading=!1})}get f(){return this.leveDetailsFilterFormGroup.controls}}return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](a.g),p["\u0275\u0275directiveInject"](m.a),p["\u0275\u0275directiveInject"](p.Injector),p["\u0275\u0275directiveInject"](r.f),p["\u0275\u0275directiveInject"](s.u),p["\u0275\u0275directiveInject"](s.U),p["\u0275\u0275directiveInject"](i.a),p["\u0275\u0275directiveInject"](d.b),p["\u0275\u0275directiveInject"](s.gb),p["\u0275\u0275directiveInject"](s.A),p["\u0275\u0275directiveInject"](s.B),p["\u0275\u0275directiveInject"](s.o),p["\u0275\u0275directiveInject"](Ye.b))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["app-leave-details-report"]],decls:55,vars:46,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-12"],["id","tableLabel"],[3,"formGroup"],[1,"row"],[1,"col-lg-2","col-md-3","col-12"],["appearance","outline"],["formControlName","companyId",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["class","col-lg-2 col-md-3 col-12",4,"ngIf"],["matInput","","formControlName","startDate",3,"matDatepicker","placeholder","ngClass","click"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","endDate",3,"matDatepicker","value","placeholder","ngClass","click","valueChange"],["endDatePicker",""],[1,"col-sm-2","col-md-2","col-12"],["placeholder","Status","formControlName","statusId",3,"selectionChange"],[1,"row","justify-content-center"],["type","submit",1,"btn","btn-success","mr-5",2,"font-size","12px",3,"click"],["class","mt-5",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"],["placeholder","Branch","formControlName","branchId","multiple","",3,"value","selectionChange","valueChange"],["placeholder","Department","formControlName","departmentId","multiple","",3,"value","selectionChange","valueChange"],["formControlName","designationId","multiple","",3,"placeholder","selectionChange"],["placeholder","Employee","formControlName","employeeId","multiple","",3,"value","selectionChange","valueChange"],[1,"d-flex","mx-auto"],[1,"mt-5"],[2,"width","100%","height","600px",3,"src"]],template:function(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275template"](0,gt,1,0,"div",0),p["\u0275\u0275elementStart"](1,"div",1),p["\u0275\u0275elementStart"](2,"div",2),p["\u0275\u0275elementStart"](3,"h1",3),p["\u0275\u0275text"](4,"Leave Details Report"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](5,"form",4),p["\u0275\u0275elementStart"](6,"div",5),p["\u0275\u0275elementStart"](7,"div",6),p["\u0275\u0275elementStart"](8,"mat-form-field",7),p["\u0275\u0275elementStart"](9,"mat-label"),p["\u0275\u0275text"](10),p["\u0275\u0275pipe"](11,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](12,"mat-select",8),p["\u0275\u0275pipe"](13,"translate"),p["\u0275\u0275template"](14,Ct,2,2,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](15,Rt,2,0,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](16,St,6,2,"div",11),p["\u0275\u0275template"](17,Tt,6,2,"div",11),p["\u0275\u0275template"](18,xt,9,8,"div",11),p["\u0275\u0275template"](19,Lt,6,2,"div",11),p["\u0275\u0275elementStart"](20,"div",6),p["\u0275\u0275elementStart"](21,"mat-form-field",7),p["\u0275\u0275elementStart"](22,"mat-label"),p["\u0275\u0275text"](23),p["\u0275\u0275pipe"](24,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](25,"input",12),p["\u0275\u0275listener"]("click",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275reference"](29).open()})),p["\u0275\u0275pipe"](26,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](27,"mat-datepicker-toggle",13),p["\u0275\u0275element"](28,"mat-datepicker",null,14),p["\u0275\u0275template"](30,Pt,3,3,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](31,"div",6),p["\u0275\u0275elementStart"](32,"mat-form-field",7),p["\u0275\u0275elementStart"](33,"mat-label"),p["\u0275\u0275text"](34),p["\u0275\u0275pipe"](35,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](36,"input",15),p["\u0275\u0275listener"]("click",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275reference"](40).open()}))("valueChange",(function(e){return t.endDate=e})),p["\u0275\u0275pipe"](37,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](38,"mat-datepicker-toggle",13),p["\u0275\u0275element"](39,"mat-datepicker",null,16),p["\u0275\u0275template"](41,Nt,3,3,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](42,"div",17),p["\u0275\u0275elementStart"](43,"mat-form-field",7),p["\u0275\u0275elementStart"](44,"mat-label"),p["\u0275\u0275text"](45,"Status"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](46,"mat-select",18),p["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeStatus(e)})),p["\u0275\u0275template"](47,Mt,2,2,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](48,Bt,2,0,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](49,"div",19),p["\u0275\u0275elementStart"](50,"button",20),p["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),p["\u0275\u0275text"](51),p["\u0275\u0275pipe"](52,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](53,wt,3,1,"mat-error",10),p["\u0275\u0275template"](54,Yt,2,1,"div",21),p["\u0275\u0275elementEnd"]()}if(2&e){const e=p["\u0275\u0275reference"](29),n=p["\u0275\u0275reference"](40);p["\u0275\u0275property"]("ngIf",t.loading),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("formGroup",t.leveDetailsFilterFormGroup),p["\u0275\u0275advance"](5),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](11,28,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](13,30,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngForOf",t.companies),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.isAdmin),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.isAdmin),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.isAdmin),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.isAdmin),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](24,32,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")," "),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](26,34,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),p["\u0275\u0275property"]("matDatepicker",e)("ngClass",p["\u0275\u0275pureFunction1"](42,kt,t.f.startDate.errors)),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("for",e),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startDate.errors&&t.f.startDate.errors.required),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](35,36,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")," "),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](37,38,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),p["\u0275\u0275property"]("matDatepicker",n)("value",t.endDate)("ngClass",p["\u0275\u0275pureFunction1"](44,kt,t.f.endDate.errors)),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("for",n),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endDate.errors&&t.f.endDate.errors.required),p["\u0275\u0275advance"](6),p["\u0275\u0275property"]("ngForOf",t.statuses),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.statusId.errors&&t.f.statusId.errors.required),p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](52,40,"REPORT.INDEX.BUTTONTEXT.ATTENDANCE_PDF_REPORT")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",!t.isFormValid),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.pdfUrl)}},directives:[r.t,a.I,a.t,a.k,c.c,c.g,E.a,a.s,a.j,r.s,h.b,a.d,u.h,r.q,u.j,c.j,u.f,f.m,c.b],pipes:[y.d],styles:[""]}),e})(),canActivate:[B.a],data:{roles:["Administrators","SystemAdmin","EmployeeRole"]}},{path:"ot-summary-report",component:(()=>{class e{constructor(e,t,n,r,a){this.formBuilder=e,this.companyService=t,this.sanitize=n,this.datePipe=r,this.otSummaryReportService=a,this.companyId=localStorage.getItem("companyId"),this.loading=!1,this.downloaded=!1}ngOnInit(){this.buildForm(),this.getAllCompanies()}buildForm(){this.otSummaryReportFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,[a.G.required]],startDate:[this.startDate,[a.G.required]],endDate:[this.endDate,[a.G.required]]})}getAllCompanies(){this.companyService.getAllCompanies().subscribe(e=>{this.companies=e},()=>{})}onSubmit(){this.submitted=!0,this.otSummaryReportFilterFormGroup.invalid||this.createAndOTSummaryReport()}createAndOTSummaryReport(){this.loading=!0,this.otSummaryReport=new o.pb(this.otSummaryReportFilterFormGroup.value),this.otSummaryReport.startDate=this.datePipe.transform(new Date(this.otSummaryReport.startDate),"yyyy-MM-dd"),this.otSummaryReport.endDate=this.datePipe.transform(new Date(this.otSummaryReport.endDate),"yyyy-MM-dd"),this.otSummaryReportService.createOTSummaryPdfReport(this.otSummaryReport).subscribe(e=>{this.loading=!1,this.pdfUrl=this.sanitize.bypassSecurityTrustResourceUrl(e.printPdfUrl)},()=>{this.loading=!1})}get f(){return this.otSummaryReportFilterFormGroup.controls}}return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](a.g),p["\u0275\u0275directiveInject"](s.u),p["\u0275\u0275directiveInject"](d.b),p["\u0275\u0275directiveInject"](r.f),p["\u0275\u0275directiveInject"](s.jb))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["app-ot-summary-report"]],decls:44,vars:42,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-sm-12","col-md-12"],["id","tableLabel"],[3,"formGroup"],[1,"row"],[1,"col-lg-3","col-md-4","col-12"],["appearance","outline"],["formControlName","companyId",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","startDate",3,"matDatepicker","placeholder","ngClass","click"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","endDate",3,"matDatepicker","value","placeholder","ngClass","click","valueChange"],["endDatePicker",""],[1,"row","justify-content-center"],["type","submit",1,"btn","btn-success",3,"click"],["class","mt-5",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"],[1,"mt-5"],[2,"width","100%","height","600px",3,"src"]],template:function(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275template"](0,Ut,1,0,"div",0),p["\u0275\u0275elementStart"](1,"div",1),p["\u0275\u0275elementStart"](2,"div",2),p["\u0275\u0275elementStart"](3,"h1",3),p["\u0275\u0275text"](4),p["\u0275\u0275pipe"](5,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"form",4),p["\u0275\u0275elementStart"](7,"div",5),p["\u0275\u0275elementStart"](8,"div",6),p["\u0275\u0275elementStart"](9,"mat-form-field",7),p["\u0275\u0275elementStart"](10,"mat-label"),p["\u0275\u0275text"](11),p["\u0275\u0275pipe"](12,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](13,"mat-select",8),p["\u0275\u0275pipe"](14,"translate"),p["\u0275\u0275template"](15,Gt,2,2,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](16,jt,2,0,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](17,"div",6),p["\u0275\u0275elementStart"](18,"mat-form-field",7),p["\u0275\u0275elementStart"](19,"mat-label"),p["\u0275\u0275text"](20),p["\u0275\u0275pipe"](21,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](22,"input",11),p["\u0275\u0275listener"]("click",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275reference"](26).open()})),p["\u0275\u0275pipe"](23,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](24,"mat-datepicker-toggle",12),p["\u0275\u0275element"](25,"mat-datepicker",null,13),p["\u0275\u0275template"](27,_t,3,3,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](28,"div",6),p["\u0275\u0275elementStart"](29,"mat-form-field",7),p["\u0275\u0275elementStart"](30,"mat-label"),p["\u0275\u0275text"](31),p["\u0275\u0275pipe"](32,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](33,"input",14),p["\u0275\u0275listener"]("click",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275reference"](37).open()}))("valueChange",(function(e){return t.endDate=e})),p["\u0275\u0275pipe"](34,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](35,"mat-datepicker-toggle",12),p["\u0275\u0275element"](36,"mat-datepicker",null,15),p["\u0275\u0275template"](38,qt,3,3,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](39,"div",16),p["\u0275\u0275elementStart"](40,"button",17),p["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),p["\u0275\u0275text"](41),p["\u0275\u0275pipe"](42,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](43,zt,2,1,"div",18),p["\u0275\u0275elementEnd"]()}if(2&e){const e=p["\u0275\u0275reference"](26),n=p["\u0275\u0275reference"](37);p["\u0275\u0275property"]("ngIf",t.loading),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](5,22,"REPORT.INDEX.OTSUMMARYREPORT")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("formGroup",t.otSummaryReportFilterFormGroup),p["\u0275\u0275advance"](5),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](12,24,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](14,26,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngForOf",t.companies),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](21,28,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")," "),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](23,30,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),p["\u0275\u0275property"]("matDatepicker",e)("ngClass",p["\u0275\u0275pureFunction1"](38,Vt,t.f.startDate.errors)),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("for",e),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startDate.errors&&t.f.startDate.errors.required),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](32,32,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")," "),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](34,34,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),p["\u0275\u0275property"]("matDatepicker",n)("value",t.endDate)("ngClass",p["\u0275\u0275pureFunction1"](40,Vt,t.f.endDate.errors)),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("for",n),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endDate.errors&&t.f.endDate.errors.required),p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](42,36,"REPORT.INDEX.BUTTONTEXT.SALARY_REPORT_PDF_REPORT"),""),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",t.submitted&&t.pdfUrl)}},directives:[r.t,a.I,a.t,a.k,c.c,c.g,E.a,a.s,a.j,r.s,h.b,a.d,u.h,r.q,u.j,c.j,u.f,f.m,c.b],pipes:[y.d],styles:[""]}),e})(),canActivate:[B.a],data:{roles:["Administrators","SystemAdmin","PayrollManager"]}},{path:"earn-leave-encashment-report",component:(()=>{class e{constructor(e,t,n,r,a,i,l){this.formBuilder=e,this.companyService=t,this.authService=n,this.financialYearService=r,this.monthCycleService=a,this.sanitize=i,this.earnLeaveEncashmentReportService=l,this.companyId=localStorage.getItem("companyId"),this.loading=!1,this.submitted=!1,this.downloaded=!1}ngOnInit(){this.buildForm(),this.getAllCompanies(),this.onChangeCompany(this.companyId)}buildForm(){this.leaveEncahsmentReportFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,[a.G.required]],financialYearId:[this.financialYearId,[a.G.required]],monthCycleId:[this.monthCycleId,[a.G.required]]})}get f(){return this.leaveEncahsmentReportFilterFormGroup.controls}getAllCompanies(){this.companyService.getAllCompanies().subscribe(e=>{this.companies=e})}onChangeEmployee(e){this.employeeId=e.value}onChangeMonthCycle(e){this.monthCycleId=e.value}onChangeFinancialYears(e){var t=e.value;this.financialYearId=t,t&&this.getAllMonthCycleByCompanyIdAndFinancialYear()}onChangeCompany(e){this.companyId=e,e&&this.getAllFinancialYearByCompanyId()}getAllFinancialYearByCompanyId(){this.financialYearService.getAllFinancialYearByCompanyId(this.companyId).subscribe(e=>{this.financialYears=e})}getAllMonthCycleByCompanyIdAndFinancialYear(){this.monthCycleService.getMonthCycleByCompanyAndFinancialYear(this.companyId,this.financialYearId).subscribe(e=>{this.monthCycles=e})}onSubmit(){this.submitted=!0,this.leaveEncahsmentReportFilterFormGroup.invalid||this.createAndGetEarnLeaveEncashReport()}createAndGetEarnLeaveEncashReport(){this.earnLeaveEncashmentReport=new o.H(this.leaveEncahsmentReportFilterFormGroup.value),this.loading=!0,this.earnLeaveEncashmentReportService.createEmployeeLeaveEncashmentReport(this.earnLeaveEncashmentReport).subscribe(e=>{this.loading=!1,this.pdfUrl=this.sanitize.bypassSecurityTrustResourceUrl(e.printPdfUrl)},()=>{this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](a.g),p["\u0275\u0275directiveInject"](s.u),p["\u0275\u0275directiveInject"](i.a),p["\u0275\u0275directiveInject"](s.Y),p["\u0275\u0275directiveInject"](s.ib),p["\u0275\u0275directiveInject"](d.b),p["\u0275\u0275directiveInject"](s.D))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["app-earn-leave-encashment-report"]],decls:36,vars:23,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-sm-12","col-md-12"],["id","tableLabel"],[3,"formGroup"],[1,"row"],[1,"col-md-3","col-12"],["appearance","outline"],["formControlName","companyId",3,"placeholder","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Financial Year","formControlName","financialYearId",3,"value","selectionChange"],["placeholder","Month Cycle","formControlName","monthCycleId",3,"value","selectionChange"],[1,"row","justify-content-center"],["type","submit",1,"btn","btn-success","mr-5",2,"font-size","smaller",3,"click"],["class","mt-5",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"],[1,"mt-5"],[2,"width","100%","height","600px",3,"src"]],template:function(e,t){1&e&&(p["\u0275\u0275template"](0,Ht,1,0,"div",0),p["\u0275\u0275elementStart"](1,"div",1),p["\u0275\u0275elementStart"](2,"div",2),p["\u0275\u0275elementStart"](3,"h1",3),p["\u0275\u0275text"](4),p["\u0275\u0275pipe"](5,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"form",4),p["\u0275\u0275elementStart"](7,"div",5),p["\u0275\u0275elementStart"](8,"div",6),p["\u0275\u0275elementStart"](9,"mat-form-field",7),p["\u0275\u0275elementStart"](10,"mat-label"),p["\u0275\u0275text"](11),p["\u0275\u0275pipe"](12,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](13,"mat-select",8),p["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeCompany(e.value)})),p["\u0275\u0275pipe"](14,"translate"),p["\u0275\u0275template"](15,Xt,2,2,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](16,Kt,2,0,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](17,"div",6),p["\u0275\u0275elementStart"](18,"mat-form-field",7),p["\u0275\u0275elementStart"](19,"mat-label"),p["\u0275\u0275text"](20,"Financial Year"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](21,"mat-select",11),p["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeFinancialYears(e)})),p["\u0275\u0275template"](22,$t,2,2,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](23,Qt,2,0,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](24,"div",6),p["\u0275\u0275elementStart"](25,"mat-form-field",7),p["\u0275\u0275elementStart"](26,"mat-label"),p["\u0275\u0275text"](27,"Month Cycle"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](28,"mat-select",12),p["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeMonthCycle(e)})),p["\u0275\u0275template"](29,Jt,2,2,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](30,Wt,2,0,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](31,"div",13),p["\u0275\u0275elementStart"](32,"button",14),p["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),p["\u0275\u0275text"](33),p["\u0275\u0275pipe"](34,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](35,Zt,2,1,"div",15),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275property"]("ngIf",t.loading),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](5,15,"REPORT.INDEX.EARNLEAVEENCASHMENTREPORT")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("formGroup",t.leaveEncahsmentReportFilterFormGroup),p["\u0275\u0275advance"](5),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](12,17,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](14,19,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngForOf",t.companies),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("value",t.financialYearId),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",t.financialYears),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.financialYearId.errors&&t.f.financialYearId.errors.required),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("value",t.monthCycleId),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",t.monthCycles),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.monthCycleId.errors&&t.f.monthCycleId.errors.required),p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](34,21,"REPORT.INDEX.BUTTONTEXT.SALARY_REPORT_PDF_REPORT"),""),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",t.submitted&&t.pdfUrl))},directives:[r.t,a.I,a.t,a.k,c.c,c.g,E.a,a.s,a.j,r.s,f.m,c.b],pipes:[y.d],styles:[""]}),e})(),canActivate:[B.a],data:{roles:["Administrators","SystemAdmin","PayrollManager"]}},{path:"task-report",component:(()=>{class e{constructor(e,t,n,r,a,i,l){this.formBuilder=e,this.datePipe=t,this.companyService=n,this.employeeService=r,this.taskReportService=a,this.authService=i,this.sanitize=l,this.dropdownList=[],this.selectedItems=[],this.dropdownSettings={},this.taskReport=new o.Cb,this.companyId=localStorage.getItem("companyId"),this.loading=!1,this.isAdmin=!1,this.isEmployee=!1,this.itemList=[],this.settings={},this.isEmployee=this.authService.isEmployee,this.isAdmin=this.authService.isAdmin,this.empId=this.authService.getLoggedInUserInfo().employeeId,this.employeeId=this.authService.getLoggedInUserInfo().employeeId}ngOnInit(){this.getAllCompanies(),this.getAllEmployees(),this.buildForm(),this.initializeEmployeeDropdown()}buildForm(){this.taskReportFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,[a.G.required]],startDate:[this.startDate,[a.G.required]],endDate:[this.endDate,[a.G.required]],employeeId:[this.employeeId]})}getAllCompanies(){this.companyService.getAllCompanies().subscribe(e=>{this.companies=e})}getAllEmployees(){this.employeeService.getAllEmployees().subscribe(e=>{this.employees=e,this.itemList=e;const t=this.employees.filter(e=>e.id===this.employeeId)[0];this.selectedItems.push(t)},()=>{})}onSubmit(){this.submitted=!0,this.taskReportFilterFormGroup.invalid||this.getTaskReport()}getTaskReport(){this.taskReport=new o.Cb(this.taskReportFilterFormGroup.value),this.taskReport.employeeId=0===this.selectedItems.length?this.empId:this.selectedItems[0].id,this.loading=!0,this.taskReportService.createTaskPdfReport(this.taskReport).subscribe(e=>{this.loading=!1,this.pdfUrl=this.sanitize.bypassSecurityTrustResourceUrl(e.printPdfUrl)},()=>{this.loading=!1})}initializeEmployeeDropdown(){this.selectedItems=[];const e=window.screen.width>768?"2":"1";this.settings={text:"Select employees",enableSearchFilter:!0,singleSelection:!0,unSelectAllText:"Un Select All",classes:"myclass custom-class",labelKey:"fullName",primaryKey:"id",badgeShowLimit:e,showCheckbox:!0,enableFilterSelectAll:!0,disabled:!0!==(this.isAdmin&&this.isEmployee),maxHeight:"200"}}get f(){return this.taskReportFilterFormGroup.controls}}return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](a.g),p["\u0275\u0275directiveInject"](r.f),p["\u0275\u0275directiveInject"](s.u),p["\u0275\u0275directiveInject"](s.U),p["\u0275\u0275directiveInject"](s.wb),p["\u0275\u0275directiveInject"](i.a),p["\u0275\u0275directiveInject"](d.b))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["app-task-report"]],decls:49,vars:46,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-12"],["id","tableLabel"],[3,"formGroup"],[1,"row"],[1,"col-lg-2","col-md-3","col-12"],["appearance","outline"],["formControlName","companyId",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-md-3","col-12"],["matInput","","formControlName","startDate",3,"matDatepicker","placeholder","ngClass","click"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","endDate",3,"matDatepicker","value","placeholder","ngClass","click","valueChange"],["endDatePicker",""],[1,"col-lg-3","col-md-5","col-12"],[1,"form-group"],["ngDefaultControl","","formControlName","employeeId","name","selectedItems",3,"data","ngModel","settings","ngModelChange"],[1,"row","justify-content-center"],["type","submit",1,"btn","btn-success","mr-5","w-100",2,"font-size","12px",3,"click"],["class","mt-5",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"],[1,"d-flex","mx-auto"],[1,"mt-5"],[2,"width","100%","height","600px",3,"src"]],template:function(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275template"](0,en,1,0,"div",0),p["\u0275\u0275elementStart"](1,"div",1),p["\u0275\u0275elementStart"](2,"div",2),p["\u0275\u0275elementStart"](3,"h1",3),p["\u0275\u0275text"](4),p["\u0275\u0275pipe"](5,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"form",4),p["\u0275\u0275elementStart"](7,"div",5),p["\u0275\u0275elementStart"](8,"div",6),p["\u0275\u0275elementStart"](9,"mat-form-field",7),p["\u0275\u0275elementStart"](10,"mat-label"),p["\u0275\u0275text"](11),p["\u0275\u0275pipe"](12,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](13,"mat-select",8),p["\u0275\u0275pipe"](14,"translate"),p["\u0275\u0275template"](15,tn,2,2,"mat-option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](16,nn,2,0,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](17,"div",11),p["\u0275\u0275elementStart"](18,"mat-form-field",7),p["\u0275\u0275elementStart"](19,"mat-label"),p["\u0275\u0275text"](20),p["\u0275\u0275pipe"](21,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](22,"input",12),p["\u0275\u0275listener"]("click",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275reference"](26).open()})),p["\u0275\u0275pipe"](23,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](24,"mat-datepicker-toggle",13),p["\u0275\u0275element"](25,"mat-datepicker",null,14),p["\u0275\u0275template"](27,rn,3,3,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](28,"div",11),p["\u0275\u0275elementStart"](29,"mat-form-field",7),p["\u0275\u0275elementStart"](30,"mat-label"),p["\u0275\u0275text"](31),p["\u0275\u0275pipe"](32,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](33,"input",15),p["\u0275\u0275listener"]("click",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275reference"](37).open()}))("valueChange",(function(e){return t.endDate=e})),p["\u0275\u0275pipe"](34,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](35,"mat-datepicker-toggle",13),p["\u0275\u0275element"](36,"mat-datepicker",null,16),p["\u0275\u0275template"](38,an,3,3,"mat-error",10),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](39,"div",17),p["\u0275\u0275elementStart"](40,"div",18),p["\u0275\u0275elementStart"](41,"angular2-multiselect",19),p["\u0275\u0275listener"]("ngModelChange",(function(e){return t.selectedItems=e})),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](42,"div",20),p["\u0275\u0275elementStart"](43,"div",6),p["\u0275\u0275elementStart"](44,"button",21),p["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),p["\u0275\u0275text"](45),p["\u0275\u0275pipe"](46,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](47,ln,3,1,"mat-error",10),p["\u0275\u0275template"](48,on,2,1,"div",22),p["\u0275\u0275elementEnd"]()}if(2&e){const e=p["\u0275\u0275reference"](26),n=p["\u0275\u0275reference"](37);p["\u0275\u0275property"]("ngIf",t.loading),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](5,26,"REPORT.TASKREPORT")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("formGroup",t.taskReportFilterFormGroup),p["\u0275\u0275advance"](5),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](12,28,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](14,30,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngForOf",t.companies),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](21,32,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")," "),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](23,34,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),p["\u0275\u0275property"]("matDatepicker",e)("ngClass",p["\u0275\u0275pureFunction1"](42,sn,t.f.startDate.errors)),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("for",e),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startDate.errors&&t.f.startDate.errors.required),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind1"](32,36,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")," "),p["\u0275\u0275advance"](2),p["\u0275\u0275propertyInterpolate"]("placeholder",p["\u0275\u0275pipeBind1"](34,38,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),p["\u0275\u0275property"]("matDatepicker",n)("value",t.endDate)("ngClass",p["\u0275\u0275pureFunction1"](44,sn,t.f.endDate.errors)),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("for",n),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endDate.errors&&t.f.endDate.errors.required),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("data",t.itemList)("ngModel",t.selectedItems)("settings",t.settings),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](46,40,"REPORT.INDEX.BUTTONTEXT.ATTENDANCE_PDF_REPORT")),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",!t.isFormValid),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.submitted&&t.pdfUrl)}},directives:[r.t,a.I,a.t,a.k,c.c,c.g,E.a,a.s,a.j,r.s,h.b,a.d,u.h,r.q,u.j,c.j,u.f,k.a,f.m,c.b],pipes:[y.d],styles:['.c-btn{background-color:#fff;border:1px solid green;min-height:34px!important;margin-top:.25rem}.multi-select[_ngcontent-%COMP%]{display:block;margin-top:4px}.error[_ngcontent-%COMP%]{margin-top:-23px}  .selected-list .c-list .c-token{background:green}  .c-token{color:#fff}  .c-angle-down{top:35%!important;width:10px!important} .pure-checkbox input[type=checkbox]+label:before{box-sizing:content-box;content:"";position:absolute;top:50%;left:0;width:15px;height:15px;margin-top:-9px;text-align:center;transition:.4s;border-radius:3px;border:1px solid #218838} .pure-checkbox input[type=checkbox]:checked+label:after{color:#218838!important}.w-100[_ngcontent-%COMP%], ss-multiselect-dropdown[_ngcontent-%COMP%] > div.btn-group[_ngcontent-%COMP%] > ul.dropdown-menu[_ngcontent-%COMP%]{width:100%}  .selected-list .c-btn{color:#808a9a!important;font-size:16px;font-family:Helvetica,sans-serif}  .selected-list .c-list .c-token{font-size:10px}']}),e})(),canActivate:[B.a],data:{roles:["EmployeeRole"]}}];let pn=(()=>{class e{}return e.\u0275mod=p["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.c,w.a,Y.a,M.g.forChild(mn),k.b]]}),e})()}}]);