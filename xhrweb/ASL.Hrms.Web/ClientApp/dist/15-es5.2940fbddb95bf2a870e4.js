!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{LVab:function(t,r,a){"use strict";a.r(r),a.d(r,"ReportModule",(function(){return Tn}));var i=a("ofXK"),l=a("3Pt+"),o=a("N/25"),m=a("6VUB"),p=a("TwVa"),d=a("ZF+8"),s=a("Cmua"),c=a("fXoL"),u=a("jhN1"),f=a("kmnG"),h=a("qFsG"),E=a("iadO"),v=a("d3UM"),y=a("FKr1"),I=a("sYmb");function g(e,t){1&e&&c["\u0275\u0275element"](0,"div",21)}function C(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",2),c["\u0275\u0275element"](1,"app-search-filter",22),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("companyId",n.companyId)("showEmployeeList",!0)("showInputField",!1)}}function R(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",26),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.companyName," ")}}function A(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1,"Company is required "),c["\u0275\u0275elementEnd"]())}function S(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",23),c["\u0275\u0275elementStart"](1,"mat-form-field",9),c["\u0275\u0275elementStart"](2,"mat-label"),c["\u0275\u0275text"](3),c["\u0275\u0275pipe"](4,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"mat-select",24),c["\u0275\u0275pipe"](6,"translate"),c["\u0275\u0275template"](7,R,2,2,"mat-option",25),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](8,A,2,0,"mat-error",13),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](4,4,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](6,6,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",n.companies),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.submitted&&n.f.companyId.errors&&n.f.companyId.errors.required)}}function b(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"mat-option",26),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](n.fullName)}}function T(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"COMMON.SELECT.EMPLOYEEID.REQUIERED_ERROR_TEXT"),""))}function O(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",23),c["\u0275\u0275elementStart"](1,"mat-form-field",9),c["\u0275\u0275elementStart"](2,"mat-select",27),c["\u0275\u0275listener"]("valueChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().employeeId=e}))("selectionChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onChangeEmployee(e)})),c["\u0275\u0275template"](3,b,3,2,"ng-container",28),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](4,T,3,3,"mat-error",13),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("value",r.employeeId)("disabled",!r.isAdmin),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",r.employees),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",r.submitted&&r.f.employeeId.errors&&r.f.employeeId.errors.required)}}function D(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT")," "))}function x(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT")," "))}function F(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",17),c["\u0275\u0275elementStart"](1,"button",18),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().downloadAttendanceSummaryReport()})),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}2&e&&(c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](3,1,"REPORT.INDEX.BUTTONTEXT.ATTENDANCE_SUMMARY_REPORT_PDF")))}function L(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",17),c["\u0275\u0275elementStart"](1,"button",18),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().downloadJobCardSummaryReport()})),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}2&e&&(c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](3,1,"REPORT.INDEX.BUTTONTEXT.JOB_CARD_SUMMARY_REPORT_PDF")))}function P(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275elementStart"](1,"div",29),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",n.errorMessages," ")}}function N(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",30),c["\u0275\u0275element"](1,"iframe",31),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("src",n.pdfUrl,c["\u0275\u0275sanitizeResourceUrl"])}}var M,k=function(e){return{"is-invalid":e}},B=((M=function(){function t(n,r,a,i,l,o,m,d,s){e(this,t),this.formBuilder=n,this.alertService=r,this.datePipe=a,this.attendanceReportService=i,this.billClaimReportService=l,this.companyService=o,this.employeeService=m,this.authService=d,this.sanitize=s,this.employeeFilter=new p.T,this.companyId=localStorage.getItem("companyId"),this.daysInMonth=31,this.employeeId=p.cb.empty,this.isEmployee=this.authService.isEmployee,this.isAdmin=this.authService.isAdmin,this.isAdmin||(this.employeeId=this.authService.getLoggedInUserInfo().employeeId)}return n(t,[{key:"ngOnInit",value:function(){this.buildForm(),this.getAllCompanies(),this.getAllEmployees()}},{key:"buildForm",value:function(){this.reportFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,[l.G.required]],startTime:[this.startTime,[l.G.required]],endTime:[this.endTime,[l.G.required]],employeeId:[this.employeeId]})}},{key:"getAllCompanies",value:function(){var e=this;this.companyService.getAllCompanies().subscribe((function(t){e.companies=t}))}},{key:"getAllEmployees",value:function(){var e=this;this.employeeService.getAllEmployees().subscribe((function(t){e.employees=t,e.employees.unshift({id:p.cb.empty,fullName:"Select All Employee"})}))}},{key:"generateExcel",value:function(e,t){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(e.body,t);else{var n=window.URL.createObjectURL(e.body),r=document.createElement("a");document.body.appendChild(r),r.setAttribute("style","display: none"),r.href=n,r.download=t,r.click(),window.URL.revokeObjectURL(n),r.remove()}}},{key:"downloadAttndancePdfReport",value:function(){var e,t,n=this;if(this.submitted=!0,!this.reportFilterFormGroup.invalid){var r=null===(e=this.searchFilter)||void 0===e?void 0:e.employeeFilterFormGroup;this.attendanceReport=new p.h(this.reportFilterFormGroup.value),this.attendanceReport.startTime=this.datePipe.transform(new Date(this.attendanceReport.startTime),"yyyy-MM-dd"),this.attendanceReport.endTime=this.datePipe.transform(new Date(this.attendanceReport.endTime),"yyyy-MM-dd"),this.attendanceReport.branchIds=null==r?void 0:r.value.branchId,this.attendanceReport.departmentIds=null==r?void 0:r.value.departmentId,this.attendanceReport.designationIds=null==r?void 0:r.value.designationId,this.attendanceReport.employeeIds=void 0===(null===(t=this.searchFilter)||void 0===t?void 0:t.employeeId)?[]:this.searchFilter.employeeId,!this.isAdmin&&this.isEmployee&&(this.attendanceReport.employeeIds=[this.employeeId]),this.loading=!0,this.attendanceReportService.createAttendancePdfReport(this.attendanceReport).subscribe((function(e){n.loading=!1,n.pdfUrl=n.sanitize.bypassSecurityTrustResourceUrl(e.printPdfUrl)}),(function(){n.loading=!1,n.submitted=!1}))}}},{key:"downloadAttndanceExcelReport",value:function(){var e=this;this.submitted=!0,this.reportFilterFormGroup.invalid||(this.attendanceReport=new p.h(this.reportFilterFormGroup.value),this.attendanceReport.startTime=this.datePipe.transform(new Date(this.attendanceReport.startTime),"yyyy-MM-dd"),this.attendanceReport.endTime=this.datePipe.transform(new Date(this.attendanceReport.endTime),"yyyy-MM-dd"),this.loading=!0,this.attendanceReportService.createAttendanceExcelReport(this.attendanceReport).subscribe((function(t){e.generateExcel(t,"Attendance-Report"),e.loading=!1,e.submitted=!1}),(function(){e.loading=!1,e.submitted=!1})))}},{key:"downloadBillClaimPdfReport",value:function(){var e=this;this.submitted=!0,this.reportFilterFormGroup.invalid||(this.billClaimReport=new p.p(this.reportFilterFormGroup.value),this.billClaimReport.startTime=this.datePipe.transform(new Date(this.billClaimReport.startTime),"yyyy-MM-dd"),this.billClaimReport.endTime=this.datePipe.transform(new Date(this.billClaimReport.endTime),"yyyy-MM-dd"),this.loading=!0,this.billClaimReportService.createBillClaimePdfReport(this.billClaimReport).subscribe((function(t){e.loading=!1,e.pdfUrl=e.sanitize.bypassSecurityTrustResourceUrl(t.printPdfUrl)}),(function(){e.loading=!1})))}},{key:"downloadJobCardSummaryReport",value:function(){var e,t,n=this;if(this.submitted=!0,!this.reportFilterFormGroup.invalid){var r=null===(e=this.searchFilter)||void 0===e?void 0:e.employeeFilterFormGroup;this.attendanceReport=new p.h(this.reportFilterFormGroup.value),this.attendanceReport.startTime=this.datePipe.transform(new Date(this.attendanceReport.startTime),"yyyy-MM-dd"),this.attendanceReport.endTime=this.datePipe.transform(new Date(this.attendanceReport.endTime),"yyyy-MM-dd"),this.attendanceReport.branchIds=null==r?void 0:r.value.branchId,this.attendanceReport.departmentIds=null==r?void 0:r.value.departmentId,this.attendanceReport.designationIds=null==r?void 0:r.value.designationId,this.attendanceReport.employeeIds=void 0===(null===(t=this.searchFilter)||void 0===t?void 0:t.employeeId)?[]:this.searchFilter.employeeId,this.loading=!0,!this.isAdmin&&this.isEmployee&&(this.attendanceReport.employeeIds=[this.employeeId]),this.attendanceReportService.createJobCardSummaryReport(this.attendanceReport).subscribe((function(e){n.loading=!1,n.pdfUrl=n.sanitize.bypassSecurityTrustResourceUrl(e.printPdfUrl)}),(function(){n.loading=!1,n.submitted=!1}))}}},{key:"onChangeEmployee",value:function(e){this.employeeId=e.value}},{key:"downloadAttendanceSummaryReport",value:function(){var e,t,n=this;if(this.submitted=!0,!this.reportFilterFormGroup.invalid){var r=null===(e=this.searchFilter)||void 0===e?void 0:e.employeeFilterFormGroup;this.attendanceReport=new p.h(this.reportFilterFormGroup.value),this.attendanceReport.startTime=this.datePipe.transform(new Date(this.attendanceReport.startTime),"yyyy-MM-dd"),this.attendanceReport.endTime=this.datePipe.transform(new Date(this.attendanceReport.endTime),"yyyy-MM-dd");var a=new Date(this.attendanceReport.startTime),i=new Date(this.attendanceReport.endTime);this.calculateDiffOfDays(a,i)>this.daysInMonth?this.alertService.error("Difference of start and end date should maximum 31 days"):(this.loading=!0,this.attendanceReport.branchIds=null==r?void 0:r.value.branchId,this.attendanceReport.departmentIds=null==r?void 0:r.value.departmentId,this.attendanceReport.designationIds=null==r?void 0:r.value.designationId,this.attendanceReport.employeeIds=void 0===(null===(t=this.searchFilter)||void 0===t?void 0:t.employeeId)?[]:this.searchFilter.employeeId,!this.isAdmin&&this.isEmployee&&(this.attendanceReport.employeeIds=[this.employeeId]),this.attendanceReportService.createAttendanceSummaryPdfReport(this.attendanceReport).subscribe((function(e){n.loading=!1,n.pdfUrl=n.sanitize.bypassSecurityTrustResourceUrl(e.printPdfUrl)}),(function(){n.loading=!1,n.submitted=!1})))}}},{key:"calculateDiffOfDays",value:function(e,t){if(e&&t){var n=Math.abs(e-t);return Math.ceil(n/864e5)}}},{key:"f",get:function(){return this.reportFilterFormGroup.controls}}]),t}()).\u0275fac=function(e){return new(e||M)(c["\u0275\u0275directiveInject"](l.g),c["\u0275\u0275directiveInject"](s.a),c["\u0275\u0275directiveInject"](i.f),c["\u0275\u0275directiveInject"](d.b),c["\u0275\u0275directiveInject"](d.l),c["\u0275\u0275directiveInject"](d.u),c["\u0275\u0275directiveInject"](d.U),c["\u0275\u0275directiveInject"](o.a),c["\u0275\u0275directiveInject"](u.b))},M.\u0275cmp=c["\u0275\u0275defineComponent"]({type:M,selectors:[["app-report"]],viewQuery:function(e,t){var n;1&e&&c["\u0275\u0275viewQuery"](m.a,!0),2&e&&c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(t.searchFilter=n.first)},decls:42,vars:40,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-12"],["id","tableLabel"],[3,"formGroup"],[1,"row"],["class","col-12",4,"ngIf"],["class","col-sm-3 col-md-3 col-12",4,"ngIf"],[1,"col-sm-3","col-md-2","col-12"],["appearance","outline"],["matInput","","formControlName","startTime",3,"matDatepicker","placeholder","ngClass","click"],["matSuffix","",3,"for"],["startDatePicker",""],[4,"ngIf"],["matInput","","formControlName","endTime",3,"matDatepicker","value","placeholder","ngClass","click","valueChange"],["endDatePicker",""],[1,"row","justify-content-center","text-center"],[1,"col-12","col-md-4","col-lg-4","col-xl-2","mt-2"],["type","submit",1,"btn","btn-success",2,"font-size","12px","width","100%",3,"click"],["class","col-12 col-md-4 col-lg-4 col-xl-2 mt-2",4,"ngIf"],["class","mt-5",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"companyId","showEmployeeList","showInputField"],[1,"col-sm-3","col-md-3","col-12"],["formControlName","companyId",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","formControlName","employeeId","placeholder","Select Employee",3,"value","disabled","valueChange","selectionChange"],[4,"ngFor","ngForOf"],[1,"d-flex","mx-auto"],[1,"mt-5"],[2,"width","100%","height","600px",3,"src"]],template:function(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275template"](0,g,1,0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275elementStart"](3,"h1",3),c["\u0275\u0275text"](4),c["\u0275\u0275pipe"](5,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"form",4),c["\u0275\u0275elementStart"](7,"div",5),c["\u0275\u0275template"](8,C,2,3,"div",6),c["\u0275\u0275template"](9,S,9,8,"div",7),c["\u0275\u0275template"](10,O,5,4,"div",7),c["\u0275\u0275elementStart"](11,"div",8),c["\u0275\u0275elementStart"](12,"mat-form-field",9),c["\u0275\u0275elementStart"](13,"mat-label"),c["\u0275\u0275text"](14),c["\u0275\u0275pipe"](15,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"input",10),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275reference"](20).open()})),c["\u0275\u0275pipe"](17,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](18,"mat-datepicker-toggle",11),c["\u0275\u0275element"](19,"mat-datepicker",null,12),c["\u0275\u0275template"](21,D,3,3,"mat-error",13),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"div",8),c["\u0275\u0275elementStart"](23,"mat-form-field",9),c["\u0275\u0275elementStart"](24,"mat-label"),c["\u0275\u0275text"](25),c["\u0275\u0275pipe"](26,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](27,"input",14),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275reference"](31).open()}))("valueChange",(function(e){return t.endTime=e})),c["\u0275\u0275pipe"](28,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](29,"mat-datepicker-toggle",11),c["\u0275\u0275element"](30,"mat-datepicker",null,15),c["\u0275\u0275template"](32,x,3,3,"mat-error",13),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"div",16),c["\u0275\u0275elementStart"](34,"div",17),c["\u0275\u0275elementStart"](35,"button",18),c["\u0275\u0275listener"]("click",(function(){return t.downloadAttndancePdfReport()})),c["\u0275\u0275text"](36),c["\u0275\u0275pipe"](37,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](38,F,4,3,"div",19),c["\u0275\u0275template"](39,L,4,3,"div",19),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](40,P,3,1,"mat-error",13),c["\u0275\u0275template"](41,N,2,1,"div",20),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275reference"](20),a=c["\u0275\u0275reference"](31);c["\u0275\u0275property"]("ngIf",t.loading),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](5,24,"REPORT.INDEX.ATTENDANCEREPORTTITLE")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("formGroup",t.reportFilterFormGroup),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.isAdmin),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.isEmployee&&!t.isAdmin),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.isEmployee&&!t.isAdmin),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](15,26,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](17,28,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),c["\u0275\u0275property"]("matDatepicker",r)("ngClass",c["\u0275\u0275pureFunction1"](36,k,t.f.startTime.errors)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("for",r),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startTime.errors&&t.f.startTime.errors.required),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](26,30,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](28,32,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),c["\u0275\u0275property"]("matDatepicker",a)("value",t.endTime)("ngClass",c["\u0275\u0275pureFunction1"](38,k,t.f.endTime.errors)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("for",a),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endTime.errors&&t.f.endTime.errors.required),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](37,34,"REPORT.INDEX.BUTTONTEXT.ATTENDANCE_PDF_REPORT")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.isAdmin),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.isAdmin),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!t.isFormValid),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.pdfUrl)}},directives:[i.t,l.I,l.t,l.k,f.c,f.g,h.b,l.d,E.h,l.s,l.j,i.q,E.j,f.j,E.f,m.a,v.a,i.s,y.m,f.b],pipes:[I.d],styles:["@media (min-width:576px){.mb-sm-10[_ngcontent-%COMP%]{margin-bottom:10px!important}}"]}),M),w=a("tyNb"),Y=a("Vvy3"),U=a("PCNd"),G=a("40fR"),j=a("e/mZ");function _(e,t){1&e&&c["\u0275\u0275element"](0,"div",25)}function q(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",26),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.companyName," ")}}function z(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1,"Company is required "),c["\u0275\u0275elementEnd"]())}function V(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",26),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.branchName," ")}}function H(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",6),c["\u0275\u0275elementStart"](1,"mat-form-field",7),c["\u0275\u0275elementStart"](2,"mat-label"),c["\u0275\u0275text"](3,"Branch"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"mat-select",27),c["\u0275\u0275listener"]("selectionChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onChangeBranch(e.value)}))("valueChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().branchId=e})),c["\u0275\u0275template"](5,V,2,2,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("value",r.branchId),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",r.branches)}}function X(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",26),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.departmentName," ")}}function K(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",6),c["\u0275\u0275elementStart"](1,"mat-form-field",7),c["\u0275\u0275elementStart"](2,"mat-label"),c["\u0275\u0275text"](3,"Department"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"mat-select",28),c["\u0275\u0275listener"]("selectionChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onChangeDepartment(e.value)}))("valueChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().departmentId=e})),c["\u0275\u0275template"](5,X,2,2,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("value",r.departmentId),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",r.departments)}}function $(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",26),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate2"](" ",n.designationName," - ",n.departmentName," ")}}function Q(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1,"Designation is required "),c["\u0275\u0275elementEnd"]())}function J(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",6),c["\u0275\u0275elementStart"](1,"mat-form-field",7),c["\u0275\u0275elementStart"](2,"mat-label"),c["\u0275\u0275text"](3),c["\u0275\u0275pipe"](4,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"mat-select",29),c["\u0275\u0275listener"]("selectionChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onChangeDesignation(e.value)})),c["\u0275\u0275pipe"](6,"translate"),c["\u0275\u0275template"](7,$,2,3,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](8,Q,2,0,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](4,4,"COMMON.SELECT.DESIGNATIONID.PLACEHOLDER")),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](6,6,"COMMON.SELECT.DESIGNATIONID.PLACEHOLDER")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",r.designations),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",r.submitted&&r.f.designationId.errors&&r.f.designationId.errors.required)}}function W(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT")," "))}function Z(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT")," "))}function ee(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",26),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.value," ")}}function te(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1,"Report type is required "),c["\u0275\u0275elementEnd"]())}function ne(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275elementStart"](1,"div",30),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",n.errorMessages," ")}}function re(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",31),c["\u0275\u0275element"](1,"iframe",32),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("src",n.pdfUrl,c["\u0275\u0275sanitizeResourceUrl"])}}var ae,ie=function(e){return{"is-invalid":e}},le=((ae=function(){function t(n,r,a,i,l,o,m,d,s,c){e(this,t),this.formBuilder=n,this.datePipe=r,this.attendanceReportService=a,this.companyService=i,this.employeeService=l,this.authService=o,this.sanitize=m,this.departmentServce=d,this.designationService=s,this.branchService=c,this.dropdownList=[],this.selectedItems=[],this.dropdownSettings={},this.companyId=localStorage.getItem("companyId"),this.employeeId=[],this.departmentFilter=new p.C,this.designationFilter=new p.D,this.employeeFilter=new p.T,this.isAdmin=!1,this.departmentId=[],this.designationId=[],this.filterOptions=[{id:1,value:"All"},{id:2,value:"Late"},{id:3,value:"Absent"},{id:4,value:"Early Out"},{id:5,value:"In punch miss"},{id:6,value:"Out punch miss"},{id:7,value:"Present"}],this.itemList=[],this.settings={},this.isEmployee=this.authService.isEmployee,this.isAdmin=this.authService.isAdmin,this.empId=this.authService.getLoggedInUserInfo().employeeId}return n(t,[{key:"ngOnInit",value:function(){this.buildForm(),this.getAllCompanies(),this.onChangeCompany(this.companyId),this.getAllEmployees(),this.getAllBranchByCompanyId(),this.initializeEmployeeDropdown()}},{key:"onChangeCompany",value:function(e){this.companyId=e,e&&this.companyId.length>0&&(this.getAllBranchByCompanyId(),this.getALLDepartmentByBranchId(null),this.getAllDesignationByDepartmentId(null))}},{key:"getALLDepartmentByBranchId",value:function(e){var t=this;this.departments=[],this.departmentFilter.companyId=this.companyId,this.departmentFilter.branchIds=e,this.departmentServce.getAllDepartmentByBranchIds(this.departmentFilter).subscribe((function(e){t.departments=e;var n=t.departments.map((function(e){return e.id}));t.getAllDesignationByDepartmentId(n)}),(function(){}))}},{key:"getAllDesignationByDepartmentId",value:function(e){var t=this;this.designations=[],this.designationFilter.companyId=this.companyId,this.designationFilter.entityIds=e,this.designationService.getAllDesignationByDepartmentIds(this.designationFilter).subscribe((function(e){t.designations=e,t.designationId=t.designations.map((function(e){return e.id})),t.getAllEmployeesFilteredList()}),(function(){}))}},{key:"buildForm",value:function(){this.attendanceFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,[l.G.required]],startDate:[this.startDate,[l.G.required]],endDate:[this.endDate,[l.G.required]],employeeId:[this.employeeId],branchId:[this.branchId],departmentId:[this.departmentId],designationId:[this.designationId],statusId:[this.statusId,[l.G.required]]})}},{key:"getAllBranchByCompanyId",value:function(){var e=this;this.branches=[],this.loading=!0,this.branchService.getAllBranchByCompanyId(this.companyId).subscribe((function(t){e.branches=t;var n=e.branches.map((function(e){return e.id}));e.getALLDepartmentByBranchId(n)}))}},{key:"getAllCompanies",value:function(){var e=this;this.companyService.getAllCompanies().subscribe((function(t){e.companies=t}))}},{key:"getAllEmployeesFilteredList",value:function(){var e=this;this.employeeFilter.branchIds=this.branchId,this.employeeFilter.departmentIds=this.departmentId,this.employeeFilter.designationIds=this.designationId,this.employeeFilter.employeeIds=this.employeeId,this.loading=!0,this.employeeService.getAllEmployeePagedListWithoutPagination(this.employeeFilter).subscribe((function(t){e.employees=t,e.itemList=t,e.loading=!1}),(function(){}))}},{key:"getAllEmployees",value:function(){var e=this;this.employeeService.getAllEmployees().subscribe((function(t){if(e.employees=t,e.itemList=t,e.isEmployee&&!e.isAdmin){var n=e.employees.filter((function(t){return t.id===e.empId}))[0];e.selectedItems.push(n)}}),(function(){}))}},{key:"onChangeBranch",value:function(e){this.branchId=e,this.branchId&&this.branchId.length>0?(this.loading=!0,this.getALLDepartmentByBranchId(this.branchId)):(this.getALLDepartmentByBranchId(null),this.branchId=[]),this.departmentId=[],this.designationId=[],this.employeeId=[],this.attendanceFilterFormGroup.controls.departmentId.setValue([]),this.attendanceFilterFormGroup.controls.designationId.setValue([]),this.attendanceFilterFormGroup.controls.employeeId.setValue([])}},{key:"onChangeDepartment",value:function(e){this.departmentId=e,e&&this.departmentId.length>0?(this.loading=!0,this.getAllDesignationByDepartmentId(this.departmentId)):(this.getAllDesignationByDepartmentId(null),this.departmentId=[]),this.designationId=[],this.employeeId=[],this.attendanceFilterFormGroup.controls.designationId.setValue([]),this.attendanceFilterFormGroup.controls.employeeId.setValue([])}},{key:"onChangeEmployee",value:function(e){this.selecetdEmployees=e,this.employeeId=e}},{key:"onChangeDesignation",value:function(e){e&&e.length>0?(this.loading=!0,this.designationId=e):this.designationId=[],this.getAllEmployeesFilteredList(),this.employeeId=[],this.attendanceFilterFormGroup.controls.employeeId.setValue([])}},{key:"onSubmit",value:function(){this.submitted=!0,this.pushEmployeeId(),this.attendanceFilterFormGroup.invalid||this.createAndGetAttendanceDetailsReport()}},{key:"createAndGetAttendanceDetailsReport",value:function(){var e=this;this.loading=!0,this.attendanceDetailsReport=new p.f(this.attendanceFilterFormGroup.value),this.attendanceDetailsReport.branchIds=this.branchId,this.attendanceDetailsReport.employeeIds=this.employeeId,this.attendanceDetailsReport.departmentIds=this.departmentId,this.attendanceDetailsReport.DesignationIds=this.designationId,this.attendanceDetailsReport.startDate=this.datePipe.transform(new Date(this.attendanceDetailsReport.startDate),"yyyy-MM-dd"),this.attendanceDetailsReport.endDate=this.datePipe.transform(new Date(this.attendanceDetailsReport.endDate),"yyyy-MM-dd"),this.attendanceDetailsReport.type=this.attendanceDetailsReport.statusId,this.attendanceReportService.createAttendanceDetailsPdfReport(this.attendanceDetailsReport).subscribe((function(t){e.loading=!1,e.pdfUrl=e.sanitize.bypassSecurityTrustResourceUrl(t.printPdfUrl)}),(function(){e.loading=!1}))}},{key:"pushEmployeeId",value:function(){var e=this;this.employeeId=[],this.selectedItems.forEach((function(t){e.employeeId.push(t.id)}))}},{key:"initializeEmployeeDropdown",value:function(){this.selectedItems=[];var e=window.screen.width>768?"2":"1";this.settings={text:"Select employees",enableSearchFilter:!0,unSelectAllText:"Un Select All",classes:"myclass custom-class",labelKey:"fullName",primaryKey:"id",badgeShowLimit:e,showCheckbox:!0,enableFilterSelectAll:!0,disabled:!0!==(this.isAdmin&&this.isEmployee),maxHeight:"200"}}},{key:"f",get:function(){return this.attendanceFilterFormGroup.controls}}]),t}()).\u0275fac=function(e){return new(e||ae)(c["\u0275\u0275directiveInject"](l.g),c["\u0275\u0275directiveInject"](i.f),c["\u0275\u0275directiveInject"](d.b),c["\u0275\u0275directiveInject"](d.u),c["\u0275\u0275directiveInject"](d.U),c["\u0275\u0275directiveInject"](o.a),c["\u0275\u0275directiveInject"](u.b),c["\u0275\u0275directiveInject"](d.A),c["\u0275\u0275directiveInject"](d.B),c["\u0275\u0275directiveInject"](d.o))},ae.\u0275cmp=c["\u0275\u0275defineComponent"]({type:ae,selectors:[["app-attendance-report"]],decls:58,vars:48,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-12"],["id","tableLabel"],[3,"formGroup"],[1,"row"],[1,"col-lg-2","col-md-3","col-12"],["appearance","outline"],["formControlName","companyId",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["class","col-lg-2 col-md-3 col-12",4,"ngIf"],[1,"col-lg-3","col-md-5","col-12"],[1,"form-group"],["ngDefaultControl","","formControlName","employeeId","name","selectedItems",3,"data","ngModel","settings","ngModelChange"],[1,"col-md-3","col-12"],["matInput","","formControlName","startDate",3,"matDatepicker","placeholder","ngClass","click"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","endDate",3,"matDatepicker","value","placeholder","ngClass","click","valueChange"],["endDatePicker",""],["placeholder","Status","formControlName","statusId"],[1,"row","justify-content-center"],["type","submit",1,"btn","btn-success","mr-5","w-100",2,"font-size","12px",3,"click"],["class","mt-5",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"],["placeholder","Branch","formControlName","branchId","multiple","",3,"value","selectionChange","valueChange"],["placeholder","Department","formControlName","departmentId","multiple","",3,"value","selectionChange","valueChange"],["formControlName","designationId","multiple","",3,"placeholder","selectionChange"],[1,"d-flex","mx-auto"],[1,"mt-5"],[2,"width","100%","height","600px",3,"src"]],template:function(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275template"](0,_,1,0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275elementStart"](3,"h1",3),c["\u0275\u0275text"](4,"Attendance Details Report"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"form",4),c["\u0275\u0275elementStart"](6,"div",5),c["\u0275\u0275elementStart"](7,"div",6),c["\u0275\u0275elementStart"](8,"mat-form-field",7),c["\u0275\u0275elementStart"](9,"mat-label"),c["\u0275\u0275text"](10),c["\u0275\u0275pipe"](11,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"mat-select",8),c["\u0275\u0275pipe"](13,"translate"),c["\u0275\u0275template"](14,q,2,2,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](15,z,2,0,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](16,H,6,2,"div",11),c["\u0275\u0275template"](17,K,6,2,"div",11),c["\u0275\u0275template"](18,J,9,8,"div",11),c["\u0275\u0275elementStart"](19,"div",12),c["\u0275\u0275elementStart"](20,"div",13),c["\u0275\u0275elementStart"](21,"angular2-multiselect",14),c["\u0275\u0275listener"]("ngModelChange",(function(e){return t.selectedItems=e})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"div",15),c["\u0275\u0275elementStart"](23,"mat-form-field",7),c["\u0275\u0275elementStart"](24,"mat-label"),c["\u0275\u0275text"](25),c["\u0275\u0275pipe"](26,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](27,"input",16),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275reference"](31).open()})),c["\u0275\u0275pipe"](28,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](29,"mat-datepicker-toggle",17),c["\u0275\u0275element"](30,"mat-datepicker",null,18),c["\u0275\u0275template"](32,W,3,3,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"div",15),c["\u0275\u0275elementStart"](34,"mat-form-field",7),c["\u0275\u0275elementStart"](35,"mat-label"),c["\u0275\u0275text"](36),c["\u0275\u0275pipe"](37,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](38,"input",19),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275reference"](42).open()}))("valueChange",(function(e){return t.endDate=e})),c["\u0275\u0275pipe"](39,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](40,"mat-datepicker-toggle",17),c["\u0275\u0275element"](41,"mat-datepicker",null,20),c["\u0275\u0275template"](43,Z,3,3,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](44,"div",15),c["\u0275\u0275elementStart"](45,"mat-form-field",7),c["\u0275\u0275elementStart"](46,"mat-label"),c["\u0275\u0275text"](47," Report Type"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](48,"mat-select",21),c["\u0275\u0275template"](49,ee,2,2,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](50,te,2,0,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](51,"div",22),c["\u0275\u0275elementStart"](52,"div",6),c["\u0275\u0275elementStart"](53,"button",23),c["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),c["\u0275\u0275text"](54),c["\u0275\u0275pipe"](55,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](56,ne,3,1,"mat-error",10),c["\u0275\u0275template"](57,re,2,1,"div",24),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275reference"](31),a=c["\u0275\u0275reference"](42);c["\u0275\u0275property"]("ngIf",t.loading),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("formGroup",t.attendanceFilterFormGroup),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](11,30,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](13,32,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",t.companies),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.isAdmin),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.isAdmin),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.isAdmin),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("data",t.itemList)("ngModel",t.selectedItems)("settings",t.settings),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](26,34,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](28,36,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),c["\u0275\u0275property"]("matDatepicker",r)("ngClass",c["\u0275\u0275pureFunction1"](44,ie,t.f.startDate.errors)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("for",r),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startDate.errors&&t.f.startDate.errors.required),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](37,38,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](39,40,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),c["\u0275\u0275property"]("matDatepicker",a)("value",t.endDate)("ngClass",c["\u0275\u0275pureFunction1"](46,ie,t.f.endDate.errors)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("for",a),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endDate.errors&&t.f.endDate.errors.required),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("ngForOf",t.filterOptions),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.statusId.errors&&t.f.statusId.errors.required),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](55,42,"REPORT.INDEX.BUTTONTEXT.ATTENDANCE_PDF_REPORT")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",!t.isFormValid),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.pdfUrl)}},directives:[i.t,l.I,l.t,l.k,f.c,f.g,v.a,l.s,l.j,i.s,j.a,l.d,h.b,E.h,i.q,E.j,f.j,E.f,y.m,f.b],pipes:[I.d],styles:['.c-btn{background-color:#fff;border:2px solid green}.multi-select[_ngcontent-%COMP%]{display:block;margin-top:4px}.error[_ngcontent-%COMP%]{margin-top:-23px}  .selected-list .c-list .c-token{background:green}  .c-token{color:#fff}  .c-angle-down{top:35%!important;width:10px!important} .pure-checkbox input[type=checkbox]+label:before{box-sizing:content-box;content:"";position:absolute;top:50%;left:0;width:15px;height:15px;margin-top:-9px;text-align:center;transition:.4s;border-radius:3px;border:1px solid #218838} .pure-checkbox input[type=checkbox]:checked+label:after{color:#218838!important}.w-100[_ngcontent-%COMP%], ss-multiselect-dropdown[_ngcontent-%COMP%] > div.btn-group[_ngcontent-%COMP%] > ul.dropdown-menu[_ngcontent-%COMP%]{width:100%}  .selected-list .c-btn{color:#808a9a!important;font-size:16px;font-family:Helvetica,sans-serif}  .selected-list .c-list .c-token{font-size:10px}']}),ae);function oe(e,t){1&e&&c["\u0275\u0275element"](0,"div",19)}function me(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",20),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.companyName," ")}}function pe(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1,"Company is required "),c["\u0275\u0275elementEnd"]())}function de(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",20),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.financialYearName," ")}}function se(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1,"Financial Year is required"),c["\u0275\u0275elementEnd"]())}function ce(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",20),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.monthCycleName," ")}}function ue(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1,"Month Cycle is required "),c["\u0275\u0275elementEnd"]())}function fe(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"mat-option",20),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](n.fullName)}}function he(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"COMMON.SELECT.EMPLOYEEID.REQUIERED_ERROR_TEXT"),""))}function Ee(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",21),c["\u0275\u0275element"](1,"iframe",22),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("src",n.pdfUrl,c["\u0275\u0275sanitizeResourceUrl"])}}var ve,ye=((ve=function(){function t(n,r,a,i,l,o,m,p){e(this,t),this.formBuilder=n,this.companyService=r,this.employeeService=a,this.authService=i,this.financialYearService=l,this.monthCycleService=o,this.salaryReportService=m,this.sanitize=p,this.companyId=localStorage.getItem("companyId"),this.loading=!1,this.submitted=!1,this.downloaded=!1,this.isEmployee=this.authService.isEmployee,this.isAdmin=this.authService.isAdmin,this.payrollManager=this.authService.isPayrollManger,this.isAdmin&&this.payrollManager||(this.employeeId=this.authService.getLoggedInUserInfo().employeeId)}return n(t,[{key:"ngOnInit",value:function(){this.buildForm(),this.getAllCompanies(),this.onChangeCompany(this.companyId),this.getAllEmployees()}},{key:"buildForm",value:function(){this.salaryReportFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,[l.G.required]],financialYearId:[this.financialYearId,[l.G.required]],monthCycleId:[this.monthCycleId,[l.G.required]],employeeId:[this.employeeId]})}},{key:"getAllCompanies",value:function(){var e=this;this.companyService.getAllCompanies().subscribe((function(t){e.companies=t}))}},{key:"onChangeEmployee",value:function(e){this.employeeId=e.value}},{key:"getAllEmployees",value:function(){var e=this;this.employeeService.getAllEmployees().subscribe((function(t){e.employees=t,e.employees.unshift({id:p.cb.empty,fullName:"Select All Employee"})}))}},{key:"onChangeMonthCycle",value:function(e){this.monthCycleId=e.value}},{key:"onChangeFinancialYears",value:function(e){var t=e.value;this.financialYearId=t,t&&this.getAllMonthCycleByCompanyIdAndFinancialYear()}},{key:"onChangeCompany",value:function(e){this.companyId=e,e&&this.getAllFinancialYearByCompanyId()}},{key:"getAllFinancialYearByCompanyId",value:function(){var e=this;this.financialYearService.getAllFinancialYearByCompanyId(this.companyId).subscribe((function(t){e.financialYears=t}))}},{key:"getAllMonthCycleByCompanyIdAndFinancialYear",value:function(){var e=this;this.monthCycleService.getMonthCycleByCompanyAndFinancialYear(this.companyId,this.financialYearId).subscribe((function(t){e.monthCycles=t}))}},{key:"onSubmit",value:function(){this.submitted=!0,this.salaryReportFilterFormGroup.invalid||this.createAndGetSalaryReport()}},{key:"downloadPayslipReport",value:function(){this.submitted=!0,this.salaryReportFilterFormGroup.invalid||this.createAndGetPayslipReport()}},{key:"createAndGetSalaryReport",value:function(){var e=this;this.salaryReport=new p.tb(this.salaryReportFilterFormGroup.value),this.loading=!0,this.salaryReportService.createSalaryPdfReport(this.salaryReport).subscribe((function(t){e.loading=!1,e.pdfUrl=e.sanitize.bypassSecurityTrustResourceUrl(t.printPdfUrl)}),(function(){e.loading=!1}))}},{key:"createAndGetPayslipReport",value:function(){var e=this;this.payslipReport=new p.sb(this.salaryReportFilterFormGroup.value),this.loading=!0,this.salaryReportService.createPayslipPdfReport(this.payslipReport).subscribe((function(t){e.loading=!1,e.pdfUrl=e.sanitize.bypassSecurityTrustResourceUrl(t.printPdfUrl)}),(function(){e.loading=!1}))}},{key:"f",get:function(){return this.salaryReportFilterFormGroup.controls}}]),t}()).\u0275fac=function(e){return new(e||ve)(c["\u0275\u0275directiveInject"](l.g),c["\u0275\u0275directiveInject"](d.u),c["\u0275\u0275directiveInject"](d.U),c["\u0275\u0275directiveInject"](o.a),c["\u0275\u0275directiveInject"](d.Y),c["\u0275\u0275directiveInject"](d.ib),c["\u0275\u0275directiveInject"](d.nb),c["\u0275\u0275directiveInject"](u.b))},ve.\u0275cmp=c["\u0275\u0275defineComponent"]({type:ve,selectors:[["app-salary-report"]],decls:46,vars:30,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-sm-12","col-md-12"],["id","tableLabel"],[3,"formGroup"],[1,"row"],[1,"col-md-3","col-12"],["appearance","outline"],["formControlName","companyId",3,"placeholder","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Financial Year","formControlName","financialYearId",3,"value","selectionChange"],["placeholder","Month Cycle","formControlName","monthCycleId",3,"value","selectionChange"],["matInput","","formControlName","employeeId","placeholder","Select Employee",3,"value","disabled","valueChange","selectionChange"],[4,"ngFor","ngForOf"],[1,"row","justify-content-center"],["type","submit",1,"btn","btn-success","mr-5",2,"font-size","smaller",3,"click"],["type","submit",1,"btn","btn-success",2,"font-size","smaller",3,"click"],["class","mt-5",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"],[1,"mt-5"],[2,"width","100%","height","600px",3,"src"]],template:function(e,t){1&e&&(c["\u0275\u0275template"](0,oe,1,0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275elementStart"](3,"h1",3),c["\u0275\u0275text"](4),c["\u0275\u0275pipe"](5,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"form",4),c["\u0275\u0275elementStart"](7,"div",5),c["\u0275\u0275elementStart"](8,"div",6),c["\u0275\u0275elementStart"](9,"mat-form-field",7),c["\u0275\u0275elementStart"](10,"mat-label"),c["\u0275\u0275text"](11),c["\u0275\u0275pipe"](12,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"mat-select",8),c["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeCompany(e.value)})),c["\u0275\u0275pipe"](14,"translate"),c["\u0275\u0275template"](15,me,2,2,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](16,pe,2,0,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"div",6),c["\u0275\u0275elementStart"](18,"mat-form-field",7),c["\u0275\u0275elementStart"](19,"mat-label"),c["\u0275\u0275text"](20,"Financial Year"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](21,"mat-select",11),c["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeFinancialYears(e)})),c["\u0275\u0275template"](22,de,2,2,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](23,se,2,0,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](24,"div",6),c["\u0275\u0275elementStart"](25,"mat-form-field",7),c["\u0275\u0275elementStart"](26,"mat-label"),c["\u0275\u0275text"](27,"Month Cycle"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"mat-select",12),c["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeMonthCycle(e)})),c["\u0275\u0275template"](29,ce,2,2,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](30,ue,2,0,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](31,"div",6),c["\u0275\u0275elementStart"](32,"mat-form-field",7),c["\u0275\u0275elementStart"](33,"mat-label"),c["\u0275\u0275text"](34,"Employee"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](35,"mat-select",13),c["\u0275\u0275listener"]("valueChange",(function(e){return t.employeeId=e}))("selectionChange",(function(e){return t.onChangeEmployee(e)})),c["\u0275\u0275template"](36,fe,3,2,"ng-container",14),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](37,he,3,3,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](38,"div",15),c["\u0275\u0275elementStart"](39,"button",16),c["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),c["\u0275\u0275text"](40),c["\u0275\u0275pipe"](41,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](42,"button",17),c["\u0275\u0275listener"]("click",(function(){return t.downloadPayslipReport()})),c["\u0275\u0275text"](43),c["\u0275\u0275pipe"](44,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](45,Ee,2,1,"div",18),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275property"]("ngIf",t.loading),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](5,20,"REPORT.INDEX.SALARYREPORTTITLE")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("formGroup",t.salaryReportFilterFormGroup),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](12,22,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](14,24,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",t.companies),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("value",t.financialYearId),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",t.financialYears),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.financialYearId.errors&&t.f.financialYearId.errors.required),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("value",t.monthCycleId),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",t.monthCycles),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.monthCycleId.errors&&t.f.monthCycleId.errors.required),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("value",t.employeeId)("disabled",!t.payrollManager),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",t.employees),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.employeeId.errors&&t.f.employeeId.errors.required),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](41,26,"REPORT.INDEX.BUTTONTEXT.SALARY_REPORT_PDF_REPORT"),""),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](44,28,"REPORT.INDEX.BUTTONTEXT.PAY_SLIP_REPORT_PDF"),""),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.submitted&&t.pdfUrl))},directives:[i.t,l.I,l.t,l.k,f.c,f.g,v.a,l.s,l.j,i.s,y.m,f.b],pipes:[I.d],styles:[""]}),ve),Ie=a("LlkH");function ge(e,t){1&e&&c["\u0275\u0275element"](0,"div",25)}function Ce(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",26),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.companyName," ")}}function Re(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1,"Company is required"),c["\u0275\u0275elementEnd"]())}function Ae(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT")))}function Se(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT")))}function be(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",26),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.leaveTypeName),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.leaveTypeName," ")}}function Te(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",26),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Oe(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",26),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.fullName),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.fullName," ")}}function De(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",27),c["\u0275\u0275elementStart"](1,"mat-form-field",8),c["\u0275\u0275elementStart"](2,"mat-label"),c["\u0275\u0275text"](3),c["\u0275\u0275pipe"](4,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"mat-select",28),c["\u0275\u0275listener"]("selectionChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onChangeEmployee(e)})),c["\u0275\u0275pipe"](6,"translate"),c["\u0275\u0275template"](7,Oe,2,2,"mat-option",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](4,3,"LEAVE.LEAVEBALANCE.INDEX.EMPLOYEE.PLACEHOLDER")),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](6,5,"LEAVE.LEAVEBALANCE.INDEX.EMPLOYEE.PLACEHOLDER")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",r.employees)}}function xe(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",29),c["\u0275\u0275element"](1,"iframe",30),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("src",n.pdfUrl,c["\u0275\u0275sanitizeResourceUrl"])}}var Fe,Le=function(e){return{"is-invalid":e}},Pe=((Fe=function(){function t(n,r,a,i,l,o,m,p){e(this,t),this.formBuilder=n,this.datePipe=r,this.companyService=a,this.employeeService=i,this.authService=l,this.leaveReportService=o,this.sanitize=m,this.leaveTypeService=p,this.companyId=localStorage.getItem("companyId"),this.leaveApplications=[],this.searched=!1,this.userId=localStorage.getItem("userId"),this.statuses=[{id:"null",name:"All"},{id:3,name:"Approved"},{name:"Declined",id:9},{name:"Pending",id:1}],this.isEmployee=this.authService.isEmployee,this.isAdmin=this.authService.isAdmin,this.employeeId=this.authService.getLoggedInUserInfo().employeeId}return n(t,[{key:"ngOnInit",value:function(){this.buildForm(),this.getAllCompanies(),this.getAllLeaveTypeByCompanyId(),this.getAllEmployees()}},{key:"buildForm",value:function(){this.leaveReportFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,[l.G.required]],startDate:[this.startDate,[l.G.required]],endDate:[this.endDate,[l.G.required]],statusId:["null"],leaveTypeName:[this.leaveTypeName],employeeName:[this.employeeName]})}},{key:"getAllCompanies",value:function(){var e=this;this.companyService.getAllCompanies().subscribe((function(t){e.companies=t}))}},{key:"onSubmit",value:function(){this.submitted=!0,this.leaveReportFilterFormGroup.invalid||this.createAndGetLeaveReport()}},{key:"createAndGetLeaveReport",value:function(){var e=this;this.loading=!0,this.leaveReport=new Ie.a(this.leaveReportFilterFormGroup.value),this.leaveReport.employeeName=this.employeeName,this.leaveReport.approvalStatusText=this.statusType,this.leaveReport.leaveTypeName=this.leaveTypeName,this.leaveReport.startDate=this.datePipe.transform(new Date(this.leaveReport.startDate),"yyyy-MM-dd"),this.leaveReport.endDate=this.datePipe.transform(new Date(this.leaveReport.endDate),"yyyy-MM-dd"),this.leaveReportSubscription=this.leaveReportService.createLeavePdfReport(this.leaveReport).subscribe((function(t){e.loading=!1,e.pdfUrl=e.sanitize.bypassSecurityTrustResourceUrl(t.printPdfUrl)}),(function(){e.loading=!1}))}},{key:"getAllEmployees",value:function(){var e=this;this.loading=!0,this.employeeService.getAllEmployees().subscribe((function(t){e.employees=t,e.employees.unshift({fullName:"All",id:"null"}),e.loading=!1}),(function(){e.loading=!1}))}},{key:"onChangeCompany",value:function(e){this.companyId=e,this.leaveReport.companyId=e}},{key:"onChangeEmployee",value:function(e){this.employeeName=e.value}},{key:"onChangeStatus",value:function(e){this.statusType=e.value}},{key:"onChangeLeaveTypeName",value:function(e){this.leaveTypeName=e.value}},{key:"getAllLeaveTypeByCompanyId",value:function(){var e=this;this.loading=!0,this.leaveTypeService.getAllLeaveTypeByCompanyIdForCombo(this.companyId).subscribe((function(t){e.leaveTypes=t,e.loading=!1,e.leaveTypes.unshift({leaveTypeName:"All"})}),(function(){e.loading=!1}))}},{key:"f",get:function(){return this.leaveReportFilterFormGroup.controls}}]),t}()).\u0275fac=function(e){return new(e||Fe)(c["\u0275\u0275directiveInject"](l.g),c["\u0275\u0275directiveInject"](i.f),c["\u0275\u0275directiveInject"](d.u),c["\u0275\u0275directiveInject"](d.U),c["\u0275\u0275directiveInject"](o.a),c["\u0275\u0275directiveInject"](d.gb),c["\u0275\u0275directiveInject"](u.b),c["\u0275\u0275directiveInject"](d.hb))},Fe.\u0275cmp=c["\u0275\u0275defineComponent"]({type:Fe,selectors:[["app-leave-report"]],decls:57,vars:41,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-sm-12","col-md-6"],["id","tableLabel"],[1,"col-lg-2","col-md-6","col-sm-10"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-2","col-sm-6","col-md-3"],["appearance","outline"],["formControlName","companyId",3,"placeholder","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","startDate","placeholder","Start Date",3,"matDatepicker","ngClass","click"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","endDate",3,"matDatepicker","placeholder","ngClass","click"],["endDatePicker",""],[1,"col-lg-2","col-sm-2","col-md-3"],["placeholder","Leave Type Name",3,"selectionChange"],[1,"col-lg-1","col-sm-12","col-md-3"],["placeholder","Status","formControlName","statusId",3,"selectionChange"],["class","col-lg-1 col-sm-2 col-md-3",4,"ngIf"],[1,"col-sm-1","col-md-1","text-right","pt-2"],["type","submit",1,"btn","btn-success"],["class","mt-5",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"],[1,"col-lg-1","col-sm-2","col-md-3"],["id","employeeName",3,"placeholder","selectionChange"],[1,"mt-5"],[2,"width","100%","height","600px",3,"src"]],template:function(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275template"](0,ge,1,0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275elementStart"](3,"h1",3),c["\u0275\u0275text"](4),c["\u0275\u0275pipe"](5,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](6,"div",4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"form",5),c["\u0275\u0275listener"]("ngSubmit",(function(){return t.onSubmit()})),c["\u0275\u0275elementStart"](8,"div",6),c["\u0275\u0275elementStart"](9,"div",7),c["\u0275\u0275elementStart"](10,"mat-form-field",8),c["\u0275\u0275elementStart"](11,"mat-label"),c["\u0275\u0275text"](12),c["\u0275\u0275pipe"](13,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"mat-select",9),c["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeCompany(e.value)})),c["\u0275\u0275pipe"](15,"translate"),c["\u0275\u0275template"](16,Ce,2,2,"mat-option",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](17,Re,2,0,"mat-error",11),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"div",7),c["\u0275\u0275elementStart"](19,"mat-form-field",8),c["\u0275\u0275elementStart"](20,"mat-label"),c["\u0275\u0275text"](21),c["\u0275\u0275pipe"](22,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](23,"input",12),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275reference"](26).open()})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](24,"mat-datepicker-toggle",13),c["\u0275\u0275element"](25,"mat-datepicker",null,14),c["\u0275\u0275template"](27,Ae,3,3,"mat-error",11),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"div",7),c["\u0275\u0275elementStart"](29,"mat-form-field",8),c["\u0275\u0275elementStart"](30,"mat-label"),c["\u0275\u0275text"](31),c["\u0275\u0275pipe"](32,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"input",15),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275reference"](37).open()})),c["\u0275\u0275pipe"](34,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](35,"mat-datepicker-toggle",13),c["\u0275\u0275element"](36,"mat-datepicker",null,16),c["\u0275\u0275template"](38,Se,3,3,"mat-error",11),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](39,"div",17),c["\u0275\u0275elementStart"](40,"mat-form-field",8),c["\u0275\u0275elementStart"](41,"mat-label"),c["\u0275\u0275text"](42,"Leave Type Name"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](43,"mat-select",18),c["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeLeaveTypeName(e)})),c["\u0275\u0275template"](44,be,2,2,"mat-option",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](45,"div",19),c["\u0275\u0275elementStart"](46,"mat-form-field",8),c["\u0275\u0275elementStart"](47,"mat-label"),c["\u0275\u0275text"](48,"Status"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](49,"mat-select",20),c["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeStatus(e)})),c["\u0275\u0275template"](50,Te,2,2,"mat-option",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](51,De,8,7,"div",21),c["\u0275\u0275elementStart"](52,"div",22),c["\u0275\u0275elementStart"](53,"button",23),c["\u0275\u0275text"](54),c["\u0275\u0275pipe"](55,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](56,xe,2,1,"div",24),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275reference"](26),a=c["\u0275\u0275reference"](37);c["\u0275\u0275property"]("ngIf",t.loading),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](5,23,"REPORT.INDEX.LEAVEREPORTTITLE")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("formGroup",t.leaveReportFilterFormGroup),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](13,25,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](15,27,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",t.companies),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](22,29,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("matDatepicker",r)("ngClass",c["\u0275\u0275pureFunction1"](37,Le,t.f.startDate.errors)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("for",r),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startDate.errors&&t.f.startDate.errors.required),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](32,31,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](34,33,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),c["\u0275\u0275property"]("matDatepicker",a)("ngClass",c["\u0275\u0275pureFunction1"](39,Le,t.f.endDate.errors)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("for",a),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endDate.errors&&t.f.endDate.errors.required),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("ngForOf",t.leaveTypes),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("ngForOf",t.statuses),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.isAdmin),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](55,35,"COMMON.SEARCHTEXT")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.submitted&&t.pdfUrl)}},directives:[i.t,l.I,l.t,l.k,f.c,f.g,v.a,l.s,l.j,i.s,h.b,l.d,E.h,i.q,E.j,f.j,E.f,y.m,f.b],pipes:[I.d],styles:[""]}),Fe);function Ne(e,t){1&e&&c["\u0275\u0275element"](0,"div",17)}function Me(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",18),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.companyName," ")}}function ke(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1,"Company is required "),c["\u0275\u0275elementEnd"]())}function Be(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"mat-option",18),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](n.fullName)}}function we(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"COMMON.SELECT.EMPLOYEEID.REQUIERED_ERROR_TEXT"),""))}function Ye(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",18),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.financialYearName," ")}}function Ue(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1,"Financial Year is required"),c["\u0275\u0275elementEnd"]())}function Ge(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",18),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.monthCycleName," ")}}function je(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1,"Month Cycle is required"),c["\u0275\u0275elementEnd"]())}var _e,qe=((_e=function(){function t(n,r,a,i,l,o,m,p,d,s,c,u){e(this,t),this.formBuilder=n,this.alertService=r,this.injector=a,this.datePipe=i,this.attendanceReportService=l,this.billClaimReportService=o,this.companyService=m,this.employeeService=p,this.authService=d,this.financialYearService=s,this.monthCycleService=c,this.salaryReportService=u,this.companyId=localStorage.getItem("companyId"),this.loading=!1,this.submitted=!1}return n(t,[{key:"ngOnInit",value:function(){this.buildForm(),this.getAllCompanies(),this.onChangeCompany(this.companyId),this.getAllEmployees()}},{key:"onChangeEmployee",value:function(e){this.employeeId=e.value}},{key:"getAllEmployees",value:function(){var e=this;this.employeeService.getAllEmployees().subscribe((function(t){e.employees=t,e.employees.unshift({id:p.cb.empty,fullName:"Select All Employee"})}))}},{key:"buildForm",value:function(){this.payslipReportFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,[l.G.required]],financialYearId:[this.financialYearId,[l.G.required]],monthCycleId:[this.monthCycleId,[l.G.required]],employeeId:[this.employeeId]})}},{key:"getAllCompanies",value:function(){var e=this;this.companyService.getAllCompanies().subscribe((function(t){e.companies=t}))}},{key:"onChangeMonthCycle",value:function(e){this.monthCycleId=e.value}},{key:"onChangeFinancialYears",value:function(e){var t=e.value;this.financialYearId=t,t&&this.getAllMonthCycleByCompanyIdAndFinancialYear()}},{key:"onChangeCompany",value:function(e){this.companyId=e,e&&this.getAllFinancialYearByCompanyId()}},{key:"getAllFinancialYearByCompanyId",value:function(){var e=this;this.financialYearService.getAllFinancialYearByCompanyId(this.companyId).subscribe((function(t){e.financialYears=t}))}},{key:"getAllMonthCycleByCompanyIdAndFinancialYear",value:function(){var e=this;this.monthCycleService.getMonthCycleByCompanyAndFinancialYear(this.companyId,this.financialYearId).subscribe((function(t){e.monthCycles=t}))}},{key:"onSubmit",value:function(){this.submitted=!0,this.payslipReportFilterFormGroup.invalid||this.createAndGetPayslipReport()}},{key:"createAndGetPayslipReport",value:function(){var e=this;this.payslipReport=new p.sb(this.payslipReportFilterFormGroup.value),this.loading=!0,this.salaryReportService.createPayslipPdfReport(this.payslipReport).subscribe((function(t){e.loading=!1,window.open(t.printPdfUrl)}),(function(){e.loading=!1}))}},{key:"f",get:function(){return this.payslipReportFilterFormGroup.controls}}]),t}()).\u0275fac=function(e){return new(e||_e)(c["\u0275\u0275directiveInject"](l.g),c["\u0275\u0275directiveInject"](s.a),c["\u0275\u0275directiveInject"](c.Injector),c["\u0275\u0275directiveInject"](i.f),c["\u0275\u0275directiveInject"](d.b),c["\u0275\u0275directiveInject"](d.l),c["\u0275\u0275directiveInject"](d.u),c["\u0275\u0275directiveInject"](d.U),c["\u0275\u0275directiveInject"](o.a),c["\u0275\u0275directiveInject"](d.Y),c["\u0275\u0275directiveInject"](d.ib),c["\u0275\u0275directiveInject"](d.nb))},_e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:_e,selectors:[["app-pay-slip-report"]],decls:41,vars:25,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-sm-12","col-md-12"],["id","tableLabel"],[3,"formGroup"],[1,"row"],[1,"col-4"],["appearance","outline"],["formControlName","companyId",3,"placeholder","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","employeeId","placeholder","Select Employee",3,"value","valueChange","selectionChange"],[4,"ngFor","ngForOf"],["placeholder","Financial Year","formControlName","financialYearId",3,"value","selectionChange"],["placeholder","Month Cycle","formControlName","monthCycleId",3,"value","selectionChange"],[1,"col-12","col-md-12","col-lg-3","p-0"],["type","submit",1,"btn","btn-success",2,"font-size","smaller",3,"click"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"]],template:function(e,t){1&e&&(c["\u0275\u0275template"](0,Ne,1,0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275elementStart"](3,"h1",3),c["\u0275\u0275text"](4),c["\u0275\u0275pipe"](5,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"form",4),c["\u0275\u0275elementStart"](7,"div",5),c["\u0275\u0275elementStart"](8,"div",6),c["\u0275\u0275elementStart"](9,"mat-form-field",7),c["\u0275\u0275elementStart"](10,"mat-label"),c["\u0275\u0275text"](11),c["\u0275\u0275pipe"](12,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"mat-select",8),c["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeCompany(e.value)})),c["\u0275\u0275pipe"](14,"translate"),c["\u0275\u0275template"](15,Me,2,2,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](16,ke,2,0,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"div",6),c["\u0275\u0275elementStart"](18,"mat-form-field",7),c["\u0275\u0275elementStart"](19,"mat-select",11),c["\u0275\u0275listener"]("valueChange",(function(e){return t.employeeId=e}))("selectionChange",(function(e){return t.onChangeEmployee(e)})),c["\u0275\u0275template"](20,Be,3,2,"ng-container",12),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](21,we,3,3,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"div",5),c["\u0275\u0275elementStart"](23,"div",6),c["\u0275\u0275elementStart"](24,"mat-form-field",7),c["\u0275\u0275elementStart"](25,"mat-label"),c["\u0275\u0275text"](26,"Financial Year"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](27,"mat-select",13),c["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeFinancialYears(e)})),c["\u0275\u0275template"](28,Ye,2,2,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](29,Ue,2,0,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](30,"div",6),c["\u0275\u0275elementStart"](31,"mat-form-field",7),c["\u0275\u0275elementStart"](32,"mat-label"),c["\u0275\u0275text"](33,"Month Cycle"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](34,"mat-select",14),c["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeMonthCycle(e)})),c["\u0275\u0275template"](35,Ge,2,2,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](36,je,2,0,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](37,"div",15),c["\u0275\u0275elementStart"](38,"button",16),c["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),c["\u0275\u0275text"](39),c["\u0275\u0275pipe"](40,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275property"]("ngIf",t.loading),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](5,17,"REPORT.INDEX.PAYSLIPREPORT")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("formGroup",t.payslipReportFilterFormGroup),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](12,19,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](14,21,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",t.companies),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("value",t.employeeId),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",t.employees),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.employeeId.errors&&t.f.employeeId.errors.required),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("value",t.financialYearId),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",t.financialYears),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.financialYearId.errors&&t.f.financialYearId.errors.required),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("value",t.monthCycleId),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",t.monthCycles),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.monthCycleId.errors&&t.f.monthCycleId.errors.required),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](40,23,"REPORT.INDEX.BUTTONTEXT.PAY_SLIP_REPORT_PDF"),""))},directives:[i.t,l.I,l.t,l.k,f.c,f.g,v.a,l.s,l.j,i.s,y.m,f.b],pipes:[I.d],styles:[""]}),_e),ze=a("tk/3");function Ve(e,t){1&e&&c["\u0275\u0275element"](0,"div",22)}function He(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",23),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.companyName," ")}}function Xe(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1,"Company is required "),c["\u0275\u0275elementEnd"]())}function Ke(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"mat-option",23),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](n.fullName)}}function $e(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"COMMON.SELECT.EMPLOYEEID.REQUIERED_ERROR_TEXT"),""))}function Qe(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT")," "))}function Je(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT")," "))}function We(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275elementStart"](1,"div",24),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",n.errorMessages," ")}}function Ze(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",25),c["\u0275\u0275element"](1,"iframe",26),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("src",n.pdfUrl,c["\u0275\u0275sanitizeResourceUrl"])}}var et=function(e){return{"is-invalid":e}};function tt(e,t){1&e&&c["\u0275\u0275element"](0,"div",19)}function nt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",20),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.companyName," ")}}function rt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1,"Company is required "),c["\u0275\u0275elementEnd"]())}function at(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",20),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.financialYearName," ")}}function it(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1,"Financial Year is required"),c["\u0275\u0275elementEnd"]())}function lt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",20),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.lookUpTypeName," ")}}function ot(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1," Bonus Type is required"),c["\u0275\u0275elementEnd"]())}function mt(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"mat-option",20),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](n.fullName)}}function pt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"COMMON.SELECT.EMPLOYEEID.REQUIERED_ERROR_TEXT"),""))}function dt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",21),c["\u0275\u0275element"](1,"iframe",22),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("src",n.pdfUrl,c["\u0275\u0275sanitizeResourceUrl"])}}function st(e,t){1&e&&c["\u0275\u0275element"](0,"div",20)}function ct(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",21),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.companyName," ")}}function ut(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1,"Company is required "),c["\u0275\u0275elementEnd"]())}function ft(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",21),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.value," ")}}function ht(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1," Type is required"),c["\u0275\u0275elementEnd"]())}function Et(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT")," "))}function vt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT")," "))}function yt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",22),c["\u0275\u0275element"](1,"iframe",23),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("src",n.pdfUrl,c["\u0275\u0275sanitizeResourceUrl"])}}var It=function(e){return{"is-invalid":e}};function gt(e,t){1&e&&c["\u0275\u0275element"](0,"div",19)}function Ct(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",20),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.companyName," ")}}function Rt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1,"Company is required "),c["\u0275\u0275elementEnd"]())}function At(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT")," "))}function St(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT")," "))}function bt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",21),c["\u0275\u0275element"](1,"iframe",22),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("src",n.pdfUrl,c["\u0275\u0275sanitizeResourceUrl"])}}var Tt=function(e){return{"is-invalid":e}};function Ot(e,t){1&e&&c["\u0275\u0275element"](0,"div",22)}function Dt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",23),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.companyName," ")}}function xt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1,"Company is required "),c["\u0275\u0275elementEnd"]())}function Ft(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",23),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.branchName," ")}}function Lt(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",6),c["\u0275\u0275elementStart"](1,"mat-form-field",7),c["\u0275\u0275elementStart"](2,"mat-label"),c["\u0275\u0275text"](3,"Branch"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"mat-select",24),c["\u0275\u0275listener"]("selectionChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onChangeBranch(e.value)}))("valueChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().branchId=e})),c["\u0275\u0275template"](5,Ft,2,2,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("value",r.branchId),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",r.branches)}}function Pt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",23),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.departmentName," ")}}function Nt(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",6),c["\u0275\u0275elementStart"](1,"mat-form-field",7),c["\u0275\u0275elementStart"](2,"mat-label"),c["\u0275\u0275text"](3,"Department"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"mat-select",25),c["\u0275\u0275listener"]("selectionChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onChangeDepartment(e.value)}))("valueChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().departmentId=e})),c["\u0275\u0275template"](5,Pt,2,2,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("value",r.departmentId),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",r.departments)}}function Mt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",23),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate2"](" ",n.designationName," - ",n.departmentName," ")}}function kt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1,"Designation is required "),c["\u0275\u0275elementEnd"]())}function Bt(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",6),c["\u0275\u0275elementStart"](1,"mat-form-field",7),c["\u0275\u0275elementStart"](2,"mat-label"),c["\u0275\u0275text"](3),c["\u0275\u0275pipe"](4,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"mat-select",26),c["\u0275\u0275listener"]("selectionChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onChangeDesignation(e.value)})),c["\u0275\u0275pipe"](6,"translate"),c["\u0275\u0275template"](7,Mt,2,3,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](8,kt,2,0,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](4,4,"COMMON.SELECT.DESIGNATIONID.PLACEHOLDER")),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](6,6,"COMMON.SELECT.DESIGNATIONID.PLACEHOLDER")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",r.designations),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",r.submitted&&r.f.designationId.errors&&r.f.designationId.errors.required)}}function wt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",23),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.fullName," ")}}function Yt(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",6),c["\u0275\u0275elementStart"](1,"mat-form-field",7),c["\u0275\u0275elementStart"](2,"mat-label"),c["\u0275\u0275text"](3,"Employee"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"mat-select",27),c["\u0275\u0275listener"]("selectionChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onChangeEmployee(e.value)}))("valueChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().employeeId=e})),c["\u0275\u0275template"](5,wt,2,2,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("value",r.employeeId),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",r.employees)}}function Ut(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT")," "))}function Gt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT")," "))}function jt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",23),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function _t(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1," Status is required "),c["\u0275\u0275elementEnd"]())}function qt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275elementStart"](1,"div",28),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",n.errorMessages," ")}}function zt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",29),c["\u0275\u0275element"](1,"iframe",30),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("src",n.pdfUrl,c["\u0275\u0275sanitizeResourceUrl"])}}var Vt=function(e){return{"is-invalid":e}};function Ht(e,t){1&e&&c["\u0275\u0275element"](0,"div",19)}function Xt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",20),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.companyName," ")}}function Kt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1,"Company is required "),c["\u0275\u0275elementEnd"]())}function $t(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT")," "))}function Qt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT")," "))}function Jt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",21),c["\u0275\u0275element"](1,"iframe",22),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("src",n.pdfUrl,c["\u0275\u0275sanitizeResourceUrl"])}}var Wt=function(e){return{"is-invalid":e}};function Zt(e,t){1&e&&c["\u0275\u0275element"](0,"div",16)}function en(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",17),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.companyName," ")}}function tn(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1,"Company is required "),c["\u0275\u0275elementEnd"]())}function nn(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",17),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.financialYearName," ")}}function rn(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1,"Financial Year is required"),c["\u0275\u0275elementEnd"]())}function an(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",17),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.monthCycleName," ")}}function ln(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1,"Month Cycle is required "),c["\u0275\u0275elementEnd"]())}function on(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",18),c["\u0275\u0275element"](1,"iframe",19),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("src",n.pdfUrl,c["\u0275\u0275sanitizeResourceUrl"])}}function mn(e,t){1&e&&c["\u0275\u0275element"](0,"div",23)}function pn(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",24),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.companyName," ")}}function dn(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1,"Company is required "),c["\u0275\u0275elementEnd"]())}function sn(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT")," "))}function cn(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT")," "))}function un(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275elementStart"](1,"div",25),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",n.errorMessages," ")}}function fn(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",26),c["\u0275\u0275element"](1,"iframe",27),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("src",n.pdfUrl,c["\u0275\u0275sanitizeResourceUrl"])}}var hn,En,vn,yn,In,gn,Cn,Rn,An,Sn=function(e){return{"is-invalid":e}},bn=[{path:"attendance-report",component:le,canActivate:[Y.a],data:{roles:["Administrators","SystemAdmin","EmployeeRole"]}},{path:"attendance",component:B,canActivate:[Y.a],data:{roles:["Administrators","SystemAdmin","EmployeeRole"]}},{path:"salary",component:ye,canActivate:[Y.a],data:{roles:["Administrators","SystemAdmin","EmployeeRole","PayrollManager"]}},{path:"leave",component:Pe,canActivate:[Y.a],data:{roles:["Administrators","SystemAdmin"]}},{path:"payslip",component:qe,canActivate:[Y.a],data:{roles:["Administrators","SystemAdmin","EmployeeRole","PayrollManager"]}},{path:"bill",component:(Rn=function(){function t(n,r,a,i,l,o,m,d,s,c,u){e(this,t),this.formBuilder=n,this.alertService=r,this.injector=a,this.datePipe=i,this.attendanceReportService=l,this.billClaimReportService=o,this.companyService=m,this.employeeService=d,this.authService=s,this.sanitize=c,this.http=u,this.companyId=localStorage.getItem("companyId"),this.employeeId=p.cb.empty,this.isEmployee=this.authService.isEmployee,this.isAdmin=this.authService.isAdmin,this.isAdmin||(this.employeeId=this.authService.getLoggedInUserInfo().employeeId)}return n(t,[{key:"ngOnInit",value:function(){this.buildForm(),this.getAllCompanies(),this.getAllEmployees()}},{key:"buildForm",value:function(){this.reportFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,[l.G.required]],startTime:[this.startTime,[l.G.required]],endTime:[this.endTime,[l.G.required]],employeeId:[this.employeeId]})}},{key:"getAllCompanies",value:function(){var e=this;this.companyService.getAllCompanies().subscribe((function(t){e.companies=t}))}},{key:"getAllEmployees",value:function(){var e=this;this.employeeService.getAllEmployees().subscribe((function(t){e.employees=t,e.employees.unshift({id:p.cb.empty,fullName:"Select All Employee"})}))}},{key:"downloadBillClaimReport",value:function(){var e=this;this.submitted=!0,this.reportFilterFormGroup.invalid||(this.billClaimReport=new p.p(this.reportFilterFormGroup.value),this.billClaimReport.startTime=this.datePipe.transform(new Date(this.billClaimReport.startTime),"yyyy-MM-dd"),this.billClaimReport.endTime=this.datePipe.transform(new Date(this.billClaimReport.endTime),"yyyy-MM-dd"),this.loading=!0,this.billClaimReportService.createBillClaimReport(this.billClaimReport).subscribe((function(t){e.generateExcel(t,"Bill-Claim-Report"),e.loading=!1,e.submitted=!1}),(function(t){e.loading=!1,e.submitted=!1})))}},{key:"generateExcel",value:function(e,t){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(e.body,t);else{var n=window.URL.createObjectURL(e.body),r=document.createElement("a");document.body.appendChild(r),r.setAttribute("style","display: none"),r.href=n,r.download=t,r.click(),window.URL.revokeObjectURL(n),r.remove()}}},{key:"downloadBillClaimPdfReport",value:function(){var e=this;this.submitted=!0,this.reportFilterFormGroup.invalid||(this.billClaimReport=new p.p(this.reportFilterFormGroup.value),this.billClaimReport.startTime=this.datePipe.transform(new Date(this.billClaimReport.startTime),"yyyy-MM-dd"),this.billClaimReport.endTime=this.datePipe.transform(new Date(this.billClaimReport.endTime),"yyyy-MM-dd"),this.loading=!0,this.billClaimReportService.createBillClaimePdfReport(this.billClaimReport).subscribe((function(t){e.loading=!1,e.pdfUrl=e.sanitize.bypassSecurityTrustResourceUrl(t.printPdfUrl)}),(function(){e.loading=!1})))}},{key:"onChangeEmployee",value:function(e){this.employeeId=e.value}},{key:"downloadEmployeeBillClaimReport",value:function(){var e=this;this.billClaimReport=new p.p(this.reportFilterFormGroup.value),this.billClaimReport.startTime=this.datePipe.transform(new Date(this.billClaimReport.startTime),"yyyy-MM-dd"),this.billClaimReport.endTime=this.datePipe.transform(new Date(this.billClaimReport.endTime),"yyyy-MM-dd"),this.loading=!0,this.billClaimReportService.createBillClaimePdfReport(this.billClaimReport).subscribe((function(t){e.loading=!1,e.pdfUrl=e.sanitize.bypassSecurityTrustResourceUrl(t.printPdfUrl)}),(function(){e.loading=!1}))}},{key:"downloadAttendanceSummaryReport",value:function(){var e=this;this.submitted=!0,this.reportFilterFormGroup.invalid||(this.attendanceReport=new p.h(this.reportFilterFormGroup.value),this.attendanceReport.startTime=this.datePipe.transform(new Date(this.attendanceReport.startTime),"yyyy-MM-dd"),this.attendanceReport.endTime=this.datePipe.transform(new Date(this.attendanceReport.endTime),"yyyy-MM-dd"),this.loading=!0,this.attendanceReportService.createAttendanceSummaryPdfReport(this.attendanceReport).subscribe((function(t){e.loading=!1,e.pdfUrl=e.sanitize.bypassSecurityTrustResourceUrl(t.printPdfUrl)}),(function(){e.loading=!1,e.submitted=!1})))}},{key:"f",get:function(){return this.reportFilterFormGroup.controls}}]),t}(),Rn.\u0275fac=function(e){return new(e||Rn)(c["\u0275\u0275directiveInject"](l.g),c["\u0275\u0275directiveInject"](s.a),c["\u0275\u0275directiveInject"](c.Injector),c["\u0275\u0275directiveInject"](i.f),c["\u0275\u0275directiveInject"](d.b),c["\u0275\u0275directiveInject"](d.l),c["\u0275\u0275directiveInject"](d.u),c["\u0275\u0275directiveInject"](d.U),c["\u0275\u0275directiveInject"](o.a),c["\u0275\u0275directiveInject"](u.b),c["\u0275\u0275directiveInject"](ze.b))},Rn.\u0275cmp=c["\u0275\u0275defineComponent"]({type:Rn,selectors:[["app-bill-report"]],decls:53,vars:50,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-12"],["id","tableLabel"],[3,"formGroup"],[1,"row"],[1,"col-sm-3","col-md-3","col-12"],["appearance","outline"],["formControlName","companyId",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","employeeId","placeholder","Select Employee",3,"value","disabled","valueChange","selectionChange"],[4,"ngFor","ngForOf"],["matInput","","formControlName","startTime",3,"matDatepicker","placeholder","ngClass","click"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","endTime",3,"matDatepicker","value","placeholder","ngClass","click","valueChange"],["endDatePicker",""],[1,"row","justify-content-center"],["type","submit",1,"btn","btn-success","mr-5",2,"font-size","12px",3,"click"],["type","submit",1,"btn","btn-success",2,"font-size","12px",3,"click"],["class","mt-5",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"],[1,"d-flex","mx-auto"],[1,"mt-5"],[2,"width","100%","height","600px",3,"src"]],template:function(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275template"](0,Ve,1,0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275elementStart"](3,"h1",3),c["\u0275\u0275text"](4),c["\u0275\u0275pipe"](5,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"form",4),c["\u0275\u0275elementStart"](7,"div",5),c["\u0275\u0275elementStart"](8,"div",6),c["\u0275\u0275elementStart"](9,"mat-form-field",7),c["\u0275\u0275elementStart"](10,"mat-label"),c["\u0275\u0275text"](11),c["\u0275\u0275pipe"](12,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"mat-select",8),c["\u0275\u0275pipe"](14,"translate"),c["\u0275\u0275template"](15,He,2,2,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](16,Xe,2,0,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"div",6),c["\u0275\u0275elementStart"](18,"mat-form-field",7),c["\u0275\u0275elementStart"](19,"mat-select",11),c["\u0275\u0275listener"]("valueChange",(function(e){return t.employeeId=e}))("selectionChange",(function(e){return t.onChangeEmployee(e)})),c["\u0275\u0275template"](20,Ke,3,2,"ng-container",12),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](21,$e,3,3,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"div",6),c["\u0275\u0275elementStart"](23,"mat-form-field",7),c["\u0275\u0275elementStart"](24,"mat-label"),c["\u0275\u0275text"](25),c["\u0275\u0275pipe"](26,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](27,"input",13),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275reference"](31).open()})),c["\u0275\u0275pipe"](28,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](29,"mat-datepicker-toggle",14),c["\u0275\u0275element"](30,"mat-datepicker",null,15),c["\u0275\u0275template"](32,Qe,3,3,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"div",6),c["\u0275\u0275elementStart"](34,"mat-form-field",7),c["\u0275\u0275elementStart"](35,"mat-label"),c["\u0275\u0275text"](36),c["\u0275\u0275pipe"](37,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](38,"input",16),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275reference"](42).open()}))("valueChange",(function(e){return t.endTime=e})),c["\u0275\u0275pipe"](39,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](40,"mat-datepicker-toggle",14),c["\u0275\u0275element"](41,"mat-datepicker",null,17),c["\u0275\u0275template"](43,Je,3,3,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](44,"div",18),c["\u0275\u0275elementStart"](45,"button",19),c["\u0275\u0275listener"]("click",(function(){return t.downloadBillClaimReport()})),c["\u0275\u0275text"](46),c["\u0275\u0275pipe"](47,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](48,"button",20),c["\u0275\u0275listener"]("click",(function(){return t.downloadBillClaimPdfReport()})),c["\u0275\u0275text"](49),c["\u0275\u0275pipe"](50,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](51,We,3,1,"mat-error",10),c["\u0275\u0275template"](52,Ze,2,1,"div",21),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275reference"](31),a=c["\u0275\u0275reference"](42);c["\u0275\u0275property"]("ngIf",t.loading),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](5,28,"REPORT.INDEX.BILLCLAIMREPORTTITLE")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("formGroup",t.reportFilterFormGroup),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](12,30,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](14,32,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",t.companies),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("value",t.employeeId)("disabled",!t.isAdmin),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",t.employees),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.employeeId.errors&&t.f.employeeId.errors.required),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](26,34,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](28,36,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),c["\u0275\u0275property"]("matDatepicker",r)("ngClass",c["\u0275\u0275pureFunction1"](46,et,t.f.startTime.errors)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("for",r),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startTime.errors&&t.f.startTime.errors.required),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](37,38,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](39,40,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),c["\u0275\u0275property"]("matDatepicker",a)("value",t.endTime)("ngClass",c["\u0275\u0275pureFunction1"](48,et,t.f.endTime.errors)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("for",a),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endTime.errors&&t.f.endTime.errors.required),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](47,42,"REPORT.INDEX.BUTTONTEXT.BILL_CLAIM_EXCEL_REPORT"),""),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](50,44,"REPORT.INDEX.BUTTONTEXT.BILL_CLAIM_PDF_REPORT"),""),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",!t.isFormValid),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.pdfUrl)}},directives:[i.t,l.I,l.t,l.k,f.c,f.g,v.a,l.s,l.j,i.s,h.b,l.d,E.h,i.q,E.j,f.j,E.f,y.m,f.b],pipes:[I.d],styles:[""]}),Rn),canActivate:[Y.a],data:{roles:["Administrators","SystemAdmin","EmployeeRole"]}},{path:"bonus",component:(Cn=function(){function t(n,r,a,i,l,o,m,p){e(this,t),this.formBuilder=n,this.companyService=r,this.authService=a,this.financialYearService=i,this.commonLookUpTypeService=l,this.bonusReportService=o,this.employeeService=m,this.sanitize=p,this.companyId=localStorage.getItem("companyId"),this.loading=!1,this.downloaded=!1,this.isEmployee=this.authService.isEmployee,this.payrollManager=this.authService.isPayrollManger,this.isAdmin&&this.payrollManager||(this.employeeId=this.authService.getLoggedInUserInfo().employeeId)}return n(t,[{key:"ngOnInit",value:function(){this.buildForm(),this.getAllCompanies(),this.getBonusTypes(),this.getAllFinancialYearByCompanyId(),this.getAllEmployees()}},{key:"getAllCompanies",value:function(){var e=this;this.companyService.getAllCompanies().subscribe((function(t){e.companies=t}))}},{key:"buildForm",value:function(){this.bonusReportFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,[l.G.required]],financialYearId:[this.financialYearId,[l.G.required]],bonusTypeId:[this.bonusTypeId,[l.G.required]],employeeId:[this.employeeId]})}},{key:"getBonusTypes",value:function(){var e=this;this.commonLookUpTypeService.getCommonLookUpTypeByParentCode(this.companyId,"FestivalBonusTypes").subscribe((function(t){e.bonustypes=t}),(function(){}))}},{key:"onChangeFinancialYears",value:function(e){this.financialYearId=e.value}},{key:"getAllEmployees",value:function(){var e=this;this.employeeService.getAllEmployees().subscribe((function(t){e.employees=t,e.employees.unshift({id:null,fullName:"Select All Employee"})}))}},{key:"getAllFinancialYearByCompanyId",value:function(){var e=this;this.financialYearService.getAllFinancialYearByCompanyId(this.companyId).subscribe((function(t){e.financialYears=t}))}},{key:"onChangeEmployee",value:function(e){this.employeeId=e.value}},{key:"onSubmit",value:function(){this.submitted=!0,this.bonusReportFilterFormGroup.invalid||this.createAndGetBonusReport()}},{key:"createAndGetBonusReport",value:function(){var e=this;this.loading=!0,this.bonusReport=new p.q(this.bonusReportFilterFormGroup.value),this.bonusReportService.createBonusPdfReport(this.bonusReport).subscribe((function(t){e.loading=!1,e.pdfUrl=e.sanitize.bypassSecurityTrustResourceUrl(t.printPdfUrl)}),(function(){}))}},{key:"f",get:function(){return this.bonusReportFilterFormGroup.controls}}]),t}(),Cn.\u0275fac=function(e){return new(e||Cn)(c["\u0275\u0275directiveInject"](l.g),c["\u0275\u0275directiveInject"](d.u),c["\u0275\u0275directiveInject"](o.a),c["\u0275\u0275directiveInject"](d.Y),c["\u0275\u0275directiveInject"](d.p),c["\u0275\u0275directiveInject"](d.n),c["\u0275\u0275directiveInject"](d.U),c["\u0275\u0275directiveInject"](u.b))},Cn.\u0275cmp=c["\u0275\u0275defineComponent"]({type:Cn,selectors:[["app-bonus-report"]],decls:43,vars:27,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-sm-12","col-md-12"],["id","tableLabel"],[3,"formGroup"],[1,"row"],[1,"col-md-3","col-12"],["appearance","outline"],["formControlName","companyId",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Financial Year","formControlName","financialYearId",3,"value","selectionChange"],[1,"label-font"],["placeholder","Financial Year","formControlName","bonusTypeId",3,"value","valueChange"],["matInput","","formControlName","employeeId","placeholder","Select Employee",3,"value","disabled","valueChange","selectionChange"],[4,"ngFor","ngForOf"],[1,"row","justify-content-center","pt-20"],["type","submit",1,"btn","btn-success","mr-5",3,"click"],["class","mt-5",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"],[1,"mt-5"],[2,"width","100%","height","600px",3,"src"]],template:function(e,t){1&e&&(c["\u0275\u0275template"](0,tt,1,0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275elementStart"](3,"h1",3),c["\u0275\u0275text"](4),c["\u0275\u0275pipe"](5,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"form",4),c["\u0275\u0275elementStart"](7,"div",5),c["\u0275\u0275elementStart"](8,"div",6),c["\u0275\u0275elementStart"](9,"mat-form-field",7),c["\u0275\u0275elementStart"](10,"mat-label"),c["\u0275\u0275text"](11),c["\u0275\u0275pipe"](12,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"mat-select",8),c["\u0275\u0275pipe"](14,"translate"),c["\u0275\u0275template"](15,nt,2,2,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](16,rt,2,0,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"div",6),c["\u0275\u0275elementStart"](18,"mat-form-field",7),c["\u0275\u0275elementStart"](19,"mat-label"),c["\u0275\u0275text"](20,"Financial Year"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](21,"mat-select",11),c["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeFinancialYears(e)})),c["\u0275\u0275template"](22,at,2,2,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](23,it,2,0,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](24,"div",6),c["\u0275\u0275elementStart"](25,"mat-form-field",7),c["\u0275\u0275elementStart"](26,"mat-label",12),c["\u0275\u0275text"](27,"Bonus Type"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"mat-select",13),c["\u0275\u0275listener"]("valueChange",(function(e){return t.bonusTypeId=e})),c["\u0275\u0275template"](29,lt,2,2,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](30,ot,2,0,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](31,"div",6),c["\u0275\u0275elementStart"](32,"mat-form-field",7),c["\u0275\u0275elementStart"](33,"mat-label"),c["\u0275\u0275text"](34,"Employee"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](35,"mat-select",14),c["\u0275\u0275listener"]("valueChange",(function(e){return t.employeeId=e}))("selectionChange",(function(e){return t.onChangeEmployee(e)})),c["\u0275\u0275template"](36,mt,3,2,"ng-container",15),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](37,pt,3,3,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](38,"div",16),c["\u0275\u0275elementStart"](39,"button",17),c["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),c["\u0275\u0275text"](40),c["\u0275\u0275pipe"](41,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](42,dt,2,1,"div",18),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275property"]("ngIf",t.loading),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](5,19,"REPORT.INDEX.BONUSREPORTTITLE")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("formGroup",t.bonusReportFilterFormGroup),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](12,21,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](14,23,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",t.companies),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("value",t.financialYearId),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",t.financialYears),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.financialYearId.errors&&t.f.financialYearId.errors.required),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("value",t.bonusTypeId),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",t.bonustypes),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.bonusTypeId.errors&&t.f.bonusTypeId.errors.required),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("value",t.employeeId)("disabled",!t.payrollManager),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",t.employees),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.employeeId.errors&&t.f.employeeId.errors.required),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](41,25,"REPORT.INDEX.BUTTONTEXT.SALARY_REPORT_PDF_REPORT"),""),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.submitted&&t.pdfUrl))},directives:[i.t,l.I,l.t,l.k,f.c,f.g,v.a,l.s,l.j,i.s,y.m,f.b],pipes:[I.d],styles:[""]}),Cn),canActivate:[Y.a],data:{roles:["Administrators","SystemAdmin","EmployeeRole"]}},{path:"employee-enroll",component:(gn=function(){function t(n,r,a,i,l,o){e(this,t),this.formBuilder=n,this.companyService=r,this.authService=a,this.sanitize=i,this.employeeEnrollmentReportService=l,this.datePipe=o,this.companyId=localStorage.getItem("companyId"),this.loading=!1,this.submitted=!1,this.downloaded=!1,this.types=[{id:10,value:"Join"},{id:20,value:"Quit"}],this.defaultTypeId=10}return n(t,[{key:"ngOnInit",value:function(){this.buildForm(),this.getAllCompanies(),this.typeId=this.defaultTypeId}},{key:"buildForm",value:function(){this.EmployeeEnrollReportFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,[l.G.required]],startDate:[this.startDate,[l.G.required]],endDate:[this.endDate,[l.G.required]],type:[this.type]})}},{key:"getAllCompanies",value:function(){var e=this;this.companyService.getAllCompanies().subscribe((function(t){e.companies=t}),(function(){}))}},{key:"onSubmit",value:function(){this.submitted=!0,this.EmployeeEnrollReportFilterFormGroup.invalid||this.createAndGetEmployeeEnrollReport()}},{key:"createAndGetEmployeeEnrollReport",value:function(){var e=this;this.employeeEnrollReport=new p.P(this.EmployeeEnrollReportFilterFormGroup.value),this.employeeEnrollReport.startDate=this.datePipe.transform(new Date(this.employeeEnrollReport.startDate),"yyyy-MM-dd"),this.employeeEnrollReport.endDate=this.datePipe.transform(new Date(this.employeeEnrollReport.endDate),"yyyy-MM-dd"),this.loading=!0,this.employeeEnrollmentReportService.createEmployeeEnrollPdfReport(this.employeeEnrollReport).subscribe((function(t){e.pdfUrl=e.sanitize.bypassSecurityTrustResourceUrl(t.printPdfUrl),e.loading=!1}),(function(){}))}},{key:"f",get:function(){return this.EmployeeEnrollReportFilterFormGroup.controls}}]),t}(),gn.\u0275fac=function(e){return new(e||gn)(c["\u0275\u0275directiveInject"](l.g),c["\u0275\u0275directiveInject"](d.u),c["\u0275\u0275directiveInject"](o.a),c["\u0275\u0275directiveInject"](u.b),c["\u0275\u0275directiveInject"](d.L),c["\u0275\u0275directiveInject"](i.f))},gn.\u0275cmp=c["\u0275\u0275defineComponent"]({type:gn,selectors:[["app-employee-enroll-report"]],decls:50,vars:42,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-sm-12","col-md-12"],["id","tableLabel"],[3,"formGroup"],[1,"row"],[1,"col-md-3","col-12"],["appearance","outline"],["formControlName","companyId",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","type","placeholder","Type",3,"ngModel","ngModelChange"],["matInput","","formControlName","startDate",3,"matDatepicker","placeholder","ngClass","click"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","endDate",3,"matDatepicker","value","placeholder","ngClass","click","valueChange"],["endDatePicker",""],[1,"row","justify-content-center"],["type","submit",1,"btn","btn-success",3,"click"],["class","mt-5",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"],[1,"mt-5"],[2,"width","100%","height","600px",3,"src"]],template:function(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275template"](0,st,1,0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275elementStart"](3,"h1",3),c["\u0275\u0275text"](4,"Employee Enrollment Report"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"form",4),c["\u0275\u0275elementStart"](6,"div",5),c["\u0275\u0275elementStart"](7,"div",6),c["\u0275\u0275elementStart"](8,"mat-form-field",7),c["\u0275\u0275elementStart"](9,"mat-label"),c["\u0275\u0275text"](10),c["\u0275\u0275pipe"](11,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"mat-select",8),c["\u0275\u0275pipe"](13,"translate"),c["\u0275\u0275template"](14,ct,2,2,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](15,ut,2,0,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"div",6),c["\u0275\u0275elementStart"](17,"mat-form-field",7),c["\u0275\u0275elementStart"](18,"mat-label"),c["\u0275\u0275text"](19,"Types"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"mat-select",11),c["\u0275\u0275listener"]("ngModelChange",(function(e){return t.typeId=e})),c["\u0275\u0275template"](21,ft,2,2,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](22,ht,2,0,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](23,"div",6),c["\u0275\u0275elementStart"](24,"mat-form-field",7),c["\u0275\u0275elementStart"](25,"mat-label"),c["\u0275\u0275text"](26),c["\u0275\u0275pipe"](27,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"input",12),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275reference"](32).open()})),c["\u0275\u0275pipe"](29,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](30,"mat-datepicker-toggle",13),c["\u0275\u0275element"](31,"mat-datepicker",null,14),c["\u0275\u0275template"](33,Et,3,3,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](34,"div",6),c["\u0275\u0275elementStart"](35,"mat-form-field",7),c["\u0275\u0275elementStart"](36,"mat-label"),c["\u0275\u0275text"](37),c["\u0275\u0275pipe"](38,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](39,"input",15),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275reference"](43).open()}))("valueChange",(function(e){return t.endDate=e})),c["\u0275\u0275pipe"](40,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](41,"mat-datepicker-toggle",13),c["\u0275\u0275element"](42,"mat-datepicker",null,16),c["\u0275\u0275template"](44,vt,3,3,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](45,"div",17),c["\u0275\u0275elementStart"](46,"button",18),c["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),c["\u0275\u0275text"](47),c["\u0275\u0275pipe"](48,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](49,yt,2,1,"div",19),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275reference"](32),a=c["\u0275\u0275reference"](43);c["\u0275\u0275property"]("ngIf",t.loading),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("formGroup",t.EmployeeEnrollReportFilterFormGroup),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](11,24,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](13,26,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",t.companies),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngModel",t.typeId),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",t.types),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.type.errors&&t.f.type.errors.required),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](27,28,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](29,30,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),c["\u0275\u0275property"]("matDatepicker",r)("ngClass",c["\u0275\u0275pureFunction1"](38,It,t.f.startDate.errors)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("for",r),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startDate.errors&&t.f.startDate.errors.required),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](38,32,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](40,34,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),c["\u0275\u0275property"]("matDatepicker",a)("value",t.endDate)("ngClass",c["\u0275\u0275pureFunction1"](40,It,t.f.endDate.errors)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("for",a),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endDate.errors&&t.f.endDate.errors.required),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](48,36,"REPORT.INDEX.BUTTONTEXT.SALARY_REPORT_PDF_REPORT"),""),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.submitted&&t.pdfUrl)}},directives:[i.t,l.I,l.t,l.k,f.c,f.g,v.a,l.s,l.j,i.s,h.b,l.d,E.h,i.q,E.j,f.j,E.f,y.m,f.b],pipes:[I.d],styles:[""]}),gn),canActivate:[Y.a],data:{roles:["Administrators","SystemAdmin"]}},{path:"confirmation",component:(In=function(){function t(n,r,a,i,l,o,m,d,s){e(this,t),this.formBuilder=n,this.alertService=r,this.injector=a,this.datePipe=i,this.companyService=l,this.employeeService=o,this.authService=m,this.sanitize=d,this.confirmationReportService=s,this.companyId=localStorage.getItem("companyId"),this.employeeId=p.cb.empty}return n(t,[{key:"ngOnInit",value:function(){this.buildForm(),this.getAllCompanies()}},{key:"buildForm",value:function(){this.confirmationReportFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,[l.G.required]],startDate:[this.startDate,[l.G.required]],endDate:[this.endDate,[l.G.required]]})}},{key:"getAllCompanies",value:function(){var e=this;this.companyService.getAllCompanies().subscribe((function(t){e.companies=t}),(function(){}))}},{key:"onSubmit",value:function(){this.submitted=!0,console.log(this.confirmationReportFilterFormGroup),this.confirmationReportFilterFormGroup.invalid||this.createAndGetConfirmationReport()}},{key:"createAndGetConfirmationReport",value:function(){var e=this;this.loading=!0,this.confirmationReport=new p.z(this.confirmationReportFilterFormGroup.value),this.confirmationReport.startDate=this.datePipe.transform(new Date(this.confirmationReport.startDate),"yyyy-MM-dd"),this.confirmationReport.endDate=this.datePipe.transform(new Date(this.confirmationReport.endDate),"yyyy-MM-dd"),this.confirmationReportService.createConfirmationPdfReport(this.confirmationReport).subscribe((function(t){e.loading=!1,e.pdfUrl=e.sanitize.bypassSecurityTrustResourceUrl(t.printPdfUrl)}),(function(){e.loading=!1}))}},{key:"f",get:function(){return this.confirmationReportFilterFormGroup.controls}}]),t}(),In.\u0275fac=function(e){return new(e||In)(c["\u0275\u0275directiveInject"](l.g),c["\u0275\u0275directiveInject"](s.a),c["\u0275\u0275directiveInject"](c.Injector),c["\u0275\u0275directiveInject"](i.f),c["\u0275\u0275directiveInject"](d.u),c["\u0275\u0275directiveInject"](d.U),c["\u0275\u0275directiveInject"](o.a),c["\u0275\u0275directiveInject"](u.b),c["\u0275\u0275directiveInject"](d.L))},In.\u0275cmp=c["\u0275\u0275defineComponent"]({type:In,selectors:[["app-confirmation-report"]],decls:44,vars:42,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-sm-12","col-md-12"],["id","tableLabel"],[3,"formGroup"],[1,"row"],[1,"col-md-3","col-12"],["appearance","outline"],["formControlName","companyId",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","startDate",3,"matDatepicker","placeholder","ngClass","click"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","endDate",3,"matDatepicker","value","placeholder","ngClass","click","valueChange"],["endDatePicker",""],[1,"row","justify-content-center"],["type","submit",1,"btn","btn-success",3,"click"],["class","mt-5",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"],[1,"mt-5"],[2,"width","100%","height","600px",3,"src"]],template:function(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275template"](0,gt,1,0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275elementStart"](3,"h1",3),c["\u0275\u0275text"](4),c["\u0275\u0275pipe"](5,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"form",4),c["\u0275\u0275elementStart"](7,"div",5),c["\u0275\u0275elementStart"](8,"div",6),c["\u0275\u0275elementStart"](9,"mat-form-field",7),c["\u0275\u0275elementStart"](10,"mat-label"),c["\u0275\u0275text"](11),c["\u0275\u0275pipe"](12,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"mat-select",8),c["\u0275\u0275pipe"](14,"translate"),c["\u0275\u0275template"](15,Ct,2,2,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](16,Rt,2,0,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"div",6),c["\u0275\u0275elementStart"](18,"mat-form-field",7),c["\u0275\u0275elementStart"](19,"mat-label"),c["\u0275\u0275text"](20),c["\u0275\u0275pipe"](21,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"input",11),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275reference"](26).open()})),c["\u0275\u0275pipe"](23,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](24,"mat-datepicker-toggle",12),c["\u0275\u0275element"](25,"mat-datepicker",null,13),c["\u0275\u0275template"](27,At,3,3,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"div",6),c["\u0275\u0275elementStart"](29,"mat-form-field",7),c["\u0275\u0275elementStart"](30,"mat-label"),c["\u0275\u0275text"](31),c["\u0275\u0275pipe"](32,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"input",14),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275reference"](37).open()}))("valueChange",(function(e){return t.endDate=e})),c["\u0275\u0275pipe"](34,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](35,"mat-datepicker-toggle",12),c["\u0275\u0275element"](36,"mat-datepicker",null,15),c["\u0275\u0275template"](38,St,3,3,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](39,"div",16),c["\u0275\u0275elementStart"](40,"button",17),c["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),c["\u0275\u0275text"](41),c["\u0275\u0275pipe"](42,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](43,bt,2,1,"div",18),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275reference"](26),a=c["\u0275\u0275reference"](37);c["\u0275\u0275property"]("ngIf",t.loading),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](5,22,"REPORT.INDEX.CONFIRMATIONREPORTTITLE")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("formGroup",t.confirmationReportFilterFormGroup),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](12,24,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](14,26,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",t.companies),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](21,28,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](23,30,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),c["\u0275\u0275property"]("matDatepicker",r)("ngClass",c["\u0275\u0275pureFunction1"](38,Tt,t.f.startDate.errors)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("for",r),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startDate.errors&&t.f.startDate.errors.required),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](32,32,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](34,34,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),c["\u0275\u0275property"]("matDatepicker",a)("value",t.endDate)("ngClass",c["\u0275\u0275pureFunction1"](40,Tt,t.f.endDate.errors)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("for",a),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endDate.errors&&t.f.endDate.errors.required),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](42,36,"REPORT.INDEX.BUTTONTEXT.SALARY_REPORT_PDF_REPORT"),""),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.submitted&&t.pdfUrl)}},directives:[i.t,l.I,l.t,l.k,f.c,f.g,v.a,l.s,l.j,i.s,h.b,l.d,E.h,i.q,E.j,f.j,E.f,y.m,f.b],pipes:[I.d],styles:[""]}),In),canActivate:[Y.a],data:{roles:["Administrators","SystemAdmin"]}},{path:"leave-details",component:(yn=function(){function t(n,r,a,i,l,o,m,d,s,c,u,f,h){e(this,t),this.formBuilder=n,this.alertService=r,this.injector=a,this.datePipe=i,this.companyService=l,this.employeeService=o,this.authService=m,this.sanitize=d,this.leaveReportService=s,this.departmentServce=c,this.designationService=u,this.branchService=f,this.http=h,this.companyId=localStorage.getItem("companyId"),this.employeeId=[],this.departmentFilter=new p.C,this.designationFilter=new p.D,this.employeeFilter=new p.T,this.departmentId=[],this.designationId=[],this.statuses=[{id:"null",name:"All"},{id:3,name:"Approved"},{name:"Declined",id:9},{name:"Pending",id:1},{name:"In Progress",id:2}],this.isEmployee=this.authService.isEmployee,this.isAdmin=this.authService.isAdmin,this.empId=this.authService.getLoggedInUserInfo().employeeId}return n(t,[{key:"ngOnInit",value:function(){this.buildForm(),this.getAllCompanies(),this.isAdmin&&(this.onChangeCompany(this.companyId),this.getAllEmployees(),this.getAllBranchByCompanyId())}},{key:"buildForm",value:function(){this.leveDetailsFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,[l.G.required]],startDate:[this.startDate,[l.G.required]],endDate:[this.endDate,[l.G.required]],employeeId:[this.employeeId],branchId:[this.branchId],departmentId:[this.departmentId],designationId:[this.designationId],statusId:[this.statusId,[l.G.required]]})}},{key:"getAllCompanies",value:function(){var e=this;this.companyService.getAllCompanies().subscribe((function(t){e.companies=t}))}},{key:"onChangeCompany",value:function(e){this.companyId=e,e&&this.companyId.length>0&&(this.getAllBranchByCompanyId(),this.getALLDepartmentByBranchId(null),this.getAllDesignationByDepartmentId(null))}},{key:"getAllEmployees",value:function(){var e=this;this.employeeService.getAllEmployees().subscribe((function(t){e.employees=t,e.employees.unshift({id:p.cb.empty,fullName:"Select All Employee"})}))}},{key:"getAllBranchByCompanyId",value:function(){var e=this;this.branches=[],this.loading=!0,this.branchService.getAllBranchByCompanyId(this.companyId).subscribe((function(t){e.branches=t;var n=e.branches.map((function(e){return e.id}));e.getALLDepartmentByBranchId(n)}))}},{key:"getALLDepartmentByBranchId",value:function(e){var t=this;this.departments=[],this.departmentFilter.companyId=this.companyId,this.departmentFilter.branchIds=e,this.departmentServce.getAllDepartmentByBranchIds(this.departmentFilter).subscribe((function(e){t.departments=e;var n=t.departments.map((function(e){return e.id}));t.getAllDesignationByDepartmentId(n)}),(function(){}))}},{key:"getAllDesignationByDepartmentId",value:function(e){var t=this;this.designations=[],this.designationFilter.companyId=this.companyId,this.designationFilter.entityIds=e,this.designationService.getAllDesignationByDepartmentIds(this.designationFilter).subscribe((function(e){t.designations=e,t.designationId=t.designations.map((function(e){return e.id})),t.getAllEmployeesFilteredList()}),(function(){}))}},{key:"getAllEmployeesFilteredList",value:function(){var e=this;this.employeeFilter.branchIds=this.branchId,this.employeeFilter.departmentIds=this.departmentId,this.employeeFilter.designationIds=this.designationId,this.employeeFilter.employeeIds=this.employeeId,this.loading=!0,this.employeeService.getAllEmployeePagedListWithoutPagination(this.employeeFilter).subscribe((function(t){e.employees=t,e.loading=!1}),(function(){}))}},{key:"onChangeBranch",value:function(e){this.branchId=e,this.branchId&&this.branchId.length>0?(this.loading=!0,this.getALLDepartmentByBranchId(this.branchId)):(this.getALLDepartmentByBranchId(null),this.branchId=[]),this.departmentId=[],this.designationId=[],this.employeeId=[],this.leveDetailsFilterFormGroup.controls.departmentId.setValue([]),this.leveDetailsFilterFormGroup.controls.designationId.setValue([]),this.leveDetailsFilterFormGroup.controls.employeeId.setValue([])}},{key:"onChangeDepartment",value:function(e){this.departmentId=e,e&&this.departmentId.length>0?(this.loading=!0,this.getAllDesignationByDepartmentId(this.departmentId)):(this.getAllDesignationByDepartmentId(null),this.departmentId=[]),this.designationId=[],this.employeeId=[],this.leveDetailsFilterFormGroup.controls.designationId.setValue([]),this.leveDetailsFilterFormGroup.controls.employeeId.setValue([])}},{key:"onChangeEmployee",value:function(e){this.selecetdEmployees=e,this.employeeId=e}},{key:"onChangeDesignation",value:function(e){e&&e.length>0?(this.loading=!0,this.designationId=e):this.designationId=[],this.getAllEmployeesFilteredList(),this.employeeId=[],this.leveDetailsFilterFormGroup.controls.employeeId.setValue([])}},{key:"onChangeStatus",value:function(e){this.statusId=e.value}},{key:"onSubmit",value:function(){this.submitted=!0,this.leveDetailsFilterFormGroup.invalid||this.createAndGetLeaveDetailsReport()}},{key:"createAndGetLeaveDetailsReport",value:function(){var e=this;this.loading=!0,this.leaveDetailsReport=new p.kb(this.leveDetailsFilterFormGroup.value),this.leaveDetailsReport.branchIds=this.branchId,this.leaveDetailsReport.employeeIds=this.employeeId,this.leaveDetailsReport.departmentIds=this.departmentId,this.leaveDetailsReport.DesignationIds=this.designationId,this.leaveDetailsReport.startDate=this.datePipe.transform(new Date(this.leaveDetailsReport.startDate),"yyyy-MM-dd"),this.leaveDetailsReport.endDate=this.datePipe.transform(new Date(this.leaveDetailsReport.endDate),"yyyy-MM-dd"),this.leaveDetailsReport.approvalStatusText="null"==this.statusId?null:this.statusId,this.isEmployee&&!this.isAdmin&&(this.leaveDetailsReport.employeeIds=[],this.leaveDetailsReport.employeeIds.push(this.empId)),this.leaveReportService.createLeaveDetailsPdfReport(this.leaveDetailsReport).subscribe((function(t){e.loading=!1,e.pdfUrl=e.sanitize.bypassSecurityTrustResourceUrl(t.printPdfUrl)}),(function(){e.loading=!1}))}},{key:"f",get:function(){return this.leveDetailsFilterFormGroup.controls}}]),t}(),yn.\u0275fac=function(e){return new(e||yn)(c["\u0275\u0275directiveInject"](l.g),c["\u0275\u0275directiveInject"](s.a),c["\u0275\u0275directiveInject"](c.Injector),c["\u0275\u0275directiveInject"](i.f),c["\u0275\u0275directiveInject"](d.u),c["\u0275\u0275directiveInject"](d.U),c["\u0275\u0275directiveInject"](o.a),c["\u0275\u0275directiveInject"](u.b),c["\u0275\u0275directiveInject"](d.gb),c["\u0275\u0275directiveInject"](d.A),c["\u0275\u0275directiveInject"](d.B),c["\u0275\u0275directiveInject"](d.o),c["\u0275\u0275directiveInject"](ze.b))},yn.\u0275cmp=c["\u0275\u0275defineComponent"]({type:yn,selectors:[["app-leave-details-report"]],decls:55,vars:46,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-12"],["id","tableLabel"],[3,"formGroup"],[1,"row"],[1,"col-lg-2","col-md-3","col-12"],["appearance","outline"],["formControlName","companyId",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["class","col-lg-2 col-md-3 col-12",4,"ngIf"],["matInput","","formControlName","startDate",3,"matDatepicker","placeholder","ngClass","click"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","endDate",3,"matDatepicker","value","placeholder","ngClass","click","valueChange"],["endDatePicker",""],[1,"col-sm-2","col-md-2","col-12"],["placeholder","Status","formControlName","statusId",3,"selectionChange"],[1,"row","justify-content-center"],["type","submit",1,"btn","btn-success","mr-5",2,"font-size","12px",3,"click"],["class","mt-5",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"],["placeholder","Branch","formControlName","branchId","multiple","",3,"value","selectionChange","valueChange"],["placeholder","Department","formControlName","departmentId","multiple","",3,"value","selectionChange","valueChange"],["formControlName","designationId","multiple","",3,"placeholder","selectionChange"],["placeholder","Employee","formControlName","employeeId","multiple","",3,"value","selectionChange","valueChange"],[1,"d-flex","mx-auto"],[1,"mt-5"],[2,"width","100%","height","600px",3,"src"]],template:function(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275template"](0,Ot,1,0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275elementStart"](3,"h1",3),c["\u0275\u0275text"](4,"Leave Details Report"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"form",4),c["\u0275\u0275elementStart"](6,"div",5),c["\u0275\u0275elementStart"](7,"div",6),c["\u0275\u0275elementStart"](8,"mat-form-field",7),c["\u0275\u0275elementStart"](9,"mat-label"),c["\u0275\u0275text"](10),c["\u0275\u0275pipe"](11,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"mat-select",8),c["\u0275\u0275pipe"](13,"translate"),c["\u0275\u0275template"](14,Dt,2,2,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](15,xt,2,0,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](16,Lt,6,2,"div",11),c["\u0275\u0275template"](17,Nt,6,2,"div",11),c["\u0275\u0275template"](18,Bt,9,8,"div",11),c["\u0275\u0275template"](19,Yt,6,2,"div",11),c["\u0275\u0275elementStart"](20,"div",6),c["\u0275\u0275elementStart"](21,"mat-form-field",7),c["\u0275\u0275elementStart"](22,"mat-label"),c["\u0275\u0275text"](23),c["\u0275\u0275pipe"](24,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](25,"input",12),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275reference"](29).open()})),c["\u0275\u0275pipe"](26,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](27,"mat-datepicker-toggle",13),c["\u0275\u0275element"](28,"mat-datepicker",null,14),c["\u0275\u0275template"](30,Ut,3,3,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](31,"div",6),c["\u0275\u0275elementStart"](32,"mat-form-field",7),c["\u0275\u0275elementStart"](33,"mat-label"),c["\u0275\u0275text"](34),c["\u0275\u0275pipe"](35,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](36,"input",15),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275reference"](40).open()}))("valueChange",(function(e){return t.endDate=e})),c["\u0275\u0275pipe"](37,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](38,"mat-datepicker-toggle",13),c["\u0275\u0275element"](39,"mat-datepicker",null,16),c["\u0275\u0275template"](41,Gt,3,3,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](42,"div",17),c["\u0275\u0275elementStart"](43,"mat-form-field",7),c["\u0275\u0275elementStart"](44,"mat-label"),c["\u0275\u0275text"](45,"Status"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](46,"mat-select",18),c["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeStatus(e)})),c["\u0275\u0275template"](47,jt,2,2,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](48,_t,2,0,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](49,"div",19),c["\u0275\u0275elementStart"](50,"button",20),c["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),c["\u0275\u0275text"](51),c["\u0275\u0275pipe"](52,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](53,qt,3,1,"mat-error",10),c["\u0275\u0275template"](54,zt,2,1,"div",21),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275reference"](29),a=c["\u0275\u0275reference"](40);c["\u0275\u0275property"]("ngIf",t.loading),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("formGroup",t.leveDetailsFilterFormGroup),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](11,28,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](13,30,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",t.companies),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.isAdmin),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.isAdmin),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.isAdmin),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.isAdmin),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](24,32,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](26,34,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),c["\u0275\u0275property"]("matDatepicker",r)("ngClass",c["\u0275\u0275pureFunction1"](42,Vt,t.f.startDate.errors)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("for",r),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startDate.errors&&t.f.startDate.errors.required),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](35,36,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](37,38,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),c["\u0275\u0275property"]("matDatepicker",a)("value",t.endDate)("ngClass",c["\u0275\u0275pureFunction1"](44,Vt,t.f.endDate.errors)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("for",a),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endDate.errors&&t.f.endDate.errors.required),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("ngForOf",t.statuses),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.statusId.errors&&t.f.statusId.errors.required),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](52,40,"REPORT.INDEX.BUTTONTEXT.ATTENDANCE_PDF_REPORT")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",!t.isFormValid),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.pdfUrl)}},directives:[i.t,l.I,l.t,l.k,f.c,f.g,v.a,l.s,l.j,i.s,h.b,l.d,E.h,i.q,E.j,f.j,E.f,y.m,f.b],pipes:[I.d],styles:[""]}),yn),canActivate:[Y.a],data:{roles:["Administrators","SystemAdmin","EmployeeRole"]}},{path:"ot-summary-report",component:(vn=function(){function t(n,r,a,i,l){e(this,t),this.formBuilder=n,this.companyService=r,this.sanitize=a,this.datePipe=i,this.otSummaryReportService=l,this.companyId=localStorage.getItem("companyId"),this.loading=!1,this.downloaded=!1}return n(t,[{key:"ngOnInit",value:function(){this.buildForm(),this.getAllCompanies()}},{key:"buildForm",value:function(){this.otSummaryReportFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,[l.G.required]],startDate:[this.startDate,[l.G.required]],endDate:[this.endDate,[l.G.required]]})}},{key:"getAllCompanies",value:function(){var e=this;this.companyService.getAllCompanies().subscribe((function(t){e.companies=t}),(function(){}))}},{key:"onSubmit",value:function(){this.submitted=!0,this.otSummaryReportFilterFormGroup.invalid||this.createAndOTSummaryReport()}},{key:"createAndOTSummaryReport",value:function(){var e=this;this.loading=!0,this.otSummaryReport=new p.pb(this.otSummaryReportFilterFormGroup.value),this.otSummaryReport.startDate=this.datePipe.transform(new Date(this.otSummaryReport.startDate),"yyyy-MM-dd"),this.otSummaryReport.endDate=this.datePipe.transform(new Date(this.otSummaryReport.endDate),"yyyy-MM-dd"),this.otSummaryReportService.createOTSummaryPdfReport(this.otSummaryReport).subscribe((function(t){e.loading=!1,e.pdfUrl=e.sanitize.bypassSecurityTrustResourceUrl(t.printPdfUrl)}),(function(){e.loading=!1}))}},{key:"f",get:function(){return this.otSummaryReportFilterFormGroup.controls}}]),t}(),vn.\u0275fac=function(e){return new(e||vn)(c["\u0275\u0275directiveInject"](l.g),c["\u0275\u0275directiveInject"](d.u),c["\u0275\u0275directiveInject"](u.b),c["\u0275\u0275directiveInject"](i.f),c["\u0275\u0275directiveInject"](d.jb))},vn.\u0275cmp=c["\u0275\u0275defineComponent"]({type:vn,selectors:[["app-ot-summary-report"]],decls:44,vars:42,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-sm-12","col-md-12"],["id","tableLabel"],[3,"formGroup"],[1,"row"],[1,"col-lg-3","col-md-4","col-12"],["appearance","outline"],["formControlName","companyId",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","startDate",3,"matDatepicker","placeholder","ngClass","click"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","endDate",3,"matDatepicker","value","placeholder","ngClass","click","valueChange"],["endDatePicker",""],[1,"row","justify-content-center"],["type","submit",1,"btn","btn-success",3,"click"],["class","mt-5",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"],[1,"mt-5"],[2,"width","100%","height","600px",3,"src"]],template:function(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275template"](0,Ht,1,0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275elementStart"](3,"h1",3),c["\u0275\u0275text"](4),c["\u0275\u0275pipe"](5,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"form",4),c["\u0275\u0275elementStart"](7,"div",5),c["\u0275\u0275elementStart"](8,"div",6),c["\u0275\u0275elementStart"](9,"mat-form-field",7),c["\u0275\u0275elementStart"](10,"mat-label"),c["\u0275\u0275text"](11),c["\u0275\u0275pipe"](12,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"mat-select",8),c["\u0275\u0275pipe"](14,"translate"),c["\u0275\u0275template"](15,Xt,2,2,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](16,Kt,2,0,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"div",6),c["\u0275\u0275elementStart"](18,"mat-form-field",7),c["\u0275\u0275elementStart"](19,"mat-label"),c["\u0275\u0275text"](20),c["\u0275\u0275pipe"](21,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"input",11),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275reference"](26).open()})),c["\u0275\u0275pipe"](23,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](24,"mat-datepicker-toggle",12),c["\u0275\u0275element"](25,"mat-datepicker",null,13),c["\u0275\u0275template"](27,$t,3,3,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"div",6),c["\u0275\u0275elementStart"](29,"mat-form-field",7),c["\u0275\u0275elementStart"](30,"mat-label"),c["\u0275\u0275text"](31),c["\u0275\u0275pipe"](32,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"input",14),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275reference"](37).open()}))("valueChange",(function(e){return t.endDate=e})),c["\u0275\u0275pipe"](34,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](35,"mat-datepicker-toggle",12),c["\u0275\u0275element"](36,"mat-datepicker",null,15),c["\u0275\u0275template"](38,Qt,3,3,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](39,"div",16),c["\u0275\u0275elementStart"](40,"button",17),c["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),c["\u0275\u0275text"](41),c["\u0275\u0275pipe"](42,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](43,Jt,2,1,"div",18),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275reference"](26),a=c["\u0275\u0275reference"](37);c["\u0275\u0275property"]("ngIf",t.loading),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](5,22,"REPORT.INDEX.OTSUMMARYREPORT")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("formGroup",t.otSummaryReportFilterFormGroup),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](12,24,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](14,26,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",t.companies),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](21,28,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](23,30,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),c["\u0275\u0275property"]("matDatepicker",r)("ngClass",c["\u0275\u0275pureFunction1"](38,Wt,t.f.startDate.errors)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("for",r),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startDate.errors&&t.f.startDate.errors.required),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](32,32,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](34,34,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),c["\u0275\u0275property"]("matDatepicker",a)("value",t.endDate)("ngClass",c["\u0275\u0275pureFunction1"](40,Wt,t.f.endDate.errors)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("for",a),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endDate.errors&&t.f.endDate.errors.required),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](42,36,"REPORT.INDEX.BUTTONTEXT.SALARY_REPORT_PDF_REPORT"),""),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.submitted&&t.pdfUrl)}},directives:[i.t,l.I,l.t,l.k,f.c,f.g,v.a,l.s,l.j,i.s,h.b,l.d,E.h,i.q,E.j,f.j,E.f,y.m,f.b],pipes:[I.d],styles:[""]}),vn),canActivate:[Y.a],data:{roles:["Administrators","SystemAdmin","PayrollManager"]}},{path:"earn-leave-encashment-report",component:(En=function(){function t(n,r,a,i,l,o,m){e(this,t),this.formBuilder=n,this.companyService=r,this.authService=a,this.financialYearService=i,this.monthCycleService=l,this.sanitize=o,this.earnLeaveEncashmentReportService=m,this.companyId=localStorage.getItem("companyId"),this.loading=!1,this.submitted=!1,this.downloaded=!1}return n(t,[{key:"ngOnInit",value:function(){this.buildForm(),this.getAllCompanies(),this.onChangeCompany(this.companyId)}},{key:"buildForm",value:function(){this.leaveEncahsmentReportFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,[l.G.required]],financialYearId:[this.financialYearId,[l.G.required]],monthCycleId:[this.monthCycleId,[l.G.required]]})}},{key:"getAllCompanies",value:function(){var e=this;this.companyService.getAllCompanies().subscribe((function(t){e.companies=t}))}},{key:"onChangeEmployee",value:function(e){this.employeeId=e.value}},{key:"onChangeMonthCycle",value:function(e){this.monthCycleId=e.value}},{key:"onChangeFinancialYears",value:function(e){var t=e.value;this.financialYearId=t,t&&this.getAllMonthCycleByCompanyIdAndFinancialYear()}},{key:"onChangeCompany",value:function(e){this.companyId=e,e&&this.getAllFinancialYearByCompanyId()}},{key:"getAllFinancialYearByCompanyId",value:function(){var e=this;this.financialYearService.getAllFinancialYearByCompanyId(this.companyId).subscribe((function(t){e.financialYears=t}))}},{key:"getAllMonthCycleByCompanyIdAndFinancialYear",value:function(){var e=this;this.monthCycleService.getMonthCycleByCompanyAndFinancialYear(this.companyId,this.financialYearId).subscribe((function(t){e.monthCycles=t}))}},{key:"onSubmit",value:function(){this.submitted=!0,this.leaveEncahsmentReportFilterFormGroup.invalid||this.createAndGetEarnLeaveEncashReport()}},{key:"createAndGetEarnLeaveEncashReport",value:function(){var e=this;this.earnLeaveEncashmentReport=new p.H(this.leaveEncahsmentReportFilterFormGroup.value),this.loading=!0,this.earnLeaveEncashmentReportService.createEmployeeLeaveEncashmentReport(this.earnLeaveEncashmentReport).subscribe((function(t){e.loading=!1,e.pdfUrl=e.sanitize.bypassSecurityTrustResourceUrl(t.printPdfUrl)}),(function(){e.loading=!1}))}},{key:"f",get:function(){return this.leaveEncahsmentReportFilterFormGroup.controls}}]),t}(),En.\u0275fac=function(e){return new(e||En)(c["\u0275\u0275directiveInject"](l.g),c["\u0275\u0275directiveInject"](d.u),c["\u0275\u0275directiveInject"](o.a),c["\u0275\u0275directiveInject"](d.Y),c["\u0275\u0275directiveInject"](d.ib),c["\u0275\u0275directiveInject"](u.b),c["\u0275\u0275directiveInject"](d.D))},En.\u0275cmp=c["\u0275\u0275defineComponent"]({type:En,selectors:[["app-earn-leave-encashment-report"]],decls:36,vars:23,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-sm-12","col-md-12"],["id","tableLabel"],[3,"formGroup"],[1,"row"],[1,"col-md-3","col-12"],["appearance","outline"],["formControlName","companyId",3,"placeholder","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Financial Year","formControlName","financialYearId",3,"value","selectionChange"],["placeholder","Month Cycle","formControlName","monthCycleId",3,"value","selectionChange"],[1,"row","justify-content-center"],["type","submit",1,"btn","btn-success","mr-5",2,"font-size","smaller",3,"click"],["class","mt-5",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"],[1,"mt-5"],[2,"width","100%","height","600px",3,"src"]],template:function(e,t){1&e&&(c["\u0275\u0275template"](0,Zt,1,0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275elementStart"](3,"h1",3),c["\u0275\u0275text"](4),c["\u0275\u0275pipe"](5,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"form",4),c["\u0275\u0275elementStart"](7,"div",5),c["\u0275\u0275elementStart"](8,"div",6),c["\u0275\u0275elementStart"](9,"mat-form-field",7),c["\u0275\u0275elementStart"](10,"mat-label"),c["\u0275\u0275text"](11),c["\u0275\u0275pipe"](12,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"mat-select",8),c["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeCompany(e.value)})),c["\u0275\u0275pipe"](14,"translate"),c["\u0275\u0275template"](15,en,2,2,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](16,tn,2,0,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"div",6),c["\u0275\u0275elementStart"](18,"mat-form-field",7),c["\u0275\u0275elementStart"](19,"mat-label"),c["\u0275\u0275text"](20,"Financial Year"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](21,"mat-select",11),c["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeFinancialYears(e)})),c["\u0275\u0275template"](22,nn,2,2,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](23,rn,2,0,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](24,"div",6),c["\u0275\u0275elementStart"](25,"mat-form-field",7),c["\u0275\u0275elementStart"](26,"mat-label"),c["\u0275\u0275text"](27,"Month Cycle"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"mat-select",12),c["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeMonthCycle(e)})),c["\u0275\u0275template"](29,an,2,2,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](30,ln,2,0,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](31,"div",13),c["\u0275\u0275elementStart"](32,"button",14),c["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),c["\u0275\u0275text"](33),c["\u0275\u0275pipe"](34,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](35,on,2,1,"div",15),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275property"]("ngIf",t.loading),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](5,15,"REPORT.INDEX.EARNLEAVEENCASHMENTREPORT")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("formGroup",t.leaveEncahsmentReportFilterFormGroup),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](12,17,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](14,19,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",t.companies),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("value",t.financialYearId),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",t.financialYears),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.financialYearId.errors&&t.f.financialYearId.errors.required),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("value",t.monthCycleId),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",t.monthCycles),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.monthCycleId.errors&&t.f.monthCycleId.errors.required),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](34,21,"REPORT.INDEX.BUTTONTEXT.SALARY_REPORT_PDF_REPORT"),""),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.submitted&&t.pdfUrl))},directives:[i.t,l.I,l.t,l.k,f.c,f.g,v.a,l.s,l.j,i.s,y.m,f.b],pipes:[I.d],styles:[""]}),En),canActivate:[Y.a],data:{roles:["Administrators","SystemAdmin","PayrollManager"]}},{path:"task-report",component:(hn=function(){function t(n,r,a,i,l,o,m){e(this,t),this.formBuilder=n,this.datePipe=r,this.companyService=a,this.employeeService=i,this.taskReportService=l,this.authService=o,this.sanitize=m,this.dropdownList=[],this.selectedItems=[],this.dropdownSettings={},this.taskReport=new p.Cb,this.companyId=localStorage.getItem("companyId"),this.loading=!1,this.isAdmin=!1,this.isEmployee=!1,this.itemList=[],this.settings={},this.isEmployee=this.authService.isEmployee,this.isAdmin=this.authService.isAdmin,this.empId=this.authService.getLoggedInUserInfo().employeeId,this.employeeId=this.authService.getLoggedInUserInfo().employeeId}return n(t,[{key:"ngOnInit",value:function(){this.getAllCompanies(),this.getAllEmployees(),this.buildForm(),this.initializeEmployeeDropdown()}},{key:"buildForm",value:function(){this.taskReportFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,[l.G.required]],startDate:[this.startDate,[l.G.required]],endDate:[this.endDate,[l.G.required]],employeeId:[this.employeeId]})}},{key:"getAllCompanies",value:function(){var e=this;this.companyService.getAllCompanies().subscribe((function(t){e.companies=t}))}},{key:"getAllEmployees",value:function(){var e=this;this.employeeService.getAllEmployees().subscribe((function(t){e.employees=t,e.itemList=t;var n=e.employees.filter((function(t){return t.id===e.employeeId}))[0];e.selectedItems.push(n)}),(function(){}))}},{key:"onSubmit",value:function(){this.submitted=!0,this.taskReportFilterFormGroup.invalid||this.getTaskReport()}},{key:"getTaskReport",value:function(){var e=this;this.taskReport=new p.Cb(this.taskReportFilterFormGroup.value),this.taskReport.employeeId=0===this.selectedItems.length?this.empId:this.selectedItems[0].id,this.loading=!0,this.taskReportService.createTaskPdfReport(this.taskReport).subscribe((function(t){e.loading=!1,e.pdfUrl=e.sanitize.bypassSecurityTrustResourceUrl(t.printPdfUrl)}),(function(){e.loading=!1}))}},{key:"initializeEmployeeDropdown",value:function(){this.selectedItems=[];var e=window.screen.width>768?"2":"1";this.settings={text:"Select employees",enableSearchFilter:!0,singleSelection:!0,unSelectAllText:"Un Select All",classes:"myclass custom-class",labelKey:"fullName",primaryKey:"id",badgeShowLimit:e,showCheckbox:!0,enableFilterSelectAll:!0,disabled:!0!==(this.isAdmin&&this.isEmployee),maxHeight:"200"}}},{key:"f",get:function(){return this.taskReportFilterFormGroup.controls}}]),t}(),hn.\u0275fac=function(e){return new(e||hn)(c["\u0275\u0275directiveInject"](l.g),c["\u0275\u0275directiveInject"](i.f),c["\u0275\u0275directiveInject"](d.u),c["\u0275\u0275directiveInject"](d.U),c["\u0275\u0275directiveInject"](d.wb),c["\u0275\u0275directiveInject"](o.a),c["\u0275\u0275directiveInject"](u.b))},hn.\u0275cmp=c["\u0275\u0275defineComponent"]({type:hn,selectors:[["app-task-report"]],decls:49,vars:46,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-12"],["id","tableLabel"],[3,"formGroup"],[1,"row"],[1,"col-lg-2","col-md-3","col-12"],["appearance","outline"],["formControlName","companyId",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-md-3","col-12"],["matInput","","formControlName","startDate",3,"matDatepicker","placeholder","ngClass","click"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","endDate",3,"matDatepicker","value","placeholder","ngClass","click","valueChange"],["endDatePicker",""],[1,"col-lg-3","col-md-5","col-12"],[1,"form-group"],["ngDefaultControl","","formControlName","employeeId","name","selectedItems",3,"data","ngModel","settings","ngModelChange"],[1,"row","justify-content-center"],["type","submit",1,"btn","btn-success","mr-5","w-100",2,"font-size","12px",3,"click"],["class","mt-5",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"],[1,"d-flex","mx-auto"],[1,"mt-5"],[2,"width","100%","height","600px",3,"src"]],template:function(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275template"](0,mn,1,0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275elementStart"](3,"h1",3),c["\u0275\u0275text"](4),c["\u0275\u0275pipe"](5,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"form",4),c["\u0275\u0275elementStart"](7,"div",5),c["\u0275\u0275elementStart"](8,"div",6),c["\u0275\u0275elementStart"](9,"mat-form-field",7),c["\u0275\u0275elementStart"](10,"mat-label"),c["\u0275\u0275text"](11),c["\u0275\u0275pipe"](12,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"mat-select",8),c["\u0275\u0275pipe"](14,"translate"),c["\u0275\u0275template"](15,pn,2,2,"mat-option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](16,dn,2,0,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"div",11),c["\u0275\u0275elementStart"](18,"mat-form-field",7),c["\u0275\u0275elementStart"](19,"mat-label"),c["\u0275\u0275text"](20),c["\u0275\u0275pipe"](21,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"input",12),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275reference"](26).open()})),c["\u0275\u0275pipe"](23,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](24,"mat-datepicker-toggle",13),c["\u0275\u0275element"](25,"mat-datepicker",null,14),c["\u0275\u0275template"](27,sn,3,3,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"div",11),c["\u0275\u0275elementStart"](29,"mat-form-field",7),c["\u0275\u0275elementStart"](30,"mat-label"),c["\u0275\u0275text"](31),c["\u0275\u0275pipe"](32,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"input",15),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275reference"](37).open()}))("valueChange",(function(e){return t.endDate=e})),c["\u0275\u0275pipe"](34,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](35,"mat-datepicker-toggle",13),c["\u0275\u0275element"](36,"mat-datepicker",null,16),c["\u0275\u0275template"](38,cn,3,3,"mat-error",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](39,"div",17),c["\u0275\u0275elementStart"](40,"div",18),c["\u0275\u0275elementStart"](41,"angular2-multiselect",19),c["\u0275\u0275listener"]("ngModelChange",(function(e){return t.selectedItems=e})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](42,"div",20),c["\u0275\u0275elementStart"](43,"div",6),c["\u0275\u0275elementStart"](44,"button",21),c["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),c["\u0275\u0275text"](45),c["\u0275\u0275pipe"](46,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](47,un,3,1,"mat-error",10),c["\u0275\u0275template"](48,fn,2,1,"div",22),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275reference"](26),a=c["\u0275\u0275reference"](37);c["\u0275\u0275property"]("ngIf",t.loading),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](5,26,"REPORT.TASKREPORT")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("formGroup",t.taskReportFilterFormGroup),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](12,28,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](14,30,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",t.companies),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](21,32,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](23,34,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),c["\u0275\u0275property"]("matDatepicker",r)("ngClass",c["\u0275\u0275pureFunction1"](42,Sn,t.f.startDate.errors)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("for",r),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startDate.errors&&t.f.startDate.errors.required),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](32,36,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](34,38,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),c["\u0275\u0275property"]("matDatepicker",a)("value",t.endDate)("ngClass",c["\u0275\u0275pureFunction1"](44,Sn,t.f.endDate.errors)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("for",a),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endDate.errors&&t.f.endDate.errors.required),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("data",t.itemList)("ngModel",t.selectedItems)("settings",t.settings),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](46,40,"REPORT.INDEX.BUTTONTEXT.ATTENDANCE_PDF_REPORT")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",!t.isFormValid),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted&&t.pdfUrl)}},directives:[i.t,l.I,l.t,l.k,f.c,f.g,v.a,l.s,l.j,i.s,h.b,l.d,E.h,i.q,E.j,f.j,E.f,j.a,y.m,f.b],pipes:[I.d],styles:['.c-btn{background-color:#fff;border:1px solid green;min-height:34px!important;margin-top:.25rem}.multi-select[_ngcontent-%COMP%]{display:block;margin-top:4px}.error[_ngcontent-%COMP%]{margin-top:-23px}  .selected-list .c-list .c-token{background:green}  .c-token{color:#fff}  .c-angle-down{top:35%!important;width:10px!important} .pure-checkbox input[type=checkbox]+label:before{box-sizing:content-box;content:"";position:absolute;top:50%;left:0;width:15px;height:15px;margin-top:-9px;text-align:center;transition:.4s;border-radius:3px;border:1px solid #218838} .pure-checkbox input[type=checkbox]:checked+label:after{color:#218838!important}.w-100[_ngcontent-%COMP%], ss-multiselect-dropdown[_ngcontent-%COMP%] > div.btn-group[_ngcontent-%COMP%] > ul.dropdown-menu[_ngcontent-%COMP%]{width:100%}  .selected-list .c-btn{color:#808a9a!important;font-size:16px;font-family:Helvetica,sans-serif}  .selected-list .c-list .c-token{font-size:10px}']}),hn),canActivate:[Y.a],data:{roles:["EmployeeRole"]}}],Tn=((An=function t(){e(this,t)}).\u0275mod=c["\u0275\u0275defineNgModule"]({type:An}),An.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(e){return new(e||An)},imports:[[i.c,U.a,G.a,w.g.forChild(bn),j.b]]}),An)}}])}();