!function(){function e(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&t(e,a)}function t(e,a){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,a)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,i=r(e);if(t){var l=r(this).constructor;a=Reflect.construct(i,arguments,l)}else a=i.apply(this,arguments);return n(this,a)}}function n(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,a){return t&&l(e.prototype,t),a&&l(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"09GQ":function(t,n,r){"use strict";r.r(n),r.d(n,"TaskModule",(function(){return Nt}));var l,s=r("tyNb"),d=r("fXoL"),p=((l=function(){function e(){i(this,e)}return o(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||l)},l.\u0275cmp=d["\u0275\u0275defineComponent"]({type:l,selectors:[["app-task"]],decls:2,vars:0,template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p"),d["\u0275\u0275text"](1,"task works!"),d["\u0275\u0275elementEnd"]())},styles:[""]}),l),m=r("PCNd"),c=r("40fR"),E=r("Vvy3"),u=r("Yj9t"),f=r("3Pt+"),g=r("0IaG"),v=r("brQL"),T=r("Wxx3"),D=r("TwVa"),I=r("ZF+8"),h=r("Cmua"),k=r("ofXK"),A=r("kmnG"),C=r("d3UM"),y=r("qFsG"),S=r("bTqV"),R=r("FKr1"),x=r("sYmb");function b(e,t){1&e&&d["\u0275\u0275element"](0,"div",14)}function L(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"h5",15),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,1,"TASK.TASKCATEGORY.CREATE.TITLE")))}function O(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"h5",15),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,1,"TASK.TASKCATEGORY.EDIT.TITLE")))}function N(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"h6",16),d["\u0275\u0275text"](1,"Please enter valid data and fill up the required fields."),d["\u0275\u0275elementEnd"]())}function M(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-option",17),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;d["\u0275\u0275property"]("value",a.id),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",a.companyName," ")}}function B(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1,"Company is required"),d["\u0275\u0275elementEnd"]())}function P(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275template"](1,B,2,0,"mat-error",9),d["\u0275\u0275elementEnd"]()),2&e){var a=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",a.f.companyId.errors.required)}}function K(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"TASK.TASKCATEGORY.CREATE.TASK_CATEGORY_NAME.REQUIRED_ERROR_TEXT")," "))}function _(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"TASK.TASKCATEGORY.CREATE.TASK_CATEGORY_NAME.MAX_LENGTH_ERROR_TEXT")," "))}function w(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"PAYROLL.INCOMETAXPAYERTYPE.CREATE.REMARKS.REQUIRED_ERROR_TEXT")," "))}function F(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"PAYROLL.INCOMETAXPAYERTYPE.CREATE.REMARKS.MAX_LENGTH_ERROR_TEXT")," "))}var X,Y=function(e){return{"is-invalid":e}},G=((X=function(){function e(t,a,n,r,l,o,s){i(this,e),this.alertService=t,this.dialogRef=a,this.formBuilder=n,this.companyService=r,this.datePipe=l,this.taskCategoryService=o,this.onTaskCategoryCreateEvent=new d.EventEmitter,this.onTaskCategoryEditEvent=new d.EventEmitter,this.incomeTaxPayerTypes=[],this.dateOverLapErrorMessage="Dates overlapping for parameter name",this.taskCategory=new D.yb,isNaN(s)&&(this.taskCategory=new D.yb(s)),this.taskCategory.id&&(this.isEditMode=!0,this.buildForm())}return o(e,[{key:"ngOnInit",value:function(){this.buildForm(),this.getAllCompanies()}},{key:"buildForm",value:function(){this.taskCategoryCreateForm=this.formBuilder.group({companyId:[this.taskCategory.companyId],taskCategoryName:[this.taskCategory.taskCategoryName,[f.G.required,f.G.maxLength(50)]],remarks:[this.taskCategory.remarks,[f.G.maxLength(50)]]})}},{key:"getAllCompanies",value:function(){var e=this;this.loading=!0,this.companyService.getAllCompanies().subscribe((function(t){e.companies=t,e.loading=!1}),(function(){e.loading=!1}))}},{key:"onSubmit",value:function(){this.submitted=!0,this.taskCategoryCreateForm.invalid||(null==this.taskCategory.id?this.createTaskCategory():this.editTaskCategory())}},{key:"close",value:function(){this.dialogRef.close()}},{key:"createTaskCategory",value:function(){var e=this;this.taskCategory=new D.yb(this.taskCategoryCreateForm.value),this.loading=!0,this.taskCategoryService.createTaskCategory(this.taskCategory).subscribe((function(t){e.onTaskCategoryCreateEvent.emit(t.id),!0===t.status?(e.isFormValid=!0,e.alertService.success("Task category successfully created"),e.close()):(e.isFormValid=!1,e.errorMessages=t.message),e.loading=!1}),(function(){e.loading=!1}))}},{key:"editTaskCategory",value:function(){var e=this,t=new D.yb(this.taskCategoryCreateForm.value);null!==this.taskCategory&&(this.taskCategory.remarks=t.remarks,this.taskCategory.taskCategoryName=t.taskCategoryName,this.taskCategoryService.editTaskCategory(this.taskCategory).subscribe((function(t){e.onTaskCategoryEditEvent.emit(t.id),!0===t.status?(e.isFormValid=!0,e.alertService.success("Task category successfully edited"),e.close()):(e.isFormValid=!1,e.errorMessages=t.message),e.loading=!1}),(function(){e.loading=!1})))}},{key:"f",get:function(){return this.taskCategoryCreateForm.controls}}]),e}()).\u0275fac=function(e){return new(e||X)(d["\u0275\u0275directiveInject"](h.a),d["\u0275\u0275directiveInject"](g.i),d["\u0275\u0275directiveInject"](f.g),d["\u0275\u0275directiveInject"](I.u),d["\u0275\u0275directiveInject"](k.f),d["\u0275\u0275directiveInject"](I.tb),d["\u0275\u0275directiveInject"](g.a))},X.\u0275cmp=d["\u0275\u0275defineComponent"]({type:X,selectors:[["app-create-task-category"]],decls:40,vars:44,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],["mat-dialog-title","",4,"ngIf"],["class","text-danger",4,"ngIf"],["enctype","multipart/form-data",3,"formGroup"],[1,"mat-typography"],[1,"form-group"],["appearance","outline"],["formControlName","companyId",3,"placeholder","disabled"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","taskCategoryName",3,"value","placeholder","ngClass","valueChange"],["matInput","","formControlName","remarks",3,"value","placeholder","ngClass","valueChange"],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","",1,"btn","btn-success",3,"click"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],["mat-dialog-title",""],[1,"text-danger"],[3,"value"]],template:function(e,t){1&e&&(d["\u0275\u0275template"](0,b,1,0,"div",0),d["\u0275\u0275template"](1,L,3,3,"h5",1),d["\u0275\u0275template"](2,O,3,3,"h5",1),d["\u0275\u0275template"](3,N,2,0,"h6",2),d["\u0275\u0275elementStart"](4,"form",3),d["\u0275\u0275elementStart"](5,"mat-dialog-content",4),d["\u0275\u0275elementStart"](6,"div",5),d["\u0275\u0275elementStart"](7,"mat-form-field",6),d["\u0275\u0275elementStart"](8,"mat-label"),d["\u0275\u0275text"](9),d["\u0275\u0275pipe"](10,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](11,"mat-select",7),d["\u0275\u0275pipe"](12,"translate"),d["\u0275\u0275template"](13,M,2,2,"mat-option",8),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](14,P,2,1,"div",9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](15,"div",5),d["\u0275\u0275elementStart"](16,"mat-form-field",6),d["\u0275\u0275elementStart"](17,"mat-label"),d["\u0275\u0275text"](18),d["\u0275\u0275pipe"](19,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](20,"input",10),d["\u0275\u0275listener"]("valueChange",(function(e){return t.taskCategory.taskCategoryName=e})),d["\u0275\u0275pipe"](21,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](22,K,3,3,"mat-error",9),d["\u0275\u0275template"](23,_,3,3,"mat-error",9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](24,"div",5),d["\u0275\u0275elementStart"](25,"mat-form-field",6),d["\u0275\u0275elementStart"](26,"mat-label"),d["\u0275\u0275text"](27),d["\u0275\u0275pipe"](28,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](29,"input",11),d["\u0275\u0275listener"]("valueChange",(function(e){return t.taskCategory.remarks=e})),d["\u0275\u0275pipe"](30,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](31,w,3,3,"mat-error",9),d["\u0275\u0275template"](32,F,3,3,"mat-error",9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](33,"mat-dialog-actions"),d["\u0275\u0275elementStart"](34,"button",12),d["\u0275\u0275listener"]("click",(function(){return t.close()})),d["\u0275\u0275text"](35),d["\u0275\u0275pipe"](36,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](37,"button",13),d["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),d["\u0275\u0275text"](38),d["\u0275\u0275pipe"](39,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275property"]("ngIf",t.loading),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!t.isEditMode),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.isEditMode),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.taskCategoryCreateForm.invalid&&t.submitted),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("formGroup",t.taskCategoryCreateForm),d["\u0275\u0275advance"](5),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](10,24,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),d["\u0275\u0275advance"](2),d["\u0275\u0275propertyInterpolate"]("placeholder",d["\u0275\u0275pipeBind1"](12,26,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),d["\u0275\u0275property"]("disabled",!0),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",t.companies),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](19,28,"TASK.TASKCATEGORY.CREATE.TASK_CATEGORY_NAME.PLACEHOLDER")," "),d["\u0275\u0275advance"](2),d["\u0275\u0275propertyInterpolate"]("placeholder",d["\u0275\u0275pipeBind1"](21,30,"TASK.TASKCATEGORY.CREATE.TASK_CATEGORY_NAME.PLACEHOLDER")),d["\u0275\u0275property"]("value",t.taskCategory.taskCategoryName)("ngClass",d["\u0275\u0275pureFunction1"](40,Y,t.submitted&&t.f.remarks.errors)),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.taskCategoryName.errors&&t.f.taskCategoryName.errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.taskCategoryName.errors&&t.f.taskCategoryName.errors.maxlength),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](28,32,"PAYROLL.INCOMETAXPAYERTYPE.CREATE.REMARKS.PLACEHOLDER")," "),d["\u0275\u0275advance"](2),d["\u0275\u0275propertyInterpolate"]("placeholder",d["\u0275\u0275pipeBind1"](30,34,"PAYROLL.INCOMETAXPAYERTYPE.CREATE.REMARKS.PLACEHOLDER")),d["\u0275\u0275property"]("value",t.taskCategory.remarks)("ngClass",d["\u0275\u0275pureFunction1"](42,Y,t.submitted&&t.f.remarks.errors)),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.remarks.errors&&t.f.remarks.errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.remarks.errors&&t.f.remarks.errors.maxlength),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](36,36,"COMMON.CANCEL_BUTTON_TEXT")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](39,38,"COMMON.SAVE_BUTTON_TEXT")))},directives:[k.t,f.I,f.t,f.k,g.g,A.c,A.g,C.a,f.s,f.j,k.s,y.b,f.d,k.q,g.c,S.b,g.d,g.j,R.m,A.b],pipes:[x.d],styles:[""]}),X),U=r("Qu3c"),j=r("NFeN"),H=r("oOf3");function q(e,t){1&e&&d["\u0275\u0275element"](0,"div",20)}function V(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-option",21),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;d["\u0275\u0275property"]("value",a.id),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",a.companyName," ")}}function Q(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1,"Company is required"),d["\u0275\u0275elementEnd"]())}function z(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275template"](1,Q,2,0,"mat-error",13),d["\u0275\u0275elementEnd"]()),2&e){var a=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",a.f.companyId.errors.required)}}function $(e,t){if(1&e){var a=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"tr"),d["\u0275\u0275elementStart"](1,"td",22),d["\u0275\u0275elementStart"](2,"button",23),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](a);var e=t.$implicit;return d["\u0275\u0275nextContext"]().editTaskCategory(e)})),d["\u0275\u0275pipe"](3,"translate"),d["\u0275\u0275elementStart"](4,"mat-icon"),d["\u0275\u0275text"](5,"create"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"button",23),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](a);var e=t.$implicit;return d["\u0275\u0275nextContext"]().onDeleteTaskCategory(e)})),d["\u0275\u0275pipe"](7,"translate"),d["\u0275\u0275elementStart"](8,"mat-icon",24),d["\u0275\u0275text"](9,"delete"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](10,"td"),d["\u0275\u0275text"](11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](12,"td"),d["\u0275\u0275text"](13),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var n=t.$implicit;d["\u0275\u0275advance"](2),d["\u0275\u0275propertyInterpolate"]("matTooltip",d["\u0275\u0275pipeBind1"](3,4,"COMMON.EDIT_BUTTON_TEXT")),d["\u0275\u0275advance"](4),d["\u0275\u0275propertyInterpolate"]("matTooltip",d["\u0275\u0275pipeBind1"](7,6,"COMMON.DELETE_BUTTON_TEXT")),d["\u0275\u0275advance"](5),d["\u0275\u0275textInterpolate"](n.taskCategoryName),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](n.remarks)}}function J(e,t){if(1&e){var a=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"pagination-controls",30),d["\u0275\u0275listener"]("pageChange",(function(e){return d["\u0275\u0275restoreView"](a),d["\u0275\u0275nextContext"](2).pageChanged(e)})),d["\u0275\u0275elementEnd"]()}}function W(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-option",21),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;d["\u0275\u0275property"]("value",a.value),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",a.text," ")}}function Z(e,t){if(1&e){var a=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",25),d["\u0275\u0275elementStart"](1,"div",26),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"div",26),d["\u0275\u0275template"](4,J,1,0,"pagination-controls",27),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"div",28),d["\u0275\u0275elementStart"](6,"mat-form-field"),d["\u0275\u0275elementStart"](7,"mat-select",29),d["\u0275\u0275listener"]("ngModelChange",(function(e){return d["\u0275\u0275restoreView"](a),d["\u0275\u0275nextContext"]().pageSize=e}))("selectionChange",(function(){return d["\u0275\u0275restoreView"](a),d["\u0275\u0275nextContext"]().onChangePaginationPerPage()})),d["\u0275\u0275template"](8,W,2,2,"mat-option",12),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",n.totalItemsText," "),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",n.totalItems>0),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngModel",n.pageSize),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",n.paginationPageNumbers)}}var ee,te=function(e,t,a){return{id:"pagination",itemsPerPage:e,currentPage:t,totalItems:a}},ae=((ee=function(t){e(r,t);var n=a(r);function r(e,t,a,l,o,s){var d;return i(this,r),(d=n.call(this,e)).injector=e,d.companyService=t,d.taskCategoryService=a,d.dialog=l,d.formBuilder=o,d.alertService=s,d}return o(r,[{key:"ngOnInit",value:function(){this.getAllCompanies(),this.buildForm(),this.getAllTaskCategories()}},{key:"getAllCompanies",value:function(){var e=this;this.loading=!0,this.companyService.getAllCompanies().subscribe((function(t){e.companies=t,e.loading=!1}),(function(){e.loading=!1}))}},{key:"buildForm",value:function(){this.taskCategoryFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,f.G.required]})}},{key:"getAllTaskCategories",value:function(){var e=this;this.loading=!0,this.taskCategoryService.getAllTaskCategory(this.companyId).subscribe((function(t){e.taskCategories=t,e.loading=!1}),(function(){e.loading=!1}))}},{key:"createTaskCategory",value:function(){var e=this,t=new g.e;t.disableClose=!0,t.autoFocus=!0,t.panelClass="xHR-dialog";var a=window.screen.width<=576?90:50;t.width=a+"%";var n=new D.yb;n.companyId=this.companyId,t.data=n;var r=this.dialog.open(G,t);r.componentInstance.onTaskCategoryCreateEvent.subscribe((function(t){e.getAllTaskCategories()})),r.afterClosed().subscribe((function(){}))}},{key:"editTaskCategory",value:function(e){var t=this,a=new g.e;a.disableClose=!0,a.autoFocus=!0,a.panelClass="xHR-dialog";var n=window.screen.width<=576?90:50;a.width=n+"%",e.companyId=this.companyId,a.data=e;var r=this.dialog.open(G,a);r.componentInstance.onTaskCategoryEditEvent.subscribe((function(e){t.getAllTaskCategories()})),r.afterClosed().subscribe((function(){}))}},{key:"onDeleteTaskCategory",value:function(e){var t=this,a=new g.e;a.data="Are you sure to delete the task category "+e.taskCategoryName,a.panelClass="xHR-dialog",this.dialog.open(T.a,a).afterClosed().subscribe((function(a){void 0!==a&&t.deleteTaskCategory(e)}))}},{key:"deleteTaskCategory",value:function(e){var t=this;this.taskCategoryService.deleteTaskCategory(e).subscribe((function(e){t.alertService.success("Task Category successfully deleted")}))}},{key:"f",get:function(){return this.taskCategoryFilterFormGroup.controls}}]),r}(v.a)).\u0275fac=function(e){return new(e||ee)(d["\u0275\u0275directiveInject"](d.Injector),d["\u0275\u0275directiveInject"](I.u),d["\u0275\u0275directiveInject"](I.tb),d["\u0275\u0275directiveInject"](g.b),d["\u0275\u0275directiveInject"](f.g),d["\u0275\u0275directiveInject"](h.a))},ee.\u0275cmp=d["\u0275\u0275defineComponent"]({type:ee,selectors:[["app-task-category"]],features:[d["\u0275\u0275InheritDefinitionFeature"]],decls:41,vars:37,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-sm-12","col-md-6"],["id","tableLabel"],[1,"col-lg-4","col-xl-3","col-md-6","col-sm-10"],["mat-raised-button","",1,"btn","btn-success","btn-block","text-center",3,"matTooltip","click"],[1,"create-icon-button"],[3,"formGroup"],[1,"row"],[1,"col-12","col-md-6","col-lg-3"],["appearance","outline"],["formControlName","companyId",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"table-responsive"],["aria-labelledby","tableLabel",1,"table","table-light","table-hover","table-responsive-sm","text-nowrap"],[1,"table-secondary"],[1,"text-center"],[4,"ngFor","ngForOf"],["class","row justify-content-between",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"],[1,"pt-0","text-center"],["mat-icon-button","",3,"matTooltip","click"],[1,"mat-icon-delete"],[1,"row","justify-content-between"],[1,"col-md-5","col-sm-5","text-left"],["id","pagination","directionLinks","true","previousLabel","","nextLabel","",3,"pageChange",4,"ngIf"],[1,"col-md-2","col-sm-2","text-left"],["placeholder","Items Per Page",3,"ngModel","ngModelChange","selectionChange"],["id","pagination","directionLinks","true","previousLabel","","nextLabel","",3,"pageChange"]],template:function(e,t){1&e&&(d["\u0275\u0275template"](0,q,1,0,"div",0),d["\u0275\u0275elementStart"](1,"div",1),d["\u0275\u0275elementStart"](2,"div",2),d["\u0275\u0275elementStart"](3,"h1",3),d["\u0275\u0275text"](4),d["\u0275\u0275pipe"](5,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"div",4),d["\u0275\u0275elementStart"](7,"button",5),d["\u0275\u0275listener"]("click",(function(){return t.createTaskCategory()})),d["\u0275\u0275pipe"](8,"translate"),d["\u0275\u0275elementStart"](9,"mat-icon",6),d["\u0275\u0275text"](10,"add"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275text"](11),d["\u0275\u0275pipe"](12,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](13,"form",7),d["\u0275\u0275elementStart"](14,"div",8),d["\u0275\u0275elementStart"](15,"div",9),d["\u0275\u0275elementStart"](16,"mat-form-field",10),d["\u0275\u0275elementStart"](17,"mat-label"),d["\u0275\u0275text"](18),d["\u0275\u0275pipe"](19,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](20,"mat-select",11),d["\u0275\u0275pipe"](21,"translate"),d["\u0275\u0275template"](22,V,2,2,"mat-option",12),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](23,z,2,1,"div",13),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](24,"div",14),d["\u0275\u0275elementStart"](25,"table",15),d["\u0275\u0275elementStart"](26,"thead"),d["\u0275\u0275elementStart"](27,"tr",16),d["\u0275\u0275elementStart"](28,"th",17),d["\u0275\u0275text"](29),d["\u0275\u0275pipe"](30,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](31,"th"),d["\u0275\u0275text"](32),d["\u0275\u0275pipe"](33,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](34,"th"),d["\u0275\u0275text"](35),d["\u0275\u0275pipe"](36,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](37,"tbody"),d["\u0275\u0275template"](38,$,14,8,"tr",18),d["\u0275\u0275pipe"](39,"paginate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](40,Z,9,4,"div",19)),2&e&&(d["\u0275\u0275property"]("ngIf",t.loading),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](5,14,"TASK.TASKCATEGORY.INDEX.TITLE")),d["\u0275\u0275advance"](3),d["\u0275\u0275propertyInterpolate1"]("matTooltip","Add ",d["\u0275\u0275pipeBind1"](8,16,"TASK.TASKCATEGORY.INDEX.TITLE"),""),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](12,18,"TASK.TASKCATEGORY.INDEX.TITLE")," "),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("formGroup",t.taskCategoryFilterFormGroup),d["\u0275\u0275advance"](5),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](19,20,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),d["\u0275\u0275advance"](2),d["\u0275\u0275propertyInterpolate"]("placeholder",d["\u0275\u0275pipeBind1"](21,22,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",t.companies),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors),d["\u0275\u0275advance"](6),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](30,24,"PAYROLL.EMPLOYEEBANKACCOUNT.INDEX.TABLE.HEADER.ACTIONS")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](33,26,"TASK.TASKCATEGORY.INDEX.TABLE.HEADER.TASK_CATEGORY_NAME")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](36,28,"TASK.TASKCATEGORY.INDEX.TABLE.HEADER.REMARKS")),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngForOf",d["\u0275\u0275pipeBind2"](39,30,t.taskCategories,d["\u0275\u0275pureFunction3"](33,te,t.pageSize,t.currentPage,t.totalItems))),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",t.totalItems>0))},directives:[k.t,S.b,U.a,j.a,f.I,f.t,f.k,A.c,A.g,C.a,f.s,f.j,k.s,R.m,A.b,f.v,H.c],pipes:[x.d,H.b],styles:[""]}),ee),ne=r("N/25"),re=r("iadO");function ie(e,t){1&e&&d["\u0275\u0275element"](0,"div",26)}function le(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"h5",27),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TITLE")))}function oe(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"h5",27),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.EDIT.TITLE")))}function se(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"h6",28),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,1,"COMMON.ERROR_TEXT")))}function de(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"mat-option",29),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementContainerEnd"]()),2&e){var a=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275propertyInterpolate"]("value",a.id),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](a.taskCategoryName)}}function pe(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_CATEGORY.REQUIERED_ERROR_TEXT")," "))}function me(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_NAME.REQUIERED_ERROR_TEXT"),""))}function ce(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_NAME.MAX_LENGTH_ERROR"),""))}function Ee(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error",30),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_DESCRIPTION.REQUIERED_ERROR_TEXT"),""))}function ue(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_DESCRIPTION.MAX_LENGTH_ERROR"),""))}function fe(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT")," "))}function ge(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT")," "))}function ve(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"mat-option",29),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementContainerEnd"]()),2&e){var a=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275propertyInterpolate"]("value",a.id),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](a.fullName)}}function Te(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"COMMON.SELECT.EMPLOYEEID.REQUIERED_ERROR_TEXT"),""))}function De(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_NAME.REQUIERED_ERROR_TEXT"),""))}function Ie(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_NAME.MAX_LENGTH_ERROR"),""))}function he(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"mat-option",29),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementContainerEnd"]()),2&e){var a=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("value",a),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](a.value)}}function ke(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1," Assignee is required"),d["\u0275\u0275elementEnd"]())}function Ae(e,t){if(1&e){var a=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",15),d["\u0275\u0275elementStart"](1,"mat-form-field",8),d["\u0275\u0275elementStart"](2,"mat-label"),d["\u0275\u0275text"](3),d["\u0275\u0275pipe"](4,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"mat-select",31),d["\u0275\u0275listener"]("selectionChange",(function(e){return d["\u0275\u0275restoreView"](a),d["\u0275\u0275nextContext"]().onChangeStatus(e)})),d["\u0275\u0275pipe"](6,"translate"),d["\u0275\u0275template"](7,he,3,2,"ng-container",10),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](8,ke,2,0,"mat-error",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](4,4,"TASK.TASKDETAIL.INDEX.CREATE.STATUS.PLACE_HOLDER")," "),d["\u0275\u0275advance"](2),d["\u0275\u0275propertyInterpolate"]("placeholder",d["\u0275\u0275pipeBind1"](6,6,"TASK.TASKDETAIL.INDEX.CREATE.STATUS.PLACE_HOLDER")),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",n.statuses),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",n.submitted&&n.f.statusId.errors&&n.f.statusId.errors.required)}}function Ce(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"mat-option",29),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementContainerEnd"]()),2&e){var a=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275propertyInterpolate"]("value",a.id),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](a.taskName)}}function ye(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"COMMON.SELECT.EMPLOYEEID.REQUIERED_ERROR_TEXT"),""))}function Se(e,t){if(1&e){var a=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",15),d["\u0275\u0275elementStart"](1,"mat-form-field",8),d["\u0275\u0275elementStart"](2,"mat-label"),d["\u0275\u0275text"](3),d["\u0275\u0275pipe"](4,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"mat-select",32),d["\u0275\u0275listener"]("valueChange",(function(e){return d["\u0275\u0275restoreView"](a),d["\u0275\u0275nextContext"]().taskDetailparentTaskId=e}))("selectionChange",(function(e){return d["\u0275\u0275restoreView"](a),d["\u0275\u0275nextContext"]().onChangeStatus(e)})),d["\u0275\u0275pipe"](6,"translate"),d["\u0275\u0275template"](7,Ce,3,2,"ng-container",10),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](8,ye,3,3,"mat-error",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](4,5,"TASK.TASKDETAIL.INDEX.CREATE.PARENTTASK.PLACE_HOLDER")," "),d["\u0275\u0275advance"](2),d["\u0275\u0275propertyInterpolate"]("placeholder",d["\u0275\u0275pipeBind1"](6,7,"TASK.TASKDETAIL.INDEX.CREATE.PARENT_TASK.PLACE_HOLDER")),d["\u0275\u0275property"]("value",n.taskDetailparentTaskId),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",n.taskDetails),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",n.submitted&&n.f.managerId.errors&&n.f.managerId.errors.required)}}function Re(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275elementStart"](1,"div",33),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var a=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",a.errorMessage," ")}}var xe,be=function(e){return{"is-invalid":e}},Le=((xe=function(){function e(t,a,n,r,l,o,s,p,m,c){i(this,e),this.alertService=t,this.dialogRef=a,this.formBuilder=n,this.companyService=r,this.datePipe=l,this.taskCategoryService=o,this.taskDetailService=s,this.authService=p,this.employeeService=m,this.onTaskDetailCreateEvent=new d.EventEmitter,this.onTaskDetailEditEvent=new d.EventEmitter,this.isEditMode=!1,this.incomeTaxPayerTypes=[],this.dateOverLapErrorMessage="Dates overlapping for parameter name",this.empId=1,this.statuses=[{id:1,value:"In queue"},{id:0,value:"In progress"},{id:2,value:"Done"}],this.tDemo=this.statuses[0],this.taskDetail=new D.zb,isNaN(c)&&(this.taskDetail=new D.zb(c),this.statusId=this.taskDetail.statusId),this.taskDetail.id&&(this.isEditMode=!0),this.userId=this.authService.getLoggedInUserInfo().userId}return o(e,[{key:"ngOnInit",value:function(){this.buildForm(),this.getAllCompanies(),this.getAllTaskCategories(),this.getAllEmployees(),this.getAllTasksDetailByCompany(),this.setStatus()}},{key:"setStatus",value:function(){var e=this,t=this.statuses.find((function(t){return t.id===e.taskDetail.statusId}));this.taskDetailCreateForm.get("statusId").setValue(t)}},{key:"getAllEmployees",value:function(){var e=this;this.employeeService.getAllEmployees().subscribe((function(t){e.employees=t}),(function(e){console.log(e)}))}},{key:"getAllTasksDetailByCompany",value:function(){var e=this;this.loading=!0,this.taskDetailService.getAllTasksDetailByCompanyId(this.taskDetail.companyId).subscribe((function(t){e.taskDetails=t.filter((function(t){return t.id!==e.taskDetail.id})),e.loading=!1}),(function(){e.loading=!1}))}},{key:"buildForm",value:function(){this.taskDetailCreateForm=this.formBuilder.group({companyId:[this.taskDetail.companyId],taskTypeId:[this.taskDetail.taskTypeId,[f.G.required,f.G.maxLength(50)]],taskName:[this.taskDetail.taskName,[f.G.required,f.G.maxLength(50)]],taskDescription:[this.taskDetail.taskDescription,[f.G.maxLength(150)]],startDate:[this.taskDetail.startDate,[f.G.required]],endDate:[this.taskDetail.endDate,[f.G.required]],assigneeId:[this.taskDetail.assigneeId,[f.G.required]],parentTaskId:[this.taskDetail.parentTaskId],statusId:[this.statusId],progress:[this.taskDetail.progress]})}},{key:"getAllCompanies",value:function(){var e=this;this.loading=!0,this.companyService.getAllCompanies().subscribe((function(t){e.companies=t,e.loading=!1}),(function(){e.loading=!1}))}},{key:"onSubmit",value:function(){this.submitted=!0,this.taskDetailCreateForm.invalid||(null==this.taskDetail.id?this.createTaskDetail():this.editTaskDetail())}},{key:"close",value:function(){this.dialogRef.close()}},{key:"createTaskDetail",value:function(){var e=this;this.taskDetail=new D.zb(this.taskDetailCreateForm.value),this.loading=!0,this.taskDetail.endDate=this.datePipe.transform(new Date(this.taskDetail.endDate),"yyyy-MM-dd"),this.taskDetail.startDate=this.datePipe.transform(new Date(this.taskDetail.startDate),"yyyy-MM-dd"),this.taskDetail.taskCreator=this.userId,this.taskDetailService.createTaskCategory(this.taskDetail).subscribe((function(t){e.onTaskDetailCreateEvent.emit(t.id),!0===t.status?(e.isFormValid=!0,e.alertService.success("Task category successfully created"),e.close()):(e.isFormValid=!1,e.errorMessages=t.message),e.loading=!1}),(function(){e.loading=!1}))}},{key:"editTaskDetail",value:function(){var e=this,t=new D.zb(this.taskDetailCreateForm.value),a=this.taskDetail.id;this.loading=!0,this.taskDetail=Object.assign({},t),this.taskDetail.statusId=this.taskDetail.statusId.id,this.taskDetail.id=a,this.taskDetail.endDate=this.datePipe.transform(new Date(this.taskDetail.endDate),"yyyy-MM-dd"),this.taskDetail.startDate=this.datePipe.transform(new Date(this.taskDetail.startDate),"yyyy-MM-dd"),this.taskDetailService.editTaskDetail(this.taskDetail).subscribe((function(t){e.onTaskDetailEditEvent.emit(t.id),!0===t.status?(e.isFormValid=!0,e.alertService.success("Task detail successfully edited"),e.close()):(e.isFormValid=!1,e.errorMessages=t.message),e.loading=!1}),(function(){e.loading=!1}))}},{key:"getAllTaskCategories",value:function(){var e=this;this.loading=!0,this.taskCategoryService.getAllTaskCategory(this.taskDetail.companyId).subscribe((function(t){e.taskCategories=t,e.loading=!1}),(function(){e.loading=!1}))}},{key:"onChangeEmployee",value:function(e){this.taskDetail.assigneeId=e.value}},{key:"onChangeParentTask",value:function(e){this.taskDetail.parentTaskId=e.value}},{key:"onChangeStatus",value:function(e){this.statusId=e.value}},{key:"statusID",get:function(){return this.taskDetailCreateForm.get("statusId")}},{key:"f",get:function(){return this.taskDetailCreateForm.controls}}]),e}()).\u0275fac=function(e){return new(e||xe)(d["\u0275\u0275directiveInject"](h.a),d["\u0275\u0275directiveInject"](g.i),d["\u0275\u0275directiveInject"](f.g),d["\u0275\u0275directiveInject"](I.u),d["\u0275\u0275directiveInject"](k.f),d["\u0275\u0275directiveInject"](I.tb),d["\u0275\u0275directiveInject"](I.vb),d["\u0275\u0275directiveInject"](ne.a),d["\u0275\u0275directiveInject"](I.U),d["\u0275\u0275directiveInject"](g.a))},xe.\u0275cmp=d["\u0275\u0275defineComponent"]({type:xe,selectors:[["app-create-task-detail"]],decls:85,vars:81,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],["mat-dialog-title","",4,"ngIf"],["class","text-danger",4,"ngIf"],["enctype","multipart/form-data",1,"employee-from",3,"formGroup"],[1,"mat-typography"],[1,"row"],[1,"col-12","col-md-6"],[1,"form-group"],["appearance","outline"],["matInput","","formControlName","taskTypeId",3,"value","placeholder","valueChange"],[4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","taskName",3,"value","placeholder","ngClass","valueChange"],["matInput","","formControlName","taskDescription",3,"value","placeholder","ngClass","valueChange"],["required","",4,"ngIf"],[1,"col-md-6","col-12"],["matInput","","formControlName","startDate",3,"matDatepicker","placeholder","ngClass","click"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","endDate",3,"matDatepicker","value","placeholder","ngClass","click","valueChange"],["endDatePicker",""],["matInput","","formControlName","assigneeId","placeholder","Assignee",3,"value","valueChange","selectionChange"],["type","number","matInput","","formControlName","progress","placeholder","Progress",3,"value","ngClass","valueChange"],["class","col-md-6 col-12",4,"ngIf"],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","",1,"btn","btn-success",3,"click"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],["mat-dialog-title",""],[1,"text-danger"],[3,"value"],["required",""],["matInput","","formControlName","statusId",3,"placeholder","selectionChange"],["matInput","","formControlName","parentTaskId","disabled","",3,"value","placeholder","valueChange","selectionChange"],[1,"d-flex"]],template:function(e,t){if(1&e){var a=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275template"](0,ie,1,0,"div",0),d["\u0275\u0275template"](1,le,3,3,"h5",1),d["\u0275\u0275template"](2,oe,3,3,"h5",1),d["\u0275\u0275template"](3,se,3,3,"h6",2),d["\u0275\u0275elementStart"](4,"form",3),d["\u0275\u0275elementStart"](5,"mat-dialog-content",4),d["\u0275\u0275elementStart"](6,"div",5),d["\u0275\u0275elementStart"](7,"div",6),d["\u0275\u0275elementStart"](8,"div",7),d["\u0275\u0275elementStart"](9,"mat-form-field",8),d["\u0275\u0275elementStart"](10,"mat-label"),d["\u0275\u0275text"](11),d["\u0275\u0275pipe"](12,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](13,"mat-select",9),d["\u0275\u0275listener"]("valueChange",(function(e){return t.taskDetail.taskTypeId=e})),d["\u0275\u0275pipe"](14,"translate"),d["\u0275\u0275template"](15,de,3,2,"ng-container",10),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](16,pe,3,3,"mat-error",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](17,"div",6),d["\u0275\u0275elementStart"](18,"div",7),d["\u0275\u0275elementStart"](19,"mat-form-field",8),d["\u0275\u0275elementStart"](20,"mat-label"),d["\u0275\u0275text"](21),d["\u0275\u0275pipe"](22,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](23,"input",12),d["\u0275\u0275listener"]("valueChange",(function(e){return t.taskDetail.taskName=e})),d["\u0275\u0275pipe"](24,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](25,me,3,3,"mat-error",11),d["\u0275\u0275template"](26,ce,3,3,"mat-error",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](27,"div",7),d["\u0275\u0275elementStart"](28,"mat-form-field",8),d["\u0275\u0275elementStart"](29,"mat-label"),d["\u0275\u0275text"](30),d["\u0275\u0275pipe"](31,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](32,"input",13),d["\u0275\u0275listener"]("valueChange",(function(e){return t.taskDetail.taskDescription=e})),d["\u0275\u0275pipe"](33,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](34,Ee,3,3,"mat-error",14),d["\u0275\u0275template"](35,ue,3,3,"mat-error",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](36,"div",5),d["\u0275\u0275elementStart"](37,"div",15),d["\u0275\u0275elementStart"](38,"mat-form-field",8),d["\u0275\u0275elementStart"](39,"mat-label"),d["\u0275\u0275text"](40),d["\u0275\u0275pipe"](41,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](42,"input",16),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](a),d["\u0275\u0275reference"](46).open()})),d["\u0275\u0275pipe"](43,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](44,"mat-datepicker-toggle",17),d["\u0275\u0275element"](45,"mat-datepicker",null,18),d["\u0275\u0275template"](47,fe,3,3,"mat-error",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](48,"div",15),d["\u0275\u0275elementStart"](49,"mat-form-field",8),d["\u0275\u0275elementStart"](50,"mat-label"),d["\u0275\u0275text"](51),d["\u0275\u0275pipe"](52,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](53,"input",19),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](a),d["\u0275\u0275reference"](57).open()}))("valueChange",(function(e){return t.endDate=e})),d["\u0275\u0275pipe"](54,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](55,"mat-datepicker-toggle",17),d["\u0275\u0275element"](56,"mat-datepicker",null,20),d["\u0275\u0275template"](58,ge,3,3,"mat-error",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](59,"div",5),d["\u0275\u0275elementStart"](60,"div",15),d["\u0275\u0275elementStart"](61,"mat-form-field",8),d["\u0275\u0275elementStart"](62,"mat-label"),d["\u0275\u0275text"](63,"Assignee "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](64,"mat-select",21),d["\u0275\u0275listener"]("valueChange",(function(e){return t.employeeId=e}))("selectionChange",(function(e){return t.onChangeEmployee(e)})),d["\u0275\u0275template"](65,ve,3,2,"ng-container",10),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](66,Te,3,3,"mat-error",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](67,"div",15),d["\u0275\u0275elementStart"](68,"div",7),d["\u0275\u0275elementStart"](69,"mat-form-field",8),d["\u0275\u0275elementStart"](70,"mat-label"),d["\u0275\u0275text"](71,"Progress (%)"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](72,"input",22),d["\u0275\u0275listener"]("valueChange",(function(e){return t.taskDetail.progress=e})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](73,De,3,3,"mat-error",11),d["\u0275\u0275template"](74,Ie,3,3,"mat-error",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](75,Ae,9,8,"div",23),d["\u0275\u0275template"](76,Se,9,9,"div",23),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](77,Re,3,1,"mat-error",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](78,"mat-dialog-actions"),d["\u0275\u0275elementStart"](79,"button",24),d["\u0275\u0275listener"]("click",(function(){return t.close()})),d["\u0275\u0275text"](80),d["\u0275\u0275pipe"](81,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](82,"button",25),d["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),d["\u0275\u0275text"](83),d["\u0275\u0275pipe"](84,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var n=d["\u0275\u0275reference"](46),r=d["\u0275\u0275reference"](57);d["\u0275\u0275property"]("ngIf",t.loading),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!t.isEditMode),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.isEditMode),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.submitted&&t.taskDetailCreateForm.invalid),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("formGroup",t.taskDetailCreateForm),d["\u0275\u0275advance"](7),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](12,47,"TASK.TASKDETAIL.INDEX.CREATE.TASK_CATEGORY.PLACE_HOLDER")),d["\u0275\u0275advance"](2),d["\u0275\u0275propertyInterpolate"]("placeholder",d["\u0275\u0275pipeBind1"](14,49,"TASK.TASKDETAIL.INDEX.CREATE.TASK_CATEGORY.PLACE_HOLDER")),d["\u0275\u0275property"]("value",t.taskDetail.taskTypeId),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",t.taskCategories),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.taskTypeId.errors&&t.f.taskTypeId.errors.required),d["\u0275\u0275advance"](5),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](22,51,"TASK.TASKDETAIL.INDEX.CREATE.TASK_NAME.PLACE_HOLDER")),d["\u0275\u0275advance"](2),d["\u0275\u0275propertyInterpolate"]("placeholder",d["\u0275\u0275pipeBind1"](24,53,"TASK.TASKDETAIL.INDEX.CREATE.TASK_NAME.PLACE_HOLDER")),d["\u0275\u0275property"]("value",t.taskDetail.taskName)("ngClass",d["\u0275\u0275pureFunction1"](71,be,t.submitted&&t.f.taskName.errors)),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.taskName.errors&&t.f.taskName.errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.taskName.errors&&t.f.taskName.errors.maxlength),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](31,55,"TASK.TASKDETAIL.INDEX.CREATE.TASK_DESCRIPTION.PLACE_HOLDER")),d["\u0275\u0275advance"](2),d["\u0275\u0275propertyInterpolate"]("placeholder",d["\u0275\u0275pipeBind1"](33,57,"TASK.TASKDETAIL.INDEX.CREATE.TASK_DESCRIPTION.PLACE_HOLDER")),d["\u0275\u0275property"]("value",t.taskDetail.taskDescription)("ngClass",d["\u0275\u0275pureFunction1"](73,be,t.submitted&&t.f.taskDescription.errors)),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.taskDescription.errors&&t.f.taskDescription.errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.taskDescription.errors&&t.f.taskDescription.errors.maxlength),d["\u0275\u0275advance"](5),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](41,59,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")," "),d["\u0275\u0275advance"](2),d["\u0275\u0275propertyInterpolate"]("placeholder",d["\u0275\u0275pipeBind1"](43,61,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),d["\u0275\u0275property"]("matDatepicker",n)("ngClass",d["\u0275\u0275pureFunction1"](75,be,t.f.startDate.errors)),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("for",n),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startDate.errors&&t.f.startDate.errors.required),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](52,63,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")," "),d["\u0275\u0275advance"](2),d["\u0275\u0275propertyInterpolate"]("placeholder",d["\u0275\u0275pipeBind1"](54,65,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),d["\u0275\u0275property"]("matDatepicker",r)("value",t.endDate)("ngClass",d["\u0275\u0275pureFunction1"](77,be,t.f.endDate.errors)),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("for",r),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endDate.errors&&t.f.endDate.errors.required),d["\u0275\u0275advance"](6),d["\u0275\u0275property"]("value",t.employeeId),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",t.employees),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.assigneeId.errors&&t.f.assigneeId.errors.required),d["\u0275\u0275advance"](6),d["\u0275\u0275property"]("value",t.taskDetail.progress)("ngClass",d["\u0275\u0275pureFunction1"](79,be,t.submitted&&t.f.progress.errors)),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.progress.errors&&t.f.progress.errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.progress.errors&&t.f.progress.errors.maxlength),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.isEditMode),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.isEditMode),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!t.isFormValid),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](81,67,"COMMON.CANCEL_BUTTON_TEXT")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](84,69,"COMMON.SAVE_BUTTON_TEXT"))}},directives:[k.t,f.I,f.t,f.k,g.g,A.c,A.g,C.a,f.s,f.j,k.s,y.b,f.d,k.q,re.h,re.j,A.j,re.f,f.y,g.c,S.b,g.d,g.j,R.m,A.b],pipes:[x.d],styles:[""]}),xe);function Oe(e,t){1&e&&d["\u0275\u0275element"](0,"div",26)}function Ne(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"h5",27),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TITLE")))}function Me(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"h5",27),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.EDIT.TITLE")))}function Be(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"h6",28),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,1,"COMMON.ERROR_TEXT")))}function Pe(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"mat-option",29),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementContainerEnd"]()),2&e){var a=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275propertyInterpolate"]("value",a.id),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](a.taskCategoryName)}}function Ke(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_CATEGORY.REQUIERED_ERROR_TEXT"),""))}function _e(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_NAME.REQUIERED_ERROR_TEXT"),""))}function we(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_NAME.MAX_LENGTH_ERROR"),""))}function Fe(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error",30),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_DESCRIPTION.REQUIERED_ERROR_TEXT"),""))}function Xe(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_DESCRIPTION.MAX_LENGTH_ERROR"),""))}function Ye(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT")," "))}function Ge(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT")," "))}function Ue(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"mat-option",29),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementContainerEnd"]()),2&e){var a=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275propertyInterpolate"]("value",a.id),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](a.fullName)}}function je(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"COMMON.SELECT.EMPLOYEEID.REQUIERED_ERROR_TEXT"),""))}function He(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_NAME.REQUIERED_ERROR_TEXT"),""))}function qe(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_NAME.MAX_LENGTH_ERROR"),""))}function Ve(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"mat-option",29),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementContainerEnd"]()),2&e){var a=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275propertyInterpolate"]("value",a.id),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](a.taskName)}}function Qe(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"COMMON.SELECT.EMPLOYEEID.REQUIERED_ERROR_TEXT"),""))}function ze(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275elementStart"](1,"div",31),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var a=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",a.errorMessage," ")}}var $e,Je=function(e){return{"is-invalid":e}},We=(($e=function(){function e(t,a,n,r,l,o,s,p,m,c){i(this,e),this.alertService=t,this.dialogRef=a,this.formBuilder=n,this.companyService=r,this.taskCategoryService=l,this.taskDetailService=o,this.authService=s,this.datePipe=p,this.employeeService=m,this.onTaskDetailChildCreateEvent=new d.EventEmitter,this.onTaskDetailChildEditEvent=new d.EventEmitter,this.incomeTaxPayerTypes=[],this.dateOverLapErrorMessage="Dates overlapping for parameter name",this.statuses=[{id:1,value:"In queue"},{id:0,value:"In progress"},{id:2,value:"Done"}],this.taskDetail=new D.zb,isNaN(c)&&(this.taskDetail=new D.zb(c)),this.taskDetail.id&&(this.isEditMode=!0,this.buildForm()),this.userId=this.authService.getLoggedInUserInfo().userId}return o(e,[{key:"ngOnInit",value:function(){this.buildForm(),this.getAllCompanies(),this.getAllTaskCategories(),this.getAllEmployees(),this.getAllTasksDetailByCompany()}},{key:"getAllEmployees",value:function(){var e=this;this.employeeService.getAllEmployees().subscribe((function(t){e.employees=t}))}},{key:"getAllTasksDetailByCompany",value:function(){var e=this;this.loading=!0,this.taskDetailService.getAllTasksDetailByCompanyId(this.taskDetail.companyId).subscribe((function(t){e.taskDetails=t,e.loading=!1}),(function(){e.loading=!1}))}},{key:"buildForm",value:function(){this.taskDetailChildCreateForm=this.formBuilder.group({companyId:[this.taskDetail.companyId],taskTypeId:[this.taskDetail.taskTypeId,[f.G.required,f.G.maxLength(50)]],taskName:[this.taskDetail.taskName,[f.G.required,f.G.maxLength(50)]],taskDescription:[this.taskDetail.taskDescription,[f.G.maxLength(150)]],startDate:[this.taskDetail.startDate,[f.G.required]],endDate:[this.taskDetail.endDate,[f.G.required]],assigneeId:[this.taskDetail.assigneeId],parentTaskId:[this.taskDetail.parentTaskId],statusId:[this.taskDetail.statusId],progress:[this.taskDetail.progress]})}},{key:"getAllCompanies",value:function(){var e=this;this.loading=!0,this.companyService.getAllCompanies().subscribe((function(t){e.companies=t,e.loading=!1}),(function(){e.loading=!1}))}},{key:"onSubmit",value:function(){this.submitted=!0,this.taskDetailChildCreateForm.invalid||(null==this.taskDetail.id?this.createTaskDetail():this.editTaskDetail())}},{key:"close",value:function(){this.dialogRef.close()}},{key:"createTaskDetail",value:function(){var e=this;this.taskDetail=new D.zb(this.taskDetailChildCreateForm.value),this.loading=!0,this.taskDetail.startDate=this.datePipe.transform(new Date(this.taskDetail.startDate),"yyyy-MM-dd"),this.taskDetail.endDate=this.datePipe.transform(new Date(this.taskDetail.endDate),"yyyy-MM-dd"),this.taskDetail.taskCreator=this.userId,this.taskDetailService.createTaskCategory(this.taskDetail).subscribe((function(t){e.onTaskDetailChildCreateEvent.emit(t.id),!0===t.status?(e.isFormValid=!0,e.alertService.success("Task category successfully created"),e.close()):(e.isFormValid=!1,e.errorMessages=t.message),e.loading=!1}),(function(){e.loading=!1}))}},{key:"editTaskDetail",value:function(){var e=this,t=new D.zb(this.taskDetailChildCreateForm.value),a=this.taskDetail.id;this.loading=!0,this.taskDetail=Object.assign({},t),this.taskDetail.id=a,this.taskDetail.startDate=this.datePipe.transform(new Date(this.taskDetail.startDate),"yyyy-MM-dd"),this.taskDetail.endDate=this.datePipe.transform(new Date(this.taskDetail.endDate),"yyyy-MM-dd"),this.taskDetailService.editTaskDetail(this.taskDetail).subscribe((function(t){e.onTaskDetailChildEditEvent.emit(t.id),!0===t.status?(e.isFormValid=!0,e.alertService.success("Task detail successfully edited"),e.close()):(e.isFormValid=!1,e.errorMessages=t.message),e.loading=!1}),(function(){e.loading=!1}))}},{key:"getAllTaskCategories",value:function(){var e=this;this.loading=!0,this.taskCategoryService.getAllTaskCategory(this.taskDetail.companyId).subscribe((function(t){e.taskCategories=t,e.loading=!1}),(function(){e.loading=!1}))}},{key:"onChangeEmployee",value:function(e){this.taskDetail.assigneeId=e.value}},{key:"onChangeParentTask",value:function(e){this.taskDetail.parentTaskId=e.value}},{key:"f",get:function(){return this.taskDetailChildCreateForm.controls}}]),e}()).\u0275fac=function(e){return new(e||$e)(d["\u0275\u0275directiveInject"](h.a),d["\u0275\u0275directiveInject"](g.i),d["\u0275\u0275directiveInject"](f.g),d["\u0275\u0275directiveInject"](I.u),d["\u0275\u0275directiveInject"](I.tb),d["\u0275\u0275directiveInject"](I.vb),d["\u0275\u0275directiveInject"](ne.a),d["\u0275\u0275directiveInject"](k.f),d["\u0275\u0275directiveInject"](I.U),d["\u0275\u0275directiveInject"](g.a))},$e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:$e,selectors:[["app-create-task-detail-child"]],decls:92,vars:88,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],["mat-dialog-title","",4,"ngIf"],["class","text-danger",4,"ngIf"],["enctype","multipart/form-data",1,"employee-from",3,"formGroup"],[1,"mat-typography"],[1,"row"],[1,"col-12","col-md-6"],[1,"form-group"],["appearance","outline"],["matInput","","formControlName","taskTypeId",3,"value","placeholder","valueChange"],[4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","taskName",3,"value","placeholder","ngClass","valueChange"],["matInput","","formControlName","taskDescription",3,"value","placeholder","ngClass","valueChange"],["required","",4,"ngIf"],[1,"col-md-6","col-12"],["matInput","","formControlName","startDate",3,"matDatepicker","placeholder","ngClass","click"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","endDate",3,"matDatepicker","value","placeholder","ngClass","click","valueChange"],["endDatePicker",""],["matInput","","formControlName","assigneeId","placeholder","Assignee","disabled","",3,"value","valueChange","selectionChange"],["type","number","matInput","","formControlName","progress","placeholder","Progress",3,"value","ngClass","valueChange"],["matInput","","formControlName","parentTaskId","disabled","",3,"value","placeholder","valueChange","selectionChange"],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","",1,"btn","btn-success",3,"click"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],["mat-dialog-title",""],[1,"text-danger"],[3,"value"],["required",""],[1,"d-flex"]],template:function(e,t){if(1&e){var a=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275template"](0,Oe,1,0,"div",0),d["\u0275\u0275template"](1,Ne,3,3,"h5",1),d["\u0275\u0275template"](2,Me,3,3,"h5",1),d["\u0275\u0275template"](3,Be,3,3,"h6",2),d["\u0275\u0275elementStart"](4,"form",3),d["\u0275\u0275elementStart"](5,"mat-dialog-content",4),d["\u0275\u0275elementStart"](6,"div",5),d["\u0275\u0275elementStart"](7,"div",6),d["\u0275\u0275elementStart"](8,"div",7),d["\u0275\u0275elementStart"](9,"mat-form-field",8),d["\u0275\u0275elementStart"](10,"mat-label"),d["\u0275\u0275text"](11),d["\u0275\u0275pipe"](12,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](13,"mat-select",9),d["\u0275\u0275listener"]("valueChange",(function(e){return t.taskDetail.taskTypeId=e})),d["\u0275\u0275pipe"](14,"translate"),d["\u0275\u0275template"](15,Pe,3,2,"ng-container",10),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](16,Ke,3,3,"mat-error",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](17,"div",6),d["\u0275\u0275elementStart"](18,"div",7),d["\u0275\u0275elementStart"](19,"mat-form-field",8),d["\u0275\u0275elementStart"](20,"mat-label"),d["\u0275\u0275text"](21),d["\u0275\u0275pipe"](22,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](23,"input",12),d["\u0275\u0275listener"]("valueChange",(function(e){return t.taskDetail.taskName=e})),d["\u0275\u0275pipe"](24,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](25,_e,3,3,"mat-error",11),d["\u0275\u0275template"](26,we,3,3,"mat-error",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](27,"div",7),d["\u0275\u0275elementStart"](28,"mat-form-field",8),d["\u0275\u0275elementStart"](29,"mat-label"),d["\u0275\u0275text"](30),d["\u0275\u0275pipe"](31,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](32,"input",13),d["\u0275\u0275listener"]("valueChange",(function(e){return t.taskDetail.taskDescription=e})),d["\u0275\u0275pipe"](33,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](34,Fe,3,3,"mat-error",14),d["\u0275\u0275template"](35,Xe,3,3,"mat-error",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](36,"div",5),d["\u0275\u0275elementStart"](37,"div",15),d["\u0275\u0275elementStart"](38,"mat-form-field",8),d["\u0275\u0275elementStart"](39,"mat-label"),d["\u0275\u0275text"](40),d["\u0275\u0275pipe"](41,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](42,"input",16),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](a),d["\u0275\u0275reference"](46).open()})),d["\u0275\u0275pipe"](43,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](44,"mat-datepicker-toggle",17),d["\u0275\u0275element"](45,"mat-datepicker",null,18),d["\u0275\u0275template"](47,Ye,3,3,"mat-error",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](48,"div",15),d["\u0275\u0275elementStart"](49,"mat-form-field",8),d["\u0275\u0275elementStart"](50,"mat-label"),d["\u0275\u0275text"](51),d["\u0275\u0275pipe"](52,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](53,"input",19),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](a),d["\u0275\u0275reference"](57).open()}))("valueChange",(function(e){return t.endDate=e})),d["\u0275\u0275pipe"](54,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](55,"mat-datepicker-toggle",17),d["\u0275\u0275element"](56,"mat-datepicker",null,20),d["\u0275\u0275template"](58,Ge,3,3,"mat-error",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](59,"div",5),d["\u0275\u0275elementStart"](60,"div",15),d["\u0275\u0275elementStart"](61,"mat-form-field",8),d["\u0275\u0275elementStart"](62,"mat-label"),d["\u0275\u0275text"](63,"Assignee"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](64,"mat-select",21),d["\u0275\u0275listener"]("valueChange",(function(e){return t.taskDetail.assigneeId=e}))("selectionChange",(function(e){return t.onChangeEmployee(e)})),d["\u0275\u0275template"](65,Ue,3,2,"ng-container",10),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](66,je,3,3,"mat-error",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](67,"div",15),d["\u0275\u0275elementStart"](68,"div",7),d["\u0275\u0275elementStart"](69,"mat-form-field",8),d["\u0275\u0275elementStart"](70,"mat-label"),d["\u0275\u0275text"](71,"Progress (%)"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](72,"input",22),d["\u0275\u0275listener"]("valueChange",(function(e){return t.taskDetail.progress=e})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](73,He,3,3,"mat-error",11),d["\u0275\u0275template"](74,qe,3,3,"mat-error",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](75,"div",15),d["\u0275\u0275elementStart"](76,"mat-form-field",8),d["\u0275\u0275elementStart"](77,"mat-label"),d["\u0275\u0275text"](78),d["\u0275\u0275pipe"](79,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](80,"mat-select",23),d["\u0275\u0275listener"]("valueChange",(function(e){return t.taskDetail.parentTaskId=e}))("selectionChange",(function(e){return t.onChangeParentTask(e)})),d["\u0275\u0275pipe"](81,"translate"),d["\u0275\u0275template"](82,Ve,3,2,"ng-container",10),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](83,Qe,3,3,"mat-error",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](84,ze,3,1,"mat-error",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](85,"mat-dialog-actions"),d["\u0275\u0275elementStart"](86,"button",24),d["\u0275\u0275listener"]("click",(function(){return t.close()})),d["\u0275\u0275text"](87),d["\u0275\u0275pipe"](88,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](89,"button",25),d["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),d["\u0275\u0275text"](90),d["\u0275\u0275pipe"](91,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var n=d["\u0275\u0275reference"](46),r=d["\u0275\u0275reference"](57);d["\u0275\u0275property"]("ngIf",t.loading),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!t.isEditMode),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.isEditMode),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.submitted&&t.taskDetailChildCreateForm.invalid),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("formGroup",t.taskDetailChildCreateForm),d["\u0275\u0275advance"](7),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](12,50,"TASK.TASKDETAIL.INDEX.CREATE.TASK_CATEGORY.PLACE_HOLDER")),d["\u0275\u0275advance"](2),d["\u0275\u0275propertyInterpolate"]("placeholder",d["\u0275\u0275pipeBind1"](14,52,"TASK.TASKDETAIL.INDEX.CREATE.TASK_CATEGORY.PLACE_HOLDER")),d["\u0275\u0275property"]("value",t.taskDetail.taskTypeId),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",t.taskCategories),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.taskTypeId.errors&&t.f.taskTypeId.errors.required),d["\u0275\u0275advance"](5),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](22,54,"TASK.TASKDETAIL.INDEX.CREATE.TASK_NAME.PLACE_HOLDER")),d["\u0275\u0275advance"](2),d["\u0275\u0275propertyInterpolate"]("placeholder",d["\u0275\u0275pipeBind1"](24,56,"TASK.TASKDETAIL.INDEX.CREATE.TASK_NAME.PLACE_HOLDER")),d["\u0275\u0275property"]("value",t.taskDetail.taskName)("ngClass",d["\u0275\u0275pureFunction1"](78,Je,t.submitted&&t.f.taskName.errors)),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.taskName.errors&&t.f.taskName.errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.taskName.errors&&t.f.taskName.errors.maxlength),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](31,58,"TASK.TASKDETAIL.INDEX.CREATE.TASK_DESCRIPTION.PLACE_HOLDER")),d["\u0275\u0275advance"](2),d["\u0275\u0275propertyInterpolate"]("placeholder",d["\u0275\u0275pipeBind1"](33,60,"TASK.TASKDETAIL.INDEX.CREATE.TASK_DESCRIPTION.PLACE_HOLDER")),d["\u0275\u0275property"]("value",t.taskDetail.taskDescription)("ngClass",d["\u0275\u0275pureFunction1"](80,Je,t.submitted&&t.f.taskDescription.errors)),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.taskDescription.errors&&t.f.taskDescription.errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.taskDescription.errors&&t.f.taskDescription.errors.maxlength),d["\u0275\u0275advance"](5),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](41,62,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")," "),d["\u0275\u0275advance"](2),d["\u0275\u0275propertyInterpolate"]("placeholder",d["\u0275\u0275pipeBind1"](43,64,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),d["\u0275\u0275property"]("matDatepicker",n)("ngClass",d["\u0275\u0275pureFunction1"](82,Je,t.f.startDate.errors)),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("for",n),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startDate.errors&&t.f.startDate.errors.required),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](52,66,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")," "),d["\u0275\u0275advance"](2),d["\u0275\u0275propertyInterpolate"]("placeholder",d["\u0275\u0275pipeBind1"](54,68,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),d["\u0275\u0275property"]("matDatepicker",r)("value",t.endDate)("ngClass",d["\u0275\u0275pureFunction1"](84,Je,t.f.endDate.errors)),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("for",r),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endDate.errors&&t.f.endDate.errors.required),d["\u0275\u0275advance"](6),d["\u0275\u0275property"]("value",t.taskDetail.assigneeId),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",t.employees),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.assigneeId.errors&&t.f.assigneeId.errors.required),d["\u0275\u0275advance"](6),d["\u0275\u0275property"]("value",t.taskDetail.progress)("ngClass",d["\u0275\u0275pureFunction1"](86,Je,t.submitted&&t.f.progress.errors)),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.progress.errors&&t.f.progress.errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.progress.errors&&t.f.progress.errors.maxlength),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](79,70,"TASK.TASKDETAIL.INDEX.CREATE.PARENTTASK.PLACE_HOLDER")),d["\u0275\u0275advance"](2),d["\u0275\u0275propertyInterpolate"]("placeholder",d["\u0275\u0275pipeBind1"](81,72,"TASK.TASKDETAIL.INDEX.CREATE.PARENTTASK.PLACE_HOLDER")),d["\u0275\u0275property"]("value",t.taskDetail.parentTaskId),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",t.taskDetails),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.managerId.errors&&t.f.managerId.errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!t.isFormValid),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](88,74,"COMMON.CANCEL_BUTTON_TEXT")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](91,76,"COMMON.SAVE_BUTTON_TEXT"))}},directives:[k.t,f.I,f.t,f.k,g.g,A.c,A.g,C.a,f.s,f.j,k.s,y.b,f.d,k.q,re.h,re.j,A.j,re.f,f.y,g.c,S.b,g.d,g.j,R.m,A.b],pipes:[x.d],styles:[""]}),$e);function Ze(e,t){1&e&&d["\u0275\u0275element"](0,"div",23)}function et(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"h5",24),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAILLOG.INDEX.CREATE.TITLE")))}function tt(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"h5",24),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAILLOG.INDEX.EDIT.TITLE")))}function at(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"h6",25),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,1,"COMMON.ERROR_TEXT")))}function nt(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAILLOG.INDEX.CREATE.UPDATE_INFO.REQUIERED_ERROR_TEXT"),""))}function rt(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAILLOG.INDEX.CREATE.UPDATE_INFO.MAX_LENGTH_ERROR_TEXT"),""))}function it(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT")," "))}function lt(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT")," "))}function ot(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1,"Update Date is required "),d["\u0275\u0275elementEnd"]())}function st(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1,"Spend time is required "),d["\u0275\u0275elementEnd"]())}function dt(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275elementStart"](1,"div",26),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var a=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",a.errorMessage," ")}}var pt,mt=function(e){return{"is-invalid":e}},ct=((pt=function(){function e(t,a,n,r,l,o,s){i(this,e),this.alertService=t,this.dialogRef=a,this.formBuilder=n,this.datePipe=r,this.employeeService=l,this.taskDetailLogService=o,this.onTaskDetailLogCreateEvent=new d.EventEmitter,this.onTaskDetailLogEditEvent=new d.EventEmitter,this.incomeTaxPayerTypes=[],this.dateOverLapErrorMessage="Dates overlapping for parameter name",this.statuses=[{id:1,value:"In queue"},{id:0,value:"In progress"},{id:2,value:"Done"}],this.taskDetailLog=new D.Bb,isNaN(s)&&(this.taskDetailLog=new D.Bb(s)),this.taskDetailLog.id&&(this.isEditMode=!0,this.taskDetailLogId=this.taskDetailLog.id)}return o(e,[{key:"ngOnInit",value:function(){this.buildForm(),this.getAllEmployees()}},{key:"buildForm",value:function(){this.taskDetailLogCreateForm=this.formBuilder.group({employeeId:[this.taskDetailLog.employeeId],dateUpdated:[this.taskDetailLog.dateUpdated],spendTime:[this.taskDetailLog.spendTime],taskDetailId:[this.taskDetailLog.taskDetailId,[f.G.required]],startDate:[this.taskDetailLog.startDate,[f.G.required]],endDate:[this.taskDetailLog.endDate,[f.G.required]],updateInfo:[this.taskDetailLog.updateInfo,[f.G.maxLength(50)]]})}},{key:"getAllEmployees",value:function(){var e=this;this.employeeService.getAllEmployees().subscribe((function(t){e.employees=t}))}},{key:"onSubmit",value:function(){localStorage.getItem("userId"),this.submitted=!0,this.taskDetailLogCreateForm.invalid||(null==this.taskDetailLog.id?this.createTaskDetailLog():this.editTaskDetailLog())}},{key:"close",value:function(){this.dialogRef.close()}},{key:"createTaskDetailLog",value:function(){var e=this;this.loading=!0,this.taskDetailLog=new D.Bb(this.taskDetailLogCreateForm.value),this.taskDetailLog.startDate=this.datePipe.transform(new Date(this.taskDetailLog.startDate),"yyyy-MM-dd"),this.taskDetailLog.endDate=this.datePipe.transform(new Date(this.taskDetailLog.endDate),"yyyy-MM-dd"),this.taskDetailLogService.createTaskDetailLogByTaskDetailId(this.taskDetailLog).subscribe((function(t){e.loading=!1,e.onTaskDetailLogCreateEvent.emit(t.id),!0===t.status?(e.isFormValid=!0,e.alertService.success("Task detail log created successfully"),e.close()):(e.isFormValid=!1,e.errorMessage=t.message)}),(function(){e.loading=!1}))}},{key:"editTaskDetailLog",value:function(){var e=this;this.loading=!1;var t=new D.Bb(this.taskDetailLogCreateForm.value);this.taskDetailLog=Object.assign({},t),this.taskDetailLog.id=this.taskDetailLogId,this.taskDetailLog.startDate=this.datePipe.transform(new Date(this.taskDetailLog.startDate),"yyyy-MM-dd"),this.taskDetailLog.endDate=this.datePipe.transform(new Date(this.taskDetailLog.endDate),"yyyy-MM-dd"),this.taskDetailLogService.editTaskDetailLog(this.taskDetailLog).subscribe((function(t){e.onTaskDetailLogEditEvent.emit(t.id),e.loading=!1,!0===t.status?(e.alertService.success("Task detail log edited successfully"),e.isFormValid=!0,e.close()):(e.isFormValid=!1,e.errorMessages=t.message)}),(function(){e.loading=!1}))}},{key:"f",get:function(){return this.taskDetailLogCreateForm.controls}}]),e}()).\u0275fac=function(e){return new(e||pt)(d["\u0275\u0275directiveInject"](h.a),d["\u0275\u0275directiveInject"](g.i),d["\u0275\u0275directiveInject"](f.g),d["\u0275\u0275directiveInject"](k.f),d["\u0275\u0275directiveInject"](I.U),d["\u0275\u0275directiveInject"](I.ub),d["\u0275\u0275directiveInject"](g.a))},pt.\u0275cmp=d["\u0275\u0275defineComponent"]({type:pt,selectors:[["app-create-task-detail-log"]],decls:69,vars:68,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],["mat-dialog-title","",4,"ngIf"],["class","text-danger",4,"ngIf"],["enctype","multipart/form-data",1,"employee-from",3,"formGroup"],[1,"mat-typography"],[1,"row"],[1,"col-12"],[1,"form-group"],["appearance","outline"],["matInput","","formControlName","updateInfo",3,"value","placeholder","ngClass","valueChange"],[4,"ngIf"],[1,"col-md-6","col-12"],["matInput","","formControlName","startDate",3,"matDatepicker","placeholder","ngClass","click"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","endDate",3,"matDatepicker","value","placeholder","ngClass","click","valueChange"],["endDatePicker",""],["matInput","","formControlName","dateUpdated","placeholder","Update Date",3,"matDatepicker","ngClass","click"],["dateUpdatePicker",""],["matInput","","formControlName","spendTime","placeholder","Spend time",3,"matDatepicker","value","ngClass","click","valueChange"],["spendDatePicker",""],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","",1,"btn","btn-success",3,"click"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],["mat-dialog-title",""],[1,"text-danger"],[1,"d-flex"]],template:function(e,t){if(1&e){var a=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275template"](0,Ze,1,0,"div",0),d["\u0275\u0275template"](1,et,3,3,"h5",1),d["\u0275\u0275template"](2,tt,3,3,"h5",1),d["\u0275\u0275template"](3,at,3,3,"h6",2),d["\u0275\u0275elementStart"](4,"form",3),d["\u0275\u0275elementStart"](5,"mat-dialog-content",4),d["\u0275\u0275elementStart"](6,"div",5),d["\u0275\u0275elementStart"](7,"div",6),d["\u0275\u0275elementStart"](8,"div",7),d["\u0275\u0275elementStart"](9,"mat-form-field",8),d["\u0275\u0275elementStart"](10,"mat-label"),d["\u0275\u0275text"](11),d["\u0275\u0275pipe"](12,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](13,"input",9),d["\u0275\u0275listener"]("valueChange",(function(e){return t.taskDetailLog.updateInfo=e})),d["\u0275\u0275pipe"](14,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](15,nt,3,3,"mat-error",10),d["\u0275\u0275template"](16,rt,3,3,"mat-error",10),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](17,"div",5),d["\u0275\u0275elementStart"](18,"div",11),d["\u0275\u0275elementStart"](19,"mat-form-field",8),d["\u0275\u0275elementStart"](20,"mat-label"),d["\u0275\u0275text"](21),d["\u0275\u0275pipe"](22,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](23,"input",12),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](a),d["\u0275\u0275reference"](27).open()})),d["\u0275\u0275pipe"](24,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](25,"mat-datepicker-toggle",13),d["\u0275\u0275element"](26,"mat-datepicker",null,14),d["\u0275\u0275template"](28,it,3,3,"mat-error",10),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](29,"div",11),d["\u0275\u0275elementStart"](30,"mat-form-field",8),d["\u0275\u0275elementStart"](31,"mat-label"),d["\u0275\u0275text"](32),d["\u0275\u0275pipe"](33,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](34,"input",15),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](a),d["\u0275\u0275reference"](38).open()}))("valueChange",(function(e){return t.endDate=e})),d["\u0275\u0275pipe"](35,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](36,"mat-datepicker-toggle",13),d["\u0275\u0275element"](37,"mat-datepicker",null,16),d["\u0275\u0275template"](39,lt,3,3,"mat-error",10),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](40,"div",5),d["\u0275\u0275elementStart"](41,"div",11),d["\u0275\u0275elementStart"](42,"mat-form-field",8),d["\u0275\u0275elementStart"](43,"mat-label"),d["\u0275\u0275text"](44),d["\u0275\u0275pipe"](45,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](46,"input",17),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](a),d["\u0275\u0275reference"](49).open()})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](47,"mat-datepicker-toggle",13),d["\u0275\u0275element"](48,"mat-datepicker",null,18),d["\u0275\u0275template"](50,ot,2,0,"mat-error",10),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](51,"div",11),d["\u0275\u0275elementStart"](52,"mat-form-field",8),d["\u0275\u0275elementStart"](53,"mat-label"),d["\u0275\u0275text"](54),d["\u0275\u0275pipe"](55,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](56,"input",19),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](a),d["\u0275\u0275reference"](59).open()}))("valueChange",(function(e){return t.taskDetailLog.endDate=e})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](57,"mat-datepicker-toggle",13),d["\u0275\u0275element"](58,"mat-datepicker",null,20),d["\u0275\u0275template"](60,st,2,0,"mat-error",10),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](61,dt,3,1,"mat-error",10),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](62,"mat-dialog-actions"),d["\u0275\u0275elementStart"](63,"button",21),d["\u0275\u0275listener"]("click",(function(){return t.close()})),d["\u0275\u0275text"](64),d["\u0275\u0275pipe"](65,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](66,"button",22),d["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),d["\u0275\u0275text"](67),d["\u0275\u0275pipe"](68,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var n=d["\u0275\u0275reference"](27),r=d["\u0275\u0275reference"](38),i=d["\u0275\u0275reference"](49),l=d["\u0275\u0275reference"](59);d["\u0275\u0275property"]("ngIf",t.loading),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!t.isEditMode),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.isEditMode),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.submitted&&t.taskDetailLogCreateForm.invalid),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("formGroup",t.taskDetailLogCreateForm),d["\u0275\u0275advance"](7),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](12,38,"TASK.TASKDETAILLOG.INDEX.CREATE.UPDATE_INFO.PLACE_HOLDER")),d["\u0275\u0275advance"](2),d["\u0275\u0275propertyInterpolate"]("placeholder",d["\u0275\u0275pipeBind1"](14,40,"TASK.TASKDETAILLOG.INDEX.CREATE.UPDATE_INFO.PLACE_HOLDER")),d["\u0275\u0275property"]("value",t.taskDetailLog.updateInfo)("ngClass",d["\u0275\u0275pureFunction1"](58,mt,t.submitted&&t.f.updateInfo.errors)),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.updateInfo.errors&&t.f.updateInfo.errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.updateInfo.errors&&t.f.updateInfo.errors.maxlength),d["\u0275\u0275advance"](5),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](22,42,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")," "),d["\u0275\u0275advance"](2),d["\u0275\u0275propertyInterpolate"]("placeholder",d["\u0275\u0275pipeBind1"](24,44,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),d["\u0275\u0275property"]("matDatepicker",n)("ngClass",d["\u0275\u0275pureFunction1"](60,mt,t.f.startDate.errors)),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("for",n),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startDate.errors&&t.f.startDate.errors.required),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](33,46,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")," "),d["\u0275\u0275advance"](2),d["\u0275\u0275propertyInterpolate"]("placeholder",d["\u0275\u0275pipeBind1"](35,48,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),d["\u0275\u0275property"]("matDatepicker",r)("value",t.endDate)("ngClass",d["\u0275\u0275pureFunction1"](62,mt,t.f.endDate.errors)),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("for",r),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endDate.errors&&t.f.endDate.errors.required),d["\u0275\u0275advance"](5),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](45,50,"TASK.TASKDETAILLOG.INDEX.CREATE.UPDATED_DATE.PLACE_HOLDER")," "),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("matDatepicker",i)("ngClass",d["\u0275\u0275pureFunction1"](64,mt,t.f.dateUpdated.errors)),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("for",i),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.dateUpdated.errors&&t.f.dateUpdated.errors.required),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](55,52,"TASK.TASKDETAILLOG.INDEX.CREATE.SPEND_TIME.PLACE_HOLDER")," "),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("matDatepicker",l)("value",t.taskDetailLog.endDate)("ngClass",d["\u0275\u0275pureFunction1"](66,mt,t.f.endDate.errors)),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("for",l),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.spendTime.errors&&t.f.spendTime.errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!t.isFormValid),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](65,54,"COMMON.CANCEL_BUTTON_TEXT")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](68,56,"COMMON.SAVE_BUTTON_TEXT"))}},directives:[k.t,f.I,f.t,f.k,g.g,A.c,A.g,y.b,f.d,f.s,f.j,k.q,re.h,re.j,A.j,re.f,g.c,S.b,g.d,g.j,A.b],pipes:[x.d],styles:[""]}),pt),Et=r("12jx");function ut(e,t){1&e&&d["\u0275\u0275element"](0,"div",2)}function ft(e,t){if(1&e){var a=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"button",21),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](a);var e=d["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;return d["\u0275\u0275nextContext"](2).showTaskDetailLogs(t,n.id)})),d["\u0275\u0275elementStart"](1,"mat-icon"),d["\u0275\u0275text"](2,"visibility"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}}function gt(e,t){if(1&e&&d["\u0275\u0275element"](0,"app-task-detail",24),2&e){var a=d["\u0275\u0275nextContext"](2).index,n=d["\u0275\u0275nextContext"](2);d["\u0275\u0275property"]("data",n.tasksDetail[a].listTaskDetail)}}function vt(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"td",22),d["\u0275\u0275template"](2,gt,1,1,"app-task-detail",23),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementContainerEnd"]()),2&e){var a=d["\u0275\u0275nextContext"]().index,n=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",null!=n.tasksDetail[a].listTaskDetail&&null!=n.tasksDetail[a].listTaskDetail)}}function Tt(e,t){if(1&e){var a=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"tbody"),d["\u0275\u0275elementStart"](1,"tr"),d["\u0275\u0275element"](2,"td"),d["\u0275\u0275elementStart"](3,"td",9),d["\u0275\u0275elementStart"](4,"button",25),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](a);var e=t.$implicit;return d["\u0275\u0275nextContext"](3).editTaskDetailLog(e)})),d["\u0275\u0275pipe"](5,"translate"),d["\u0275\u0275elementStart"](6,"mat-icon"),d["\u0275\u0275text"](7,"create"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"td"),d["\u0275\u0275text"](9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](10,"td"),d["\u0275\u0275text"](11),d["\u0275\u0275pipe"](12,"date"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](13,"td"),d["\u0275\u0275text"](14),d["\u0275\u0275pipe"](15,"date"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](16,"td"),d["\u0275\u0275text"](17),d["\u0275\u0275pipe"](18,"date"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](19,"td"),d["\u0275\u0275text"](20),d["\u0275\u0275pipe"](21,"date"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var n=t.$implicit;d["\u0275\u0275advance"](4),d["\u0275\u0275propertyInterpolate"]("matTooltip",d["\u0275\u0275pipeBind1"](5,6,"COMMON.EDIT_BUTTON_TEXT")),d["\u0275\u0275advance"](5),d["\u0275\u0275textInterpolate"](n.updateInfo),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind2"](12,8,n.dateUpdated,"dd/MM/yyyy")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind2"](15,11,n.spendTime,"dd/MM/yyyy")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind2"](18,14,n.startDate,"dd/MM/yyyy")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind2"](21,17,n.endDate,"dd/MM/yyyy"))}}function Dt(e,t){if(1&e){var a=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"tbody"),d["\u0275\u0275elementStart"](1,"tr"),d["\u0275\u0275elementStart"](2,"td",9),d["\u0275\u0275elementStart"](3,"button",10),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](a);var e=t.$implicit;return d["\u0275\u0275nextContext"](2).editTaskDetail(e)})),d["\u0275\u0275elementStart"](4,"mat-icon"),d["\u0275\u0275text"](5,"create"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"button",11),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](a);var e=t.$implicit;return d["\u0275\u0275nextContext"](2).onDeleteTaskDetail(e)})),d["\u0275\u0275elementStart"](7,"mat-icon",12),d["\u0275\u0275text"](8,"delete"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](9,ft,3,0,"button",13),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](10,"td"),d["\u0275\u0275text"](11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](12,"td"),d["\u0275\u0275text"](13),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](14,"td"),d["\u0275\u0275text"](15),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](16,"td"),d["\u0275\u0275text"](17),d["\u0275\u0275pipe"](18,"date"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](19,"td"),d["\u0275\u0275text"](20),d["\u0275\u0275pipe"](21,"date"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](22,"td"),d["\u0275\u0275text"](23),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](24,"td"),d["\u0275\u0275text"](25),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](26,"td"),d["\u0275\u0275text"](27),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](28,"td"),d["\u0275\u0275text"](29),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](30,"tr",14),d["\u0275\u0275element"](31,"td",15),d["\u0275\u0275template"](32,vt,3,1,"ng-container",16),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](33,"tr",14),d["\u0275\u0275element"](34,"td",15),d["\u0275\u0275elementStart"](35,"td",17),d["\u0275\u0275elementStart"](36,"table",18),d["\u0275\u0275elementStart"](37,"thead"),d["\u0275\u0275elementStart"](38,"tr"),d["\u0275\u0275elementStart"](39,"th",7),d["\u0275\u0275elementStart"](40,"button",19),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](a);var e=t.$implicit;return d["\u0275\u0275nextContext"](2).createTaskDetailLog(e)})),d["\u0275\u0275elementStart"](41,"mat-icon",20),d["\u0275\u0275text"](42,"add"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](43,"th",7),d["\u0275\u0275text"](44),d["\u0275\u0275pipe"](45,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](46,"th"),d["\u0275\u0275text"](47),d["\u0275\u0275pipe"](48,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](49,"th"),d["\u0275\u0275text"](50),d["\u0275\u0275pipe"](51,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](52,"th"),d["\u0275\u0275text"](53),d["\u0275\u0275pipe"](54,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](55,"th"),d["\u0275\u0275text"](56),d["\u0275\u0275pipe"](57,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](58,"th"),d["\u0275\u0275text"](59),d["\u0275\u0275pipe"](60,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](61,Tt,22,20,"tbody",8),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var n=t.$implicit,r=t.index,i=t.index,l=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](9),d["\u0275\u0275property"]("ngIf",!l.hideme[i]),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](n.taskName),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](n.taskDescription),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](null===n.progress?"N/A":n.progress),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind2"](18,20,n.startDate,"dd/MM/yyyy")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind2"](21,23,n.endDate,"dd/MM/yyyy")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](n.fullName),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](null===n.assignedBy?"N/A":n.assignedBy),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](n.taskCategoryName),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](l.statuses[n.statusId]),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("hidden",!l.hideme[i]),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",l.tasksDetail[i].listTaskDetail&&l.tasksDetail[i].listTaskDetail.length),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("hidden",!l.hideDetailLogs[i]),d["\u0275\u0275advance"](11),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](45,26,"COMPANY.COMMONLOOKUPTYPE.INDEX.TABLE.HEADER.ACTIONS")," "),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](48,28,"TASK.TASKDETAILLOG.INDEX.TABLE.HEADER.UPDATE_INFO")," "),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](51,30,"TASK.TASKDETAILLOG.INDEX.TABLE.HEADER.UPDATED_DATE")," "),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](54,32,"TASK.TASKDETAILLOG.INDEX.TABLE.HEADER.SPEND_TIME")," "),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](57,34,"TASK.TASKDETAIL.INDEX.TABLE.HEADER.START_DATE")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](60,36,"TASK.TASKDETAIL.INDEX.TABLE.HEADER.END_DATE")," "),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",l.childList[r])}}function It(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"section"),d["\u0275\u0275elementStart"](1,"div",3),d["\u0275\u0275elementStart"](2,"div"),d["\u0275\u0275elementStart"](3,"div"),d["\u0275\u0275elementStart"](4,"div",4),d["\u0275\u0275elementStart"](5,"table",5),d["\u0275\u0275elementStart"](6,"thead"),d["\u0275\u0275elementStart"](7,"tr",6),d["\u0275\u0275elementStart"](8,"th",7),d["\u0275\u0275text"](9),d["\u0275\u0275pipe"](10,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](11,"th"),d["\u0275\u0275text"](12),d["\u0275\u0275pipe"](13,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](14,"th"),d["\u0275\u0275text"](15),d["\u0275\u0275pipe"](16,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](17,"th"),d["\u0275\u0275text"](18,"Progress"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](19,"th"),d["\u0275\u0275text"](20),d["\u0275\u0275pipe"](21,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](22,"th"),d["\u0275\u0275text"](23),d["\u0275\u0275pipe"](24,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](25,"th"),d["\u0275\u0275text"](26,"Assignee"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](27,"th"),d["\u0275\u0275text"](28,"Assigned By"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](29,"th"),d["\u0275\u0275text"](30),d["\u0275\u0275pipe"](31,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](32,"th"),d["\u0275\u0275text"](33),d["\u0275\u0275pipe"](34,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](35,Dt,62,38,"tbody",8),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var a=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](9),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](10,8,"PAYROLL.SALARYSTRUCTURE.INDEX.TABLE.HEADER.ACTIONS")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](13,10,"TASK.TASKDETAIL.INDEX.TABLE.HEADER.TASK_NAME")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](16,12,"TASK.TASKDETAIL.INDEX.TABLE.HEADER.TASK_DESCRIPTION")),d["\u0275\u0275advance"](5),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](21,14,"TASK.TASKDETAIL.INDEX.TABLE.HEADER.START_DATE")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](24,16,"TASK.TASKDETAIL.INDEX.TABLE.HEADER.END_DATE")),d["\u0275\u0275advance"](7),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](31,18,"TASK.TASKDETAIL.INDEX.TABLE.HEADER.TASK_CATEGORY")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](34,20,"TASK.TASKDETAIL.INDEX.TABLE.HEADER.STATUS")),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",a.tasksDetail)}}var ht,kt=((ht=function(t){e(r,t);var n=a(r);function r(e,t,a,l,o,s,d,p){var m;return i(this,r),(m=n.call(this,e)).companyService=t,m.dialog=a,m.formBuilder=l,m.alertService=o,m.taskDetailLogService=s,m.taskDetailService=d,m.datePipe=p,m.taskDetailExport=new D.Ab,m.childList=[],m.hideme=[],m.isInitialCall=!0,m.showAddButton=!0,m.hideDetailLogs=[],m.statuses=["In progress","In queue","Done"],m.employeeId=m.authService.getLoggedInUserInfo().employeeId,m.userId=m.authService.getLoggedInUserInfo().userId,m.isAdmin=m.authService.isAdmin,m.buildForm(),m}return o(r,[{key:"ngOnInit",value:function(){this.tasksDetail=this.data,this.setDates(),null!=this.tasksDetail&&(this.isInitialCall=!1),this.getAllCompanies(),this.isInitialCall&&(this.isInitialCall=!1,this.getAllParentTasksDetailByCompany())}},{key:"getAllCompanies",value:function(){var e=this;this.loading=!0,this.companyService.getAllCompanies().subscribe((function(t){e.companies=t,e.loading=!1}),(function(){e.loading=!1}))}},{key:"getAllTaskDetails",value:function(){}},{key:"buildForm",value:function(){this.taskDetailFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,f.G.required],startDate:[this.stardDate,f.G.required],endDate:[this.endDate,f.G.required]})}},{key:"showChildList",value:function(e,t){this.showAddButton=!0,t&&this.getAllChildTaskDetail(e,t)}},{key:"createTaskDetailChild",value:function(e){var t=this,a=new g.e;a.disableClose=!0,a.autoFocus=!0,a.panelClass="xHR-dialog";var n=window.screen.width<=576?90:50;a.width=n+"%";var r=new D.zb;r.companyId=this.companyId,r.parentTaskId=e.id,r.assigneeId=e.assigneeId,r.taskTypeId=e.taskTypeId,a.data=r,this.dialog.open(We,a).afterClosed().subscribe((function(){t.refreshPage()}))}},{key:"editTaskDetailChild",value:function(e){var t=this,a=new g.e;a.disableClose=!0,a.autoFocus=!0,a.panelClass="xHR-dialog";var n=window.screen.width<=576?90:50;a.width=n+"%",e.companyId=this.companyId,a.data=e,this.dialog.open(We,a).afterClosed().subscribe((function(){t.refreshPage()}))}},{key:"getAllParentTasksDetailByCompany",value:function(){var e=this;this.loading=!0;var t=this.datePipe.transform(new Date(localStorage.getItem("taskStartDate")),"MM-dd-yyyy"),a=this.datePipe.transform(new Date(localStorage.getItem("taskEndDate")),"MM-dd-yyyy");this.submitted=!0,this.taskDetailService.getAllParentTasksDetailByCompany(this.employeeId,t,a,this.userId).subscribe((function(t){e.totalItems=0,e.tasksDetail=t,e.totalItems=e.tasksDetail.length,e.generateTotalItemsText(),e.loading=!1}),(function(){e.loading=!1}))}},{key:"getAllChildTaskDetail",value:function(e,t){var a=this;this.companyId&&(this.loading=!0,this.taskDetailService.getAllTasksDetailByCompanyAndParent(t).subscribe((function(t){a.currentData=t,a.hideme[e]=!a.hideme[e],a.Index=e,a.tasksDetail[e].listTaskDetail=[],null!=a.tasksDetail[e].listTaskDetail&&null!=a.tasksDetail[e].listTaskDetail||(a.tasksDetail[e].listTaskDetail=new Array),null==a.currentData&&null==a.currentData||(a.tasksDetail[e].listTaskDetail=a.currentData),a.loading=!1}),(function(){a.loading=!1})))}},{key:"getTaskDetailListExcel",value:function(){var e=this;this.taskDetailExport.employeeId=this.employeeId,this.taskDetailExport.userId=this.userId,this.taskDetailExport.startDate=this.datePipe.transform(new Date(localStorage.getItem("taskStartDate")),"MM-dd-yyyy"),this.taskDetailExport.endDate=this.datePipe.transform(new Date(localStorage.getItem("taskEndDate")),"MM-dd-yyyy"),this.taskDetailExport.employeeId=this.employeeId,this.taskDetailExport.userId=this.userId,this.loading=!0,this.taskDetailService.getTaskListExcel(this.taskDetailExport).subscribe((function(t){e.generateExcel(t,"TaskList-Report"),e.loading=!1,e.submitted=!1}),(function(){e.loading=!1,e.submitted=!1}))}},{key:"createTaskDetail",value:function(){var e=this,t=new g.e;t.disableClose=!0,t.autoFocus=!0,t.panelClass="xHR-dialog";var a=window.screen.width<=576?90:50;t.width=a+"%";var n=new D.zb;n.companyId=this.companyId,t.data=n,this.dialog.open(Le,t).afterClosed().subscribe((function(){e.refreshPage()}))}},{key:"editTaskDetail",value:function(e){var t=this,a=new g.e;a.disableClose=!0,a.autoFocus=!0,a.panelClass="xHR-dialog";var n=window.screen.width<=576?90:50;a.width=n+"%",e.companyId=this.companyId,a.data=e,this.dialog.open(Le,a).afterClosed().subscribe((function(){t.refreshPage()}))}},{key:"onDeleteTaskDetail",value:function(e){var t=this,a=new g.e;a.data="Are you sure to delete the task detail "+e.taskName,a.panelClass="xHR-dialog",this.dialog.open(T.a,a).afterClosed().subscribe((function(a){void 0!==a&&t.deleteTaskDetail(e)}))}},{key:"deleteTaskDetail",value:function(e){var t=this;this.taskDetailService.deleteTaskDetail(e).subscribe((function(){t.alertService.success("Task Detail successfully deleted"),t.refreshPage()}))}},{key:"showTaskDetailLogs",value:function(e,t){var a=this;this.loading=!0,this.taskDetailLogService.getAllTaskDetailLogsByTaskDetailId(t).subscribe((function(t){a.taskDetailLogs=t,a.childList[e]=t,a.hideDetailLogs[e]=!a.hideDetailLogs[e],a.loading=!1}),(function(){a.loading=!1}))}},{key:"createTaskDetailLog",value:function(e){var t=this,a=new g.e;a.disableClose=!0,a.autoFocus=!0,a.panelClass="xHR-dialog";var n=window.screen.width<=576?90:50;a.width=n+"%";var r=new D.Bb;r.taskDetailId=e.id,a.data=r,this.dialog.open(ct,a).afterClosed().subscribe((function(){t.refreshPage()}))}},{key:"editTaskDetailLog",value:function(e){var t=this,a=new g.e;a.disableClose=!0,a.autoFocus=!0,a.panelClass="xHR-dialog";var n=window.screen.width<=576?90:50;a.width=n+"%",a.data=e,this.dialog.open(ct,a).afterClosed().subscribe((function(){t.refreshPage()}))}},{key:"refreshPage",value:function(){this.router.navigate(["/task/task-detail-base"],{state:{taskDetailPage:"taskDetail"}})}},{key:"setDates",value:function(){var e=new Date,t=new Date,a=new Date;t.setDate(t.getDate()-1),e.setMonth(e.getMonth()-1),this.f.startDate.setValue(e),this.f.endDate.setValue(a)}},{key:"generateExcel",value:function(e,t){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(e.body,t);else{var a=window.URL.createObjectURL(e.body),n=document.createElement("a");document.body.appendChild(n),n.setAttribute("style","display: none"),n.href=a,n.download=t,n.click(),window.URL.revokeObjectURL(a),n.remove()}}},{key:"f",get:function(){return this.taskDetailFilterFormGroup.controls}}]),r}(v.a)).\u0275fac=function(e){return new(e||ht)(d["\u0275\u0275directiveInject"](d.Injector),d["\u0275\u0275directiveInject"](I.u),d["\u0275\u0275directiveInject"](g.b),d["\u0275\u0275directiveInject"](f.g),d["\u0275\u0275directiveInject"](h.a),d["\u0275\u0275directiveInject"](I.ub),d["\u0275\u0275directiveInject"](I.vb),d["\u0275\u0275directiveInject"](k.f))},ht.\u0275cmp=d["\u0275\u0275defineComponent"]({type:ht,selectors:[["app-task-detail"]],inputs:{isLoading:"isLoading",data:"data"},features:[d["\u0275\u0275InheritDefinitionFeature"]],decls:2,vars:2,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[4,"blockUI"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[1,"card"],[1,"table-responsive"],["aria-labelledby","tableLabel",1,"table","table-light","table-hover","table-responsive-sm","text-nowrap"],[1,"table-secondary"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"pt-0","text-center"],["mat-icon-button","","matTooltip","Edit",3,"click"],["mat-icon-button","","matTooltip","Delete",3,"click"],[1,"mat-icon-delete"],["mat-icon-button","","matTooltip","Task Detail logs",3,"click",4,"ngIf"],[1,"sub-table","no-bg",3,"hidden"],["align","center"],[4,"ngIf"],["colspan","15",1,"p-0"],[1,"table","mb-0","table-striped"],["mat-icon-button","","matTooltip","Add task detail log",3,"click"],[2,"font-weight","700"],["mat-icon-button","","matTooltip","Task Detail logs",3,"click"],["colspan","100"],[3,"data",4,"ngIf"],[3,"data"],["mat-icon-button","",3,"matTooltip","click"]],template:function(e,t){1&e&&(d["\u0275\u0275template"](0,ut,1,0,"div",0),d["\u0275\u0275template"](1,It,36,22,"section",1)),2&e&&(d["\u0275\u0275property"]("ngIf",t.loading),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("blockUI","salarystructure-list-section"))},directives:[k.t,Et.e,k.s,S.b,U.a,j.a,ht],pipes:[x.d,k.f],styles:[""]}),ht);function At(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-option",22),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;d["\u0275\u0275property"]("value",a.id),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",a.companyName," ")}}function Ct(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1,"Company is required "),d["\u0275\u0275elementEnd"]())}function yt(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT"),""))}function St(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-error"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT"),""))}var Rt,xt,bt=function(e){return{"is-invalid":e}},Lt=((Rt=function(){function e(t,a,n,r,l){i(this,e),this.dialog=t,this.router=a,this.formBuilder=n,this.companyService=r,this.taskDetailComponent=l,this.companyId=localStorage.getItem("companyId"),this.submitted=!1,this.router.getCurrentNavigation().extras.state&&this.router.navigate(["/task/task-detail"]),this.buildForm(),this.getAllCompanies()}return o(e,[{key:"ngOnInit",value:function(){this.setDates()}},{key:"buildForm",value:function(){this.taskDetaiBsaelFilterFormGroup=this.formBuilder.group({companyId:[this.companyId],startDate:[this.stardDate,f.G.required],endDate:[this.endDate,f.G.required]})}},{key:"createTaskDetail",value:function(){var e=this,t=new g.e;t.disableClose=!0,t.autoFocus=!0,t.panelClass="xHR-dialog",t.width="50%";var a=new D.zb;a.companyId=this.companyId,t.data=a;var n=this.dialog.open(Le,t);n.componentInstance.onTaskDetailCreateEvent.subscribe((function(t){e.taskDetailComponent.refreshPage()})),n.afterClosed().subscribe((function(){}))}},{key:"sendValue",value:function(){this.submitted=!0;var e=this.taskDetaiBsaelFilterFormGroup.value;null!==e.startDate&&null!==e.endDate&&(localStorage.setItem("taskStartDate",e.startDate),localStorage.setItem("taskEndDate",e.endDate),this.child.getAllParentTasksDetailByCompany())}},{key:"exportTaskList",value:function(){this.submitted=!0;var e=this.taskDetaiBsaelFilterFormGroup.value;null!==e.startDate&&null!==e.endDate&&(localStorage.setItem("taskStartDate",e.startDate),localStorage.setItem("taskEndDate",e.endDate),this.child.getTaskDetailListExcel())}},{key:"setDates",value:function(){var e=new Date,t=new Date;new Date,t.setDate(t.getDate()-1),e.setMonth(e.getMonth()-1);var a=localStorage.getItem("taskStartDate"),n=localStorage.getItem("taskEndDate");localStorage.getItem("taskStartDate")&&localStorage.getItem("taskEndDate")?(this.f.startDate.setValue(new Date(a)),this.f.endDate.setValue(new Date(n))):(this.f.startDate.setValue(e),this.f.endDate.setValue(t))}},{key:"getAllCompanies",value:function(){var e=this;this.companyService.getAllCompanies().subscribe((function(t){e.companies=t}),(function(){}))}},{key:"f",get:function(){return this.taskDetaiBsaelFilterFormGroup.controls}}]),e}()).\u0275fac=function(e){return new(e||Rt)(d["\u0275\u0275directiveInject"](g.b),d["\u0275\u0275directiveInject"](s.c),d["\u0275\u0275directiveInject"](f.g),d["\u0275\u0275directiveInject"](I.u),d["\u0275\u0275directiveInject"](kt))},Rt.\u0275cmp=d["\u0275\u0275defineComponent"]({type:Rt,selectors:[["app-task-detail-base"]],viewQuery:function(e,t){var a;1&e&&d["\u0275\u0275viewQuery"](kt,!0),2&e&&d["\u0275\u0275queryRefresh"](a=d["\u0275\u0275loadQuery"]())&&(t.child=a.first)},features:[d["\u0275\u0275ProvidersFeature"]([kt])],decls:52,vars:39,consts:[[1,"row"],[1,"col-sm-12","col-md-6"],["id","tableLabel"],[1,"col-lg-3","d-lg-block","d-md-none","d-sm-none"],[1,"col-lg-3","col-md-6","col-12"],["mat-raised-button","",1,"btn","btn-success","btn-block","text-center;",2,"margin-top","10px","margin-bottom","10px",3,"matTooltip","click"],[1,"create-icon-button"],[3,"formGroup"],[1,"col-md-3","col-12"],["appearance","outline"],["formControlName","companyId",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-12","col-md-3"],["matInput","","formControlName","startDate","placeholder","Start Date",3,"matDatepicker","ngClass","click"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","endDate",3,"matDatepicker","placeholder","ngClass","click"],["endDatePicker",""],[1,"col-lg-1","col-md-4","col-sm-12"],["mat-raised-button","","type","button","matTooltip","search",1,"btn","btn-success","btn-block","text-center","mb-2",3,"click"],["mat-raised-button","","type","button","matTooltip","export",1,"btn","btn-success","btn-block","text-center","mb-2",3,"click"],[3,"value"]],template:function(e,t){if(1&e){var a=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"div",1),d["\u0275\u0275elementStart"](2,"h1",2),d["\u0275\u0275text"](3),d["\u0275\u0275pipe"](4,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](5,"div",3),d["\u0275\u0275elementStart"](6,"div",4),d["\u0275\u0275elementStart"](7,"button",5),d["\u0275\u0275listener"]("click",(function(){return t.createTaskDetail()})),d["\u0275\u0275pipe"](8,"translate"),d["\u0275\u0275elementStart"](9,"mat-icon",6),d["\u0275\u0275text"](10,"add"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275text"](11),d["\u0275\u0275pipe"](12,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](13,"form",7),d["\u0275\u0275elementStart"](14,"div",0),d["\u0275\u0275elementStart"](15,"div",8),d["\u0275\u0275elementStart"](16,"mat-form-field",9),d["\u0275\u0275elementStart"](17,"mat-label"),d["\u0275\u0275text"](18),d["\u0275\u0275pipe"](19,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](20,"mat-select",10),d["\u0275\u0275pipe"](21,"translate"),d["\u0275\u0275template"](22,At,2,2,"mat-option",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](23,Ct,2,0,"mat-error",12),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](24,"div",13),d["\u0275\u0275elementStart"](25,"mat-form-field",9),d["\u0275\u0275elementStart"](26,"mat-label"),d["\u0275\u0275text"](27),d["\u0275\u0275pipe"](28,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](29,"input",14),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](a),d["\u0275\u0275reference"](32).open()})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](30,"mat-datepicker-toggle",15),d["\u0275\u0275element"](31,"mat-datepicker",null,16),d["\u0275\u0275template"](33,yt,3,3,"mat-error",12),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](34,"div",13),d["\u0275\u0275elementStart"](35,"mat-form-field",9),d["\u0275\u0275elementStart"](36,"mat-label"),d["\u0275\u0275text"](37),d["\u0275\u0275pipe"](38,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](39,"input",17),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](a),d["\u0275\u0275reference"](43).open()})),d["\u0275\u0275pipe"](40,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](41,"mat-datepicker-toggle",15),d["\u0275\u0275element"](42,"mat-datepicker",null,18),d["\u0275\u0275template"](44,St,3,3,"mat-error",12),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](45,"div",19),d["\u0275\u0275elementStart"](46,"button",20),d["\u0275\u0275listener"]("click",(function(){return t.sendValue()})),d["\u0275\u0275text"](47," Search "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](48,"div",19),d["\u0275\u0275elementStart"](49,"button",21),d["\u0275\u0275listener"]("click",(function(){return t.exportTaskList()})),d["\u0275\u0275text"](50," Export "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](51,"app-task-detail")}if(2&e){var n=d["\u0275\u0275reference"](32),r=d["\u0275\u0275reference"](43);d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](4,19,"TASK.TASKDETAIL.INDEX.TITLE")),d["\u0275\u0275advance"](4),d["\u0275\u0275propertyInterpolate1"]("matTooltip","Add ",d["\u0275\u0275pipeBind1"](8,21,"TASK.TASKCATEGORY.INDEX.TITLE"),""),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](12,23,"TASK.TASKDETAIL.INDEX.BUTTONTEXT")," "),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("formGroup",t.taskDetaiBsaelFilterFormGroup),d["\u0275\u0275advance"](5),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](19,25,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),d["\u0275\u0275advance"](2),d["\u0275\u0275propertyInterpolate"]("placeholder",d["\u0275\u0275pipeBind1"](21,27,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",t.companies),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](28,29,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("matDatepicker",n)("ngClass",d["\u0275\u0275pureFunction1"](35,bt,t.f.startDate.errors)),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("for",n),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startDate.errors&&t.f.startDate.errors.required),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](38,31,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),d["\u0275\u0275advance"](2),d["\u0275\u0275propertyInterpolate"]("placeholder",d["\u0275\u0275pipeBind1"](40,33,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),d["\u0275\u0275property"]("matDatepicker",r)("ngClass",d["\u0275\u0275pureFunction1"](37,bt,t.f.endDate.errors)),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("for",r),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endDate.errors&&t.f.endDate.errors.required)}},directives:[S.b,U.a,j.a,f.I,f.t,f.k,A.c,A.g,C.a,f.s,f.j,k.s,k.t,y.b,f.d,re.h,k.q,re.j,A.j,re.f,kt,R.m,A.b],pipes:[x.d],styles:[".col-md-0[_ngcontent-%COMP%]{display:none}"]}),Rt),Ot=[{path:"",component:p,canActivate:[E.a],data:{roles:["Administrators"]}},{path:"task-category",component:ae,canActivate:[E.a],data:{roles:["Administrators","EmployeeRole"]}},{path:"task-detail",component:Lt,canActivate:[E.a],data:{roles:["Administrators","EmployeeRole"]}},{path:"task-detail-base",component:Lt,canActivate:[E.a],data:{roles:["Administrators","EmployeeRole"]}}],Nt=((xt=function e(){i(this,e)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:xt}),xt.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||xt)},imports:[[m.a,u.AuthModule,c.a,s.g.forChild(Ot)]]}),xt)}}])}();