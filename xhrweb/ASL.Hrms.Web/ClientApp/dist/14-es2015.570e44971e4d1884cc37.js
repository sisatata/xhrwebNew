(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{Bkmv:function(e,t,n){"use strict";n.r(t),n.d(t,"LeaveModule",(function(){return kn}));var a=n("tyNb"),l=n("fXoL");let r=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-leave"]],decls:2,vars:0,template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"p"),l["\u0275\u0275text"](1,"leave works!"),l["\u0275\u0275elementEnd"]())},styles:[""]}),e})();var i=n("PCNd"),o=n("12jx"),p=n("TwVa"),s=n("3Pt+"),d=n("0IaG"),m=n("ZF+8"),c=n("Cmua"),E=n("ofXK"),v=n("kmnG"),u=n("d3UM"),h=n("qFsG"),f=n("bSwM"),y=n("Qu3c"),g=n("bTqV"),I=n("FKr1"),A=n("sYmb");function C(e,t){1&e&&l["\u0275\u0275element"](0,"div",28)}function T(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"h5",29),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"LEAVE.LEAVETYPE.CREATE.CREATE_TITLE")))}function S(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"h5",29),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"LEAVE.LEAVETYPE.CREATE.EDIT_TITLE")))}function L(e,t){if(1&e&&(l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275elementStart"](1,"mat-option",30),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275propertyInterpolate"]("value",e.id),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](e.companyName)}}function x(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"COMMON.SELECT.COMPANYID.REQUIERED_ERROR_TEXT")))}function b(e,t){if(1&e&&(l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275elementStart"](1,"mat-option",30),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("value",e.id),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](e.leaveTypeGroupName)}}function R(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"LEAVE.LEAVETYPE.CREATE.CREATE_FORM.LEAVETYPENAME.REQUIERED_ERROR_TEXT")))}function O(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"LEAVE.LEAVETYPE.CREATE.CREATE_FORM.LEAVETYPENAME.MAXLENGTH_ERROR_TEXT")))}function N(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"LEAVE.LEAVETYPE.CREATE.CREATE_FORM.SHORTNAME.REQUIERED_ERROR_TEXT")))}function D(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"LEAVE.LEAVETYPE.CREATE.CREATE_FORM.SHORTNAME.MAXLENGTH_ERROR_TEXT")))}function B(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"LEAVE.LEAVETYPE.CREATE.CREATE_FORM.BALANCE.REQUIERED_ERROR_TEXT")))}function P(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"LEAVE.LEAVETYPE.CREATE.CREATE_FORM.BALANCE.MAXLENGTH_ERROR_TEXT")))}function M(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275elementStart"](1,"div",31),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",e.errorMessages," ")}}const F=function(e){return{"is-invalid":e}};let V=(()=>{class e{constructor(e,t,n,a,r,i,o){this.companyService=e,this.alertService=t,this.leaveGroupService=n,this.dialogRef=a,this.formBuilder=r,this.leaveTypeService=i,this.onLeaveTypeCreateEvent=new l.EventEmitter,this.onLeaveTypeEditEvent=new l.EventEmitter,this.submitted=!1,this.isEditMode=!1,this.leaveGroups=[],this.loading=!1,this.test=1,this.leaveType=new p.nb,isNaN(o)&&(this.leaveType=new p.nb(o),this.companyId=this.leaveType.companyId,this.leaveGroupId=this.leaveType.leaveTypeGroupId,this.buildForm()),this.leaveType.id&&(this.isEditMode=!0),this.buildForm(),this.getAllLeaveGroups()}ngOnInit(){this.getAllCompanies(),this.getAllLeaveGroups(),this.buildForm()}getAllLeaveGroups(){this.loading=!0,this.leaveGroupService.getAllLeaveGroups(this.companyId).subscribe(e=>{this.loading=!1,this.leaveGroups=e},()=>{this.loading=!1,this.leaveGroups=[]})}getAllCompanies(){this.companyService.getAllCompanies().subscribe(e=>{this.companies=e})}onChangeCompany(){this.companyId=this.f.companyId.value}buildForm(){this.leaveTypeCreateForm=this.formBuilder.group({companyId:[this.leaveType.companyId],leaveTypeName:[this.leaveType.leaveTypeName,[s.G.required,s.G.maxLength(250)]],leaveTypeLocalizedName:[this.leaveType.leaveTypeLocalizedName,[s.G.maxLength(150)]],leaveTypeShortName:[this.leaveType.leaveTypeShortName,[s.G.required,s.G.maxLength(50)]],balance:[this.leaveType.balance,[s.G.required]],isCarryForward:[this.leaveType.isCarryForward],isFemaleSpecific:[this.leaveType.isFemaleSpecific],isPaid:[this.leaveType.isPaid],isEncashable:[this.leaveType.isEncashable],encashReserveBalance:[this.leaveType.encashReserveBalance],isDependOnDateOfConfirmation:[this.leaveType.isDependOnDateOfConfirmation],isLeaveDaysFixed:[this.leaveType.isLeaveDaysFixed],isBasedWorkingDays:[this.leaveType.isBasedWorkingDays],consecutiveLimit:[this.leaveType.consecutiveLimit],isAllowAdvanceLeaveApply:[this.leaveType.isAllowAdvanceLeaveApply],isAllowWithPrecedingHoliday:[this.leaveType.isAllowWithPrecedingHoliday],isAllowOpeningBalance:[this.leaveType.isAllowOpeningBalance],isPreventPostLeaveApply:[this.leaveType.isPreventPostLeaveApply],leaveTypeGroupId:[this.leaveType.leaveTypeGroupId]})}onSubmit(){this.submitted=!0,this.leaveTypeCreateForm.invalid||(void 0===this.leaveType.id?this.createLeaveType():this.editLeaveType())}createLeaveType(){this.leaveType=new p.nb(this.leaveTypeCreateForm.value),this.loading=!0,this.leaveType.leaveTypeGroupId=this.leaveGroupId,this.leaveTypeService.createLeaveType(this.leaveType).subscribe(e=>{this.onLeaveTypeCreateEvent.emit(this.leaveType.id),!0===e.status?(this.isFormValid=!0,this.alertService.success("Leave Type added successfully"),this.dialogRef.close()):(this.isFormValid=!1,this.errorMessages=e.message),this.loading=!1},e=>{this.showErrorMessage(e)})}editLeaveType(){let e=new p.nb(this.leaveTypeCreateForm.value);null!==this.leaveType&&(this.leaveType.leaveTypeName=e.leaveTypeName,this.leaveType.leaveTypeLocalizedName=e.leaveTypeLocalizedName,this.leaveType.leaveTypeShortName=e.leaveTypeShortName,this.leaveType.balance=e.balance,this.leaveType.isCarryForward=e.isCarryForward,this.leaveType.isFemaleSpecific=e.isFemaleSpecific,this.leaveType.isPaid=e.isPaid,this.leaveType.isEncashable=e.isEncashable,this.leaveType.encashReserveBalance=e.encashReserveBalance,this.leaveType.isDependOnDateOfConfirmation=e.isDependOnDateOfConfirmation,this.leaveType.isLeaveDaysFixed=e.isLeaveDaysFixed,this.leaveType.isBasedWorkingDays=e.isBasedWorkingDays,this.leaveType.consecutiveLimit=e.consecutiveLimit,this.leaveType.isAllowAdvanceLeaveApply=e.isAllowAdvanceLeaveApply,this.leaveType.isAllowWithPrecedingHoliday=e.isAllowWithPrecedingHoliday,this.leaveType.isAllowOpeningBalance=e.isAllowOpeningBalance,this.leaveType.isPreventPostLeaveApply=e.isPreventPostLeaveApply,this.leaveType.companyId=e.companyId,this.leaveType.leaveTypeGroupId=e.leaveTypeGroupId,this.leaveType.leaveTypeGroupId=this.leaveGroupId,this.loading=!0,this.leaveTypeService.editLeaveType(this.leaveType).subscribe(e=>{this.onLeaveTypeEditEvent.emit(this.leaveType.id),!0===e.status?(this.isFormValid=!0,this.alertService.success("Leave Type Updated successfully"),this.dialogRef.close()):(this.isFormValid=!1,this.errorMessages=e.message),this.loading=!1},e=>{this.showErrorMessage(e),this.loading=!1}))}close(){this.dialogRef.close()}showErrorMessage(e){console.log(e)}get f(){return this.leaveTypeCreateForm.controls}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](m.u),l["\u0275\u0275directiveInject"](c.a),l["\u0275\u0275directiveInject"](m.fb),l["\u0275\u0275directiveInject"](d.i),l["\u0275\u0275directiveInject"](s.g),l["\u0275\u0275directiveInject"](m.hb),l["\u0275\u0275directiveInject"](d.a))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-create-leave-type"]],decls:115,vars:125,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],["mat-dialog-title","",4,"ngIf"],["enctype","multipart/form-data",1,"leaveType-from",3,"formGroup"],[1,"mat-typography"],[1,"form-group"],["appearance","outline"],["matInput","","formControlName","companyId",3,"placeholder","value","valueChange","selectionChange"],[4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","leaveTypeGroupId",3,"ngModel","placeholder","ngModelChange"],["matInput","","formControlName","leaveTypeName",3,"placeholder","ngClass"],["matInput","","formControlName","leaveTypeShortName",3,"placeholder","ngClass"],["type","number","matInput","","formControlName","balance",3,"placeholder","ngClass"],["formControlName","isCarryForward","matTooltip","Is Carry Forward?",1,"form-group",3,"value","valueChange"],["formControlName","isFemaleSpecific","matTooltip","is Female Specific?",1,"form-group",3,"value","valueChange"],["formControlName","isPaid","matTooltip","Is Paid?",1,"form-group",3,"value","valueChange"],["formControlName","isEncashable","matTooltip","Is Encashable?",1,"form-group",3,"value","valueChange"],["type","number","matInput","","formControlName","encashReserveBalance",3,"value","placeholder","ngClass","valueChange"],["formControlName","isDependOnDateOfConfirmation","matTooltip","Is Depend On Date Of Confirmation?",1,"form-group",3,"value","valueChange"],["formControlName","isLeaveDaysFixed","matTooltip","Is Leave Days Fixed?",1,"form-group",3,"value","valueChange"],["formControlName","isBasedWorkingDays","matTooltip","Is Based Working Days?",1,"form-group",3,"value","valueChange"],["type","number","matInput","","formControlName","consecutiveLimit",3,"value","placeholder","ngClass","valueChange"],["formControlName","isAllowAdvanceLeaveApply","matTooltip","Is Allow Advance Leave Apply?",1,"form-group",3,"value","valueChange"],["formControlName","isAllowWithPrecedingHoliday","matTooltip","Is Allow With Preceding Holiday?",1,"form-group",3,"value","valueChange"],["formControlName","isAllowOpeningBalance","matTooltip","Is Allow Opening Balance?",1,"form-group",3,"value","valueChange"],["formControlName","isPreventPostLeaveApply","matTooltip","Is Prevent Post Leave Apply?",1,"form-group",3,"value","valueChange"],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","",1,"btn","btn-success",3,"click"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],["mat-dialog-title",""],[3,"value"],[1,"d-flex"]],template:function(e,t){1&e&&(l["\u0275\u0275template"](0,C,1,0,"div",0),l["\u0275\u0275template"](1,T,3,3,"h5",1),l["\u0275\u0275template"](2,S,3,3,"h5",1),l["\u0275\u0275elementStart"](3,"form",2),l["\u0275\u0275elementStart"](4,"mat-dialog-content",3),l["\u0275\u0275elementStart"](5,"div",4),l["\u0275\u0275elementStart"](6,"mat-form-field",5),l["\u0275\u0275elementStart"](7,"mat-label"),l["\u0275\u0275text"](8),l["\u0275\u0275pipe"](9,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](10,"mat-select",6),l["\u0275\u0275listener"]("valueChange",(function(e){return t.leaveType.companyId=e}))("selectionChange",(function(){return t.onChangeCompany()})),l["\u0275\u0275pipe"](11,"translate"),l["\u0275\u0275template"](12,L,3,2,"ng-container",7),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](13,x,3,3,"mat-error",8),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](14,"div",4),l["\u0275\u0275elementStart"](15,"mat-form-field",5),l["\u0275\u0275elementStart"](16,"mat-label"),l["\u0275\u0275text"](17),l["\u0275\u0275pipe"](18,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](19,"mat-select",9),l["\u0275\u0275listener"]("ngModelChange",(function(e){return t.leaveGroupId=e})),l["\u0275\u0275pipe"](20,"translate"),l["\u0275\u0275template"](21,b,3,2,"ng-container",7),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](22,"div",4),l["\u0275\u0275elementStart"](23,"mat-form-field",5),l["\u0275\u0275elementStart"](24,"mat-label"),l["\u0275\u0275text"](25),l["\u0275\u0275pipe"](26,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](27,"input",10),l["\u0275\u0275pipe"](28,"translate"),l["\u0275\u0275template"](29,R,3,3,"mat-error",8),l["\u0275\u0275template"](30,O,3,3,"mat-error",8),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](31,"div",4),l["\u0275\u0275elementStart"](32,"mat-form-field",5),l["\u0275\u0275elementStart"](33,"mat-label"),l["\u0275\u0275text"](34),l["\u0275\u0275pipe"](35,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](36,"input",11),l["\u0275\u0275pipe"](37,"translate"),l["\u0275\u0275template"](38,N,3,3,"mat-error",8),l["\u0275\u0275template"](39,D,3,3,"mat-error",8),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](40,"div",4),l["\u0275\u0275elementStart"](41,"mat-form-field",5),l["\u0275\u0275elementStart"](42,"mat-label"),l["\u0275\u0275text"](43),l["\u0275\u0275pipe"](44,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](45,"input",12),l["\u0275\u0275pipe"](46,"translate"),l["\u0275\u0275template"](47,B,3,3,"mat-error",8),l["\u0275\u0275template"](48,P,3,3,"mat-error",8),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](49,"div",4),l["\u0275\u0275elementStart"](50,"mat-checkbox",13),l["\u0275\u0275listener"]("valueChange",(function(e){return t.leaveType.isCarryForward=e})),l["\u0275\u0275text"](51),l["\u0275\u0275pipe"](52,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](53,"div",4),l["\u0275\u0275elementStart"](54,"mat-checkbox",14),l["\u0275\u0275listener"]("valueChange",(function(e){return t.leaveType.isFemaleSpecific=e})),l["\u0275\u0275text"](55),l["\u0275\u0275pipe"](56,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](57,"div",4),l["\u0275\u0275elementStart"](58,"mat-checkbox",15),l["\u0275\u0275listener"]("valueChange",(function(e){return t.leaveType.isPaid=e})),l["\u0275\u0275text"](59),l["\u0275\u0275pipe"](60,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](61,"div",4),l["\u0275\u0275elementStart"](62,"mat-checkbox",16),l["\u0275\u0275listener"]("valueChange",(function(e){return t.leaveType.isEncashable=e})),l["\u0275\u0275text"](63),l["\u0275\u0275pipe"](64,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](65,"div",4),l["\u0275\u0275elementStart"](66,"mat-form-field",5),l["\u0275\u0275elementStart"](67,"mat-label"),l["\u0275\u0275text"](68),l["\u0275\u0275pipe"](69,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](70,"input",17),l["\u0275\u0275listener"]("valueChange",(function(e){return t.leaveType.encashReserveBalance=e})),l["\u0275\u0275pipe"](71,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](72,"div",4),l["\u0275\u0275elementStart"](73,"mat-checkbox",18),l["\u0275\u0275listener"]("valueChange",(function(e){return t.leaveType.isDependOnDateOfConfirmation=e})),l["\u0275\u0275text"](74),l["\u0275\u0275pipe"](75,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](76,"div",4),l["\u0275\u0275elementStart"](77,"mat-checkbox",19),l["\u0275\u0275listener"]("valueChange",(function(e){return t.leaveType.isLeaveDaysFixed=e})),l["\u0275\u0275text"](78),l["\u0275\u0275pipe"](79,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](80,"div",4),l["\u0275\u0275elementStart"](81,"mat-checkbox",20),l["\u0275\u0275listener"]("valueChange",(function(e){return t.leaveType.isBasedWorkingDays=e})),l["\u0275\u0275text"](82),l["\u0275\u0275pipe"](83,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](84,"div",4),l["\u0275\u0275elementStart"](85,"mat-form-field",5),l["\u0275\u0275elementStart"](86,"mat-label"),l["\u0275\u0275text"](87),l["\u0275\u0275pipe"](88,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](89,"input",21),l["\u0275\u0275listener"]("valueChange",(function(e){return t.leaveType.consecutiveLimit=e})),l["\u0275\u0275pipe"](90,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](91,"div",4),l["\u0275\u0275elementStart"](92,"mat-checkbox",22),l["\u0275\u0275listener"]("valueChange",(function(e){return t.leaveType.isAllowAdvanceLeaveApply=e})),l["\u0275\u0275text"](93),l["\u0275\u0275pipe"](94,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](95,"div",4),l["\u0275\u0275elementStart"](96,"mat-checkbox",23),l["\u0275\u0275listener"]("valueChange",(function(e){return t.leaveType.isAllowWithPrecedingHoliday=e})),l["\u0275\u0275text"](97),l["\u0275\u0275pipe"](98,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](99,"div",4),l["\u0275\u0275elementStart"](100,"mat-checkbox",24),l["\u0275\u0275listener"]("valueChange",(function(e){return t.leaveType.isAllowOpeningBalance=e})),l["\u0275\u0275text"](101),l["\u0275\u0275pipe"](102,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](103,"div",4),l["\u0275\u0275elementStart"](104,"mat-checkbox",25),l["\u0275\u0275listener"]("valueChange",(function(e){return t.leaveType.isPreventPostLeaveApply=e})),l["\u0275\u0275text"](105),l["\u0275\u0275pipe"](106,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](107,M,3,1,"mat-error",8),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](108,"mat-dialog-actions"),l["\u0275\u0275elementStart"](109,"button",26),l["\u0275\u0275listener"]("click",(function(){return t.close()})),l["\u0275\u0275text"](110),l["\u0275\u0275pipe"](111,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](112,"button",27),l["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),l["\u0275\u0275text"](113),l["\u0275\u0275pipe"](114,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275property"]("ngIf",t.loading),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!t.isEditMode),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.isEditMode),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("formGroup",t.leaveTypeCreateForm),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](9,61,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](11,63,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),l["\u0275\u0275property"]("value",t.leaveType.companyId),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",t.companies),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](18,65,"LEAVE.LEAVEGROUP.INDEX.TITLE")," "),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](20,67,"LEAVE.LEAVEGROUP.INDEX.TITLE")),l["\u0275\u0275property"]("ngModel",t.leaveGroupId),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",t.leaveGroups),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](26,69,"LEAVE.LEAVETYPE.CREATE.CREATE_FORM.LEAVETYPENAME.PLACEHOLDER")),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](28,71,"LEAVE.LEAVETYPE.CREATE.CREATE_FORM.LEAVETYPENAME.PLACEHOLDER")),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](115,F,t.submitted&&t.f.leaveTypeName.errors)),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.leaveTypeName.errors&&t.f.leaveTypeName.errors.required),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.leaveTypeName.errors&&t.f.leaveTypeName.errors.maxlength),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](35,73,"LEAVE.LEAVETYPE.CREATE.CREATE_FORM.SHORTNAME.PLACEHOLDER")),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](37,75,"LEAVE.LEAVETYPE.CREATE.CREATE_FORM.SHORTNAME.PLACEHOLDER")),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](117,F,t.submitted&&t.f.leaveTypeShortName.errors)),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.leaveTypeShortName.errors&&t.f.leaveTypeShortName.errors.required),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.leaveTypeShortName.errors&&t.f.leaveTypeShortName.errors.maxlength),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](44,77,"LEAVE.LEAVETYPE.CREATE.CREATE_FORM.BALANCE.PLACEHOLDER")),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](46,79,"LEAVE.LEAVETYPE.CREATE.CREATE_FORM.BALANCE.PLACEHOLDER")),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](119,F,t.submitted&&t.f.balance.errors)),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.balance.errors&&t.f.balance.errors.required),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.balance.errors&&t.f.balance.errors.maxlength),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("value",t.leaveType.isCarryForward),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](52,81,"LEAVE.LEAVETYPE.CREATE.CREATE_FORM.ISCARRYFORWARD.TITLE")," "),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("value",t.leaveType.isFemaleSpecific),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](56,83,"LEAVE.LEAVETYPE.CREATE.CREATE_FORM.ISFEMALESPECIFIC.TITLE")," "),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("value",t.leaveType.isPaid),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](60,85,"LEAVE.LEAVETYPE.CREATE.CREATE_FORM.ISPAID.TITLE")," "),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("value",t.leaveType.isEncashable),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](64,87,"LEAVE.LEAVETYPE.CREATE.CREATE_FORM.ISENCASHABLE.TITLE")," "),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](69,89,"LEAVE.LEAVETYPE.CREATE.CREATE_FORM.ENCASHRESERVEBALANCE.PLACEHOLDER")),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](71,91,"LEAVE.LEAVETYPE.CREATE.CREATE_FORM.ENCASHRESERVEBALANCE.PLACEHOLDER")),l["\u0275\u0275property"]("value",t.leaveType.encashReserveBalance)("ngClass",l["\u0275\u0275pureFunction1"](121,F,t.submitted&&t.f.encashReserveBalance.errors)),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("value",t.leaveType.isDependOnDateOfConfirmation),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](75,93,"LEAVE.LEAVETYPE.CREATE.CREATE_FORM.ISDEPENDONDATEOFCONFIRMATION.TITLE")," "),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("value",t.leaveType.isLeaveDaysFixed),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](79,95,"LEAVE.LEAVETYPE.CREATE.CREATE_FORM.ISLEAVEDAYSFIXED.TITLE")," "),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("value",t.leaveType.isBasedWorkingDays),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](83,97,"LEAVE.LEAVETYPE.CREATE.CREATE_FORM.ISBASEDWORKINGDAYS.TITLE")," "),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](88,99,"LEAVE.LEAVETYPE.CREATE.CREATE_FORM.CONSECUTIVELIMIT.PLACEHOLDER")),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](90,101,"LEAVE.LEAVETYPE.CREATE.CREATE_FORM.CONSECUTIVELIMIT.PLACEHOLDER")),l["\u0275\u0275property"]("value",t.leaveType.consecutiveLimit)("ngClass",l["\u0275\u0275pureFunction1"](123,F,t.submitted&&t.f.consecutiveLimit.errors)),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("value",t.leaveType.isAllowAdvanceLeaveApply),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](94,103,"LEAVE.LEAVETYPE.CREATE.CREATE_FORM.ISALLOWADVANELEAVEAPPLY.TITLE")," "),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("value",t.leaveType.isAllowWithPrecedingHoliday),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](98,105,"LEAVE.LEAVETYPE.CREATE.CREATE_FORM.ISALLOWWITHPRECEDINGHOLIDAY.TITLE")," "),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("value",t.leaveType.isAllowOpeningBalance),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](102,107,"LEAVE.LEAVETYPE.CREATE.CREATE_FORM.ISALLOWOPENINGBALANCE.TITLE")," "),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("value",t.leaveType.isPreventPostLeaveApply),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](106,109,"LEAVE.LEAVETYPE.CREATE.CREATE_FORM.ISPREVENTPOSTLEAVEAPPLY.TITLE")," "),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",!t.isFormValid),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](111,111,"COMMON.CANCEL_BUTTON_TEXT")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](114,113,"COMMON.SAVE_BUTTON_TEXT")))},directives:[E.t,s.I,s.t,s.k,d.g,v.c,v.g,u.a,s.s,s.j,E.s,h.b,s.d,E.q,s.y,f.a,y.a,d.c,g.b,d.d,d.j,I.m,v.b],pipes:[A.d],styles:[""]}),e})();var w=n("Wxx3"),G=n("brQL"),Y=n("NFeN"),j=n("oOf3"),k=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function _(e,t){1&e&&l["\u0275\u0275element"](0,"div",17)}function q(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",18),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e.id),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",e.companyName," ")}}function H(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"COMMON.SELECT.COMPANYID.REQUIERED_ERROR_TEXT")))}function U(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275elementStart"](1,"td",24),l["\u0275\u0275elementStart"](2,"button",25),l["\u0275\u0275listener"]("click",(function(){l["\u0275\u0275restoreView"](e);const n=t.$implicit;return l["\u0275\u0275nextContext"](2).editLeaveType(n)})),l["\u0275\u0275elementStart"](3,"mat-icon"),l["\u0275\u0275text"](4,"create"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"button",25),l["\u0275\u0275listener"]("click",(function(){l["\u0275\u0275restoreView"](e);const n=t.$implicit;return l["\u0275\u0275nextContext"](2).onDeleteLeaveType(n)})),l["\u0275\u0275elementStart"](6,"mat-icon",26),l["\u0275\u0275text"](7,"delete"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"td"),l["\u0275\u0275text"](9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](10,"td"),l["\u0275\u0275text"](11),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](12,"td"),l["\u0275\u0275text"](13),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](14,"td"),l["\u0275\u0275text"](15),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;l["\u0275\u0275advance"](9),l["\u0275\u0275textInterpolate"](e.leaveTypeName),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](e.leaveTypeShortName),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](e.balance),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](e.leaveTypeGroupName)}}function X(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275elementStart"](1,"td",27),l["\u0275\u0275text"](2,"No leave type found"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]())}function $(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"pagination-controls",33),l["\u0275\u0275listener"]("pageChange",(function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](3).pageChanged(t)})),l["\u0275\u0275elementEnd"]()}}function z(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",18),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e.value),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",e.text," ")}}function Q(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",28),l["\u0275\u0275elementStart"](1,"div",29),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"div",29),l["\u0275\u0275template"](4,$,1,0,"pagination-controls",30),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"div",31),l["\u0275\u0275elementStart"](6,"mat-form-field"),l["\u0275\u0275elementStart"](7,"mat-select",32),l["\u0275\u0275listener"]("ngModelChange",(function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](2).pageSize=t}))("selectionChange",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](2).onChangePaginationPerPage()})),l["\u0275\u0275pipe"](8,"translate"),l["\u0275\u0275template"](9,z,2,2,"mat-option",12),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",e.totalItemsText," "),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",e.totalItems>0),l["\u0275\u0275advance"](3),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](8,5,"PAGINATION.PLACEHOLDER")),l["\u0275\u0275property"]("ngModel",e.pageSize),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",e.paginationPageNumbers)}}const W=function(e,t,n){return{id:"pagination",itemsPerPage:e,currentPage:t,totalItems:n}};function K(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"section"),l["\u0275\u0275elementStart"](1,"table",19),l["\u0275\u0275elementStart"](2,"thead"),l["\u0275\u0275elementStart"](3,"tr",20),l["\u0275\u0275elementStart"](4,"th",21),l["\u0275\u0275text"](5),l["\u0275\u0275pipe"](6,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](7,"th"),l["\u0275\u0275text"](8),l["\u0275\u0275pipe"](9,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](10,"th"),l["\u0275\u0275text"](11),l["\u0275\u0275pipe"](12,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](13,"th"),l["\u0275\u0275text"](14),l["\u0275\u0275pipe"](15,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](16,"th"),l["\u0275\u0275text"](17,"Group"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](18,"tbody"),l["\u0275\u0275template"](19,U,16,4,"tr",22),l["\u0275\u0275pipe"](20,"paginate"),l["\u0275\u0275template"](21,X,3,0,"tr",13),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](22,Q,10,7,"div",23),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](6,7,"LEAVE.LEAVETYPE.INDEX.TABLE.HEADER.ACTIONS")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](9,9,"LEAVE.LEAVETYPE.INDEX.TABLE.HEADER.NAME")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](12,11,"LEAVE.LEAVETYPE.INDEX.TABLE.HEADER.SHORTNAME")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](15,13,"LEAVE.LEAVETYPE.INDEX.TABLE.HEADER.BALANCE")),l["\u0275\u0275advance"](5),l["\u0275\u0275property"]("ngForOf",l["\u0275\u0275pipeBind2"](20,15,e.leaveTypes,l["\u0275\u0275pureFunction3"](18,W,e.pageSize,e.currentPage,e.totalItems))),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",0==e.leaveTypes.length),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.totalItems>0)}}let J=(()=>{class e extends G.a{constructor(e,t,n,a,l){super(l),this.dialog=e,this.formBuilder=t,this.leaveTypeService=n,this.companyService=a,this.injector=l,this.leaveTypes=[],this.loading=!1}ngOnInit(){this.onChangeCompany(this.companyId),this.getAllCompanies(),this.buildForm()}buildForm(){this.leaveTypeFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,s.G.required]})}get f(){return this.leaveTypeFilterFormGroup.controls}onChangeCompany(e){this.companyId=e,e&&this.getAllLeaveTypeByCompanyId()}getLeaveType(){this.submitted=!0,this.leaveTypeFilterFormGroup.invalid||(this.companyId=this.f.companyId.value,this.getAllLeaveTypeByCompanyId())}getAllCompanies(){this.companyService.getAllCompanies().subscribe(e=>{this.companies=e})}createLeaveType(){const e=new d.e;e.disableClose=!0,e.autoFocus=!0,e.panelClass="xHR-dialog";const t=window.screen.width<=576?90:50;e.width=t+"%";var n=new p.nb;n.companyId=this.companyId,e.data=n;const a=this.dialog.open(V,e);a.componentInstance.onLeaveTypeCreateEvent.subscribe(e=>{this.getAllLeaveTypeByCompanyId()}),a.afterClosed().subscribe(()=>{})}editLeaveType(e){const t=new d.e;t.disableClose=!0,t.autoFocus=!0,t.data=e,t.panelClass="xHR-dialog";const n=window.screen.width<=576?90:50;t.width=n+"%";const a=this.dialog.open(V,t);a.componentInstance.onLeaveTypeEditEvent.subscribe(e=>{this.getAllLeaveTypeByCompanyId()}),a.afterClosed().subscribe(()=>{})}onDeleteLeaveType(e){const t=new d.e;t.data="Are you sure to delete the leave Type "+e.leaveTypeName,t.panelClass="xHR-dialog",this.dialog.open(w.a,t).afterClosed().subscribe(t=>{null!=t&&this.deleteLeaveType(e)})}deleteLeaveType(e){this.leaveTypeService.deleteLeaveType(e).subscribe(e=>{this.getAllLeaveTypeByCompanyId()},e=>{console.log(e)})}getAllLeaveTypeById(e){this.leaveTypeService.getLeaveTypeById(e).subscribe(e=>{this.leaveTypes=e})}getAllLeaveTypeByCompanyId(){this.blockUI.start(),this.loading=!0,this.leaveTypeService.getAllLeaveTypeByCompanyId(this.companyId).subscribe(e=>{this.leaveTypes=e,this.loading=!1,this.totalItems=this.leaveTypes.length,this.generateTotalItemsText(),this.blockUI.stop()},e=>{this.blockUI.stop(),this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](d.b),l["\u0275\u0275directiveInject"](s.g),l["\u0275\u0275directiveInject"](m.hb),l["\u0275\u0275directiveInject"](m.u),l["\u0275\u0275directiveInject"](l.Injector))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-leave-type"]],features:[l["\u0275\u0275InheritDefinitionFeature"]],decls:24,vars:14,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-sm-12","col-md-6","col-lg-4"],["id","tableLabel"],[1,"col-lg-3","col-md-6","col-sm-10"],["mat-raised-button","",1,"btn","btn-success","btn-block","text-center",3,"matTooltip","click"],[1,"create-icon-button"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-12","col-md-6","col-lg-3"],["appearance","outline"],["formControlName","companyId",3,"placeholder","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-sm-6","float-right"],["type","submit","hidden","true",1,"btn","btn-primary",2,"margin-top","19px"],[4,"blockUI"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"],["aria-labelledby","tableLabel",1,"table","table-light"],[1,"table-secondary"],[1,"text-center"],[4,"ngFor","ngForOf"],["class","row justify-content-between",4,"ngIf"],[1,"pt-0","text-center"],["mat-icon-button","",3,"click"],[1,"mat-icon-delete"],["colspan","3",1,"text-center"],[1,"row","justify-content-between"],[1,"col-md-5","col-sm-5","text-left"],["id","pagination","directionLinks","true","previousLabel","","nextLabel","",3,"pageChange",4,"ngIf"],[1,"col-md-2","col-sm-2","text-left"],[3,"ngModel","placeholder","ngModelChange","selectionChange"],["id","pagination","directionLinks","true","previousLabel","","nextLabel","",3,"pageChange"]],template:function(e,t){1&e&&(l["\u0275\u0275template"](0,_,1,0,"div",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"div",2),l["\u0275\u0275elementStart"](3,"h1",3),l["\u0275\u0275text"](4,"Leave Setup"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"div",4),l["\u0275\u0275elementStart"](6,"button",5),l["\u0275\u0275listener"]("click",(function(){return t.createLeaveType()})),l["\u0275\u0275pipe"](7,"translate"),l["\u0275\u0275elementStart"](8,"mat-icon",6),l["\u0275\u0275text"](9,"add"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275text"](10),l["\u0275\u0275pipe"](11,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](12,"form",7),l["\u0275\u0275listener"]("ngSubmit",(function(){return t.getLeaveType()})),l["\u0275\u0275elementStart"](13,"div",8),l["\u0275\u0275elementStart"](14,"div",9),l["\u0275\u0275elementStart"](15,"mat-form-field",10),l["\u0275\u0275elementStart"](16,"mat-select",11),l["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeCompany(e.value)})),l["\u0275\u0275pipe"](17,"translate"),l["\u0275\u0275template"](18,q,2,2,"mat-option",12),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](19,H,3,3,"mat-error",13),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](20,"div",14),l["\u0275\u0275elementStart"](21,"button",15),l["\u0275\u0275text"](22,"Submit"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](23,K,23,22,"section",16)),2&e&&(l["\u0275\u0275property"]("ngIf",t.loading),l["\u0275\u0275advance"](6),l["\u0275\u0275propertyInterpolate"]("matTooltip",l["\u0275\u0275pipeBind1"](7,8,"LEAVE.LEAVETYPE.INDEX.CREATELEAVETYPEBUTTONTEXT")),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](11,10,"LEAVE.LEAVETYPE.INDEX.CREATELEAVETYPEBUTTONTEXT")," "),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("formGroup",t.leaveTypeFilterFormGroup),l["\u0275\u0275advance"](4),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](17,12,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",t.companies),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("blockUI","leaveType-list-section"))},directives:[E.t,g.b,y.a,Y.a,s.I,s.t,s.k,v.c,u.a,s.s,s.j,E.s,o.e,I.m,v.b,s.v,j.c],pipes:[A.d,j.b],styles:[""]}),function(e,t,n,a){var l,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var o=e.length-1;o>=0;o--)(l=e[o])&&(i=(r<3?l(i):r>3?l(t,n,i):l(t,n))||i);r>3&&i&&Object.defineProperty(t,n,i)}([Object(o.a)("leaveType-list-section"),k("design:type",Object)],e.prototype,"blockUI",void 0),e})();var Z=n("FGcL"),ee=n("iadO");function te(e,t){1&e&&l["\u0275\u0275element"](0,"div",23)}function ne(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"h5",24),l["\u0275\u0275text"](1,"Apply Leave"),l["\u0275\u0275elementEnd"]())}function ae(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"h5",24),l["\u0275\u0275text"](1,"Edit Leave Application"),l["\u0275\u0275elementEnd"]())}function le(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"h5",24),l["\u0275\u0275text"](1,"Re-apply Leave"),l["\u0275\u0275elementEnd"]())}function re(e,t){if(1&e&&(l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275elementStart"](1,"mat-option",25),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275propertyInterpolate"]("value",e.id),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](e.companyName)}}function ie(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"COMMON.SELECT.COMPANYID.REQUIERED_ERROR_TEXT")))}function oe(e,t){if(1&e&&(l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275elementStart"](1,"mat-option",25),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275propertyInterpolate"]("value",e.id),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](e.fullName)}}function pe(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"COMMON.SELECT.EMPLOYEEID.REQUIERED_ERROR_TEXT")))}function se(e,t){if(1&e&&(l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275elementStart"](1,"mat-option",25),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275propertyInterpolate"]("value",e.id),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](e.leaveTypeName)}}function de(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"LEAVE.LEAVEAPPLICATION.CREATE.ERROR.LEAVE_TYPE_ERROR_TEXT")))}function me(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT")))}function ce(e,t){1&e&&l["\u0275\u0275element"](0,"mat-error")}function Ee(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT")))}function ve(e,t){1&e&&l["\u0275\u0275element"](0,"mat-error")}function ue(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"LEAVE.LEAVEAPPLICATION.CREATE.ERROR.NUMBER_OF_DAYS_ERROR_TEXT")))}function he(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1,"Reason is required"),l["\u0275\u0275elementEnd"]())}function fe(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1,"Max length should be 50"),l["\u0275\u0275elementEnd"]())}function ye(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275elementStart"](1,"div",26),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",e.errorMessages," ")}}function ge(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"button",27),l["\u0275\u0275listener"]("click",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().onSubmit()})),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()}2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"COMMON.LEAVE_REAPPLY_BUTTON_TEXT")))}function Ie(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"button",27),l["\u0275\u0275listener"]("click",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().onSubmit()})),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()}2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"COMMON.LEAVE_APPLY_BUTTON_TEXT")))}const Ae=function(e){return{"is-invalid":e}};let Ce=(()=>{class e extends G.a{constructor(e,t,n,a,r,i,o,s,d,m){super(m),this.companyService=e,this.employeeService=t,this.leaveTypeService=n,this.dialogRef=a,this.formBuilder=r,this.alertService=i,this.leaveApplicationService=o,this.datePipe=s,this.onLeaveApplicationApplyEvent=new l.EventEmitter,this.onLeaveApplicationEditEvent=new l.EventEmitter,this.onLeaveApproveEvent=new l.EventEmitter,this.submitted=!1,this.isAdmin=!1,this.loading=!1,this.isEditMode=!1,this.showApplyButton=!1,this.showReApplyButton=!1,this.editMode=!1,this.leaveApplication=new p.ib,isNaN(d)&&(this.leaveApplication=new p.ib(d),this.companyId=this.leaveApplication.companyId,this.leaveApplication.id&&"9"===this.leaveApplication.approvalStatus&&(this.showReApplyButton=!0)),this.leaveApplication.id&&!this.showReApplyButton&&(this.isEditMode=!0),this.buildForm(),this.getAllCompanies(),this.getAllEmployees(),this.employeeId=this.authService.getLoggedInUserInfo().employeeId,this.isAdmin=this.authService.isAdmin,this.onChangeCompany()}ngOnInit(){this.getAllCompanies(),this.getAllEmployees(),this.leaveApplication.employeeId=this.employeeId,this.applyLeaveForm.patchValue({companyId:this.companyId,employeeId:this.employeeId}),this.applyLeaveForm.updateValueAndValidity(),this.leaveApplication.id&&(this.startDate=new Date(this.leaveApplication.startDate),this.endDate=new Date(this.leaveApplication.endDate),this.id=this.leaveApplication.id,this.calculateDiffOfDays())}getAllCompanies(){this.companyService.getAllCompanies().subscribe(e=>{this.companies=e})}onChangeCompany(){this.companyId=this.f.companyId.value,this.companyId&&this.getAllLeaveTypeByEmployeeId()}getAllLeaveTypeByCompanyId(e){this.leaveTypeService.getAllLeaveTypeByCompanyIdForCombo(e).subscribe(e=>{this.leaveTypes=e})}getAllLeaveTypeByEmployeeId(){this.loading=!0,this.leaveTypeService.getAllLeaveTypeByEmployeeId(this.employeeId).subscribe(e=>{this.leaveTypes=e,this.loading=!1},()=>{this.loading=!1})}onChangeLeaveType(){this.leaveTypeId=this.f.leaveTypeId.value}onChangeEmployee(){this.employeeId=this.f.employeeId.value,this.getAllLeaveTypeByEmployeeId()}getAllEmployees(){this.employeeService.getAllEmployees().subscribe(e=>{this.employees=e})}onChangeStartDate(e){this.startDate=new Date(e.value),this.calculateDiffOfDays()}onChangeEndDate(e){this.endDate=new Date(e.value),this.calculateDiffOfDays()}buildForm(){this.applyLeaveForm=this.formBuilder.group({companyId:[this.leaveApplication.companyId,[s.G.required]],employeeId:[this.leaveApplication.employeeId,[s.G.required]],leaveTypeId:[this.leaveApplication.leaveTypeId,[s.G.required]],startDate:[this.leaveApplication.startDate,[s.G.required]],endDate:[this.leaveApplication.endDate,[s.G.required]],leaveDays:[this.leaveApplication.noOfDays,[s.G.required]],reason:[this.leaveApplication.reason,[s.G.required,s.G.maxLength(50)]]})}onSubmit(){this.submitted=!0,this.applyLeaveForm.invalid||(void 0===this.leaveApplication.id||this.showReApplyButton?this.saveLeaveApplication():this.editLeaveApplication())}saveLeaveApplication(){let e="";e=this.leaveApplication.id?new Date(this.leaveApplication.startDate).getFullYear().toString():new Date(this.applyLeaveForm.value.startDate).getFullYear().toString(),this.leaveApplication=new p.ib(this.applyLeaveForm.value),this.leaveApplication.leaveCalendar=e,this.leaveApplication.startDate=this.datePipe.transform(this.leaveApplication.startDate,"yyyy-MM-dd hh:mm"),this.leaveApplication.endDate=this.datePipe.transform(this.leaveApplication.endDate,"yyyy-MM-dd hh:mm"),this.loading=!0,this.leaveApplicationService.applyLeave(this.leaveApplication).subscribe(e=>{this.onLeaveApplicationApplyEvent.emit(this.leaveApplication.id),!0===e.status?(this.isFormValid=!0,this.alertService.success("Leave applied successfully"),this.dialogRef.close()):(this.isFormValid=!1,this.errorMessages=e.message),this.loading=!1},e=>{this.showErrorMessage(e),this.loading=!1})}editLeaveApplication(){let e="";e=this.leaveApplication.id?new Date(this.leaveApplication.startDate).getFullYear().toString():new Date(this.applyLeaveForm.value.startDate).getFullYear().toString();let t=new p.ib(this.applyLeaveForm.value);this.leaveApplication=Object.assign({},t),null!==t&&(this.leaveApplication.leaveCalendar=e,this.leaveApplication.id=this.id,this.leaveApplication.startDate=this.datePipe.transform(t.startDate,"yyyy-MM-dd hh:mm"),this.leaveApplication.endDate=this.datePipe.transform(t.endDate,"yyyy-MM-dd hh:mm"),this.loading=!0,this.leaveApplicationService.updateLeave(this.leaveApplication).subscribe(e=>{this.onLeaveApplicationEditEvent.emit(this.leaveApplication.id),!0===e.status?(this.isFormValid=!0,this.alertService.success("Leave updated successfully"),this.dialogRef.close()):(this.isFormValid=!1,this.errorMessages=e.message),this.loading=!1},e=>{this.showErrorMessage(e),this.loading=!1}))}close(){this.dialogRef.close()}showErrorMessage(e){console.log(e)}get f(){return this.applyLeaveForm.controls}calculateDiffOfDays(){if(this.startDate&&this.endDate){let e=Math.abs(this.endDate-this.startDate);this.f.leaveDays.setValue(e/864e5+1)}}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](m.u),l["\u0275\u0275directiveInject"](m.U),l["\u0275\u0275directiveInject"](m.hb),l["\u0275\u0275directiveInject"](d.i),l["\u0275\u0275directiveInject"](s.g),l["\u0275\u0275directiveInject"](c.a),l["\u0275\u0275directiveInject"](m.eb),l["\u0275\u0275directiveInject"](E.f),l["\u0275\u0275directiveInject"](d.a),l["\u0275\u0275directiveInject"](l.Injector))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-create-leave-application"]],features:[l["\u0275\u0275InheritDefinitionFeature"]],decls:85,vars:76,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],["mat-dialog-title","",4,"ngIf"],["enctype","multipart/form-data",1,"leaveApplication-from",3,"formGroup"],[1,"mat-typography"],[1,"row"],[1,"col-12"],[1,"form-group"],["appearance","outline"],["matInput","","formControlName","companyId",3,"value","placeholder","valueChange","selectionChange"],[4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","employeeId","disabled","",3,"value","placeholder","valueChange","selectionChange"],[1,"col-md-6"],["matInput","","formControlName","leaveTypeId","placeholder","Leave Type",3,"value","valueChange","selectionChange"],["matInput","","formControlName","startDate","placeholder","Start Date",3,"matDatepicker","ngClass","click","dateChange"],["matSuffix","",3,"for"],["startDate",""],["matInput","","formControlName","endDate","placeholder","End date",3,"matDatepicker","ngClass","click","dateChange"],["endDate",""],["type","number","matInput","","formControlName","leaveDays",3,"placeholder","ngClass"],["matInput","","formControlName","reason",3,"placeholder","ngClass"],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","","class","btn btn-success",3,"click",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],["mat-dialog-title",""],[3,"value"],[1,"d-flex"],["mat-raised-button","",1,"btn","btn-success",3,"click"]],template:function(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275template"](0,te,1,0,"div",0),l["\u0275\u0275template"](1,ne,2,0,"h5",1),l["\u0275\u0275template"](2,ae,2,0,"h5",1),l["\u0275\u0275template"](3,le,2,0,"h5",1),l["\u0275\u0275elementStart"](4,"form",2),l["\u0275\u0275elementStart"](5,"mat-dialog-content",3),l["\u0275\u0275elementStart"](6,"div",4),l["\u0275\u0275elementStart"](7,"div",5),l["\u0275\u0275elementStart"](8,"div",6),l["\u0275\u0275elementStart"](9,"mat-form-field",7),l["\u0275\u0275elementStart"](10,"mat-label"),l["\u0275\u0275text"](11),l["\u0275\u0275pipe"](12,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](13,"mat-select",8),l["\u0275\u0275listener"]("valueChange",(function(e){return t.companyId=e}))("selectionChange",(function(){return t.onChangeCompany()})),l["\u0275\u0275pipe"](14,"translate"),l["\u0275\u0275template"](15,re,3,2,"ng-container",9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](16,ie,3,3,"mat-error",10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](17,"div",5),l["\u0275\u0275elementStart"](18,"div",6),l["\u0275\u0275elementStart"](19,"mat-form-field",7),l["\u0275\u0275elementStart"](20,"mat-label"),l["\u0275\u0275text"](21),l["\u0275\u0275pipe"](22,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](23,"mat-select",11),l["\u0275\u0275listener"]("valueChange",(function(e){return t.employeeId=e}))("selectionChange",(function(){return t.onChangeEmployee()})),l["\u0275\u0275pipe"](24,"translate"),l["\u0275\u0275template"](25,oe,3,2,"ng-container",9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](26,pe,3,3,"mat-error",10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](27,"div",12),l["\u0275\u0275elementStart"](28,"div",6),l["\u0275\u0275elementStart"](29,"mat-form-field",7),l["\u0275\u0275elementStart"](30,"mat-label"),l["\u0275\u0275text"](31),l["\u0275\u0275pipe"](32,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](33,"mat-select",13),l["\u0275\u0275listener"]("valueChange",(function(e){return t.leaveApplication.leaveTypeId=e}))("selectionChange",(function(){return t.onChangeLeaveType()})),l["\u0275\u0275template"](34,se,3,2,"ng-container",9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](35,de,3,3,"mat-error",10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](36,"div",12),l["\u0275\u0275elementStart"](37,"div",6),l["\u0275\u0275elementStart"](38,"mat-form-field",7),l["\u0275\u0275elementStart"](39,"mat-label"),l["\u0275\u0275text"](40),l["\u0275\u0275pipe"](41,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](42,"input",14),l["\u0275\u0275listener"]("click",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275reference"](45).open()}))("dateChange",(function(e){return t.onChangeStartDate(e)})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](43,"mat-datepicker-toggle",15),l["\u0275\u0275element"](44,"mat-datepicker",null,16),l["\u0275\u0275template"](46,me,3,3,"mat-error",10),l["\u0275\u0275template"](47,ce,1,0,"mat-error",10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](48,"div",12),l["\u0275\u0275elementStart"](49,"div",6),l["\u0275\u0275elementStart"](50,"mat-form-field",7),l["\u0275\u0275elementStart"](51,"mat-label"),l["\u0275\u0275text"](52),l["\u0275\u0275pipe"](53,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](54,"input",17),l["\u0275\u0275listener"]("click",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275reference"](57).open()}))("dateChange",(function(e){return t.onChangeEndDate(e)})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](55,"mat-datepicker-toggle",15),l["\u0275\u0275element"](56,"mat-datepicker",null,18),l["\u0275\u0275template"](58,Ee,3,3,"mat-error",10),l["\u0275\u0275template"](59,ve,1,0,"mat-error",10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](60,"div",12),l["\u0275\u0275elementStart"](61,"div",6),l["\u0275\u0275elementStart"](62,"mat-form-field",7),l["\u0275\u0275elementStart"](63,"mat-label"),l["\u0275\u0275text"](64),l["\u0275\u0275pipe"](65,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](66,"input",19),l["\u0275\u0275pipe"](67,"translate"),l["\u0275\u0275template"](68,ue,3,3,"mat-error",10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](69,"div",6),l["\u0275\u0275elementStart"](70,"mat-form-field",7),l["\u0275\u0275elementStart"](71,"mat-label"),l["\u0275\u0275text"](72),l["\u0275\u0275pipe"](73,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](74,"input",20),l["\u0275\u0275pipe"](75,"translate"),l["\u0275\u0275template"](76,he,2,0,"mat-error",10),l["\u0275\u0275template"](77,fe,2,0,"mat-error",10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](78,ye,3,1,"mat-error",10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](79,"mat-dialog-actions"),l["\u0275\u0275elementStart"](80,"button",21),l["\u0275\u0275listener"]("click",(function(){return t.close()})),l["\u0275\u0275text"](81),l["\u0275\u0275pipe"](82,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](83,ge,3,3,"button",22),l["\u0275\u0275template"](84,Ie,3,3,"button",22),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275reference"](45),n=l["\u0275\u0275reference"](57);l["\u0275\u0275property"]("ngIf",t.loading),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!t.isEditMode&&!t.showReApplyButton),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.isEditMode&&!t.showReApplyButton),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.showReApplyButton),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("formGroup",t.applyLeaveForm),l["\u0275\u0275advance"](7),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](12,44,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](14,46,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),l["\u0275\u0275property"]("value",t.companyId),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",t.companies),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](22,48,"COMMON.SELECT.EMPLOYEEID.PLACEHOLDER")),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](24,50,"COMMON.SELECT.EMPLOYEEID.PLACEHOLDER")),l["\u0275\u0275property"]("value",t.employeeId),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",t.employees),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.employeeId.errors&&t.f.employeeId.errors.required),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](32,52,"LEAVE.LEAVETYPE.INDEX.TITLE")),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("value",t.leaveApplication.leaveTypeId),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngForOf",t.leaveTypes),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.leaveTypeId.errors&&t.f.leaveTypeId.errors.required),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](41,54,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("matDatepicker",e)("ngClass",l["\u0275\u0275pureFunction1"](68,Ae,t.f.startDate.errors)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("for",e),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startDate.errors&&t.f.startDate.errors.required),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startDate.errors&&t.f.startDate.errors.maxlength),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](53,56,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("matDatepicker",n)("ngClass",l["\u0275\u0275pureFunction1"](70,Ae,t.f.endDate.errors)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("for",n),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endDate.errors&&t.f.endDate.errors.required),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endDate.errors&&t.f.endDate.errors.maxlength),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](65,58,"LEAVE.LEAVEAPPLICATION.CREATE.LEAVEDURATION")),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](67,60,"LEAVE.LEAVEAPPLICATION.CREATE.LEAVEDURATION")),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](72,Ae,t.submitted&&t.f.leaveDays.errors)),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.leaveDays.errors&&t.f.leaveDays.errors.required),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](73,62,"LEAVE.LEAVEAPPLICATION.CREATE.REASON.PLACEHOLDER")),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](75,64,"LEAVE.LEAVEAPPLICATION.CREATE.REASON.PLACEHOLDER")),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](74,Ae,t.submitted&&t.f.reason.errors)),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.reason.errors&&t.f.reason.errors.required),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.reason.errors&&t.f.reason.errors.maxlength),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!t.isFormValid),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](82,66,"COMMON.CANCEL_BUTTON_TEXT")),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",t.showReApplyButton),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!t.showReApplyButton)}},directives:[E.t,s.I,s.t,s.k,d.g,v.c,v.g,u.a,s.s,s.j,E.s,h.b,s.d,ee.h,E.q,ee.j,v.j,ee.f,s.y,d.c,g.b,d.d,d.j,I.m,v.b],pipes:[A.d],styles:[""]}),e})();var Te=n("6VUB"),Se=n("/OGo"),Le=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function xe(e,t){1&e&&l["\u0275\u0275element"](0,"div",23)}function be(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",26),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e.id),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",e.companyName," ")}}function Re(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1,"Company is required"),l["\u0275\u0275elementEnd"]())}function Oe(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",11),l["\u0275\u0275elementStart"](1,"mat-form-field",12),l["\u0275\u0275elementStart"](2,"mat-label"),l["\u0275\u0275text"](3),l["\u0275\u0275pipe"](4,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"mat-select",24),l["\u0275\u0275listener"]("selectionChange",(function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().onChangeCompany(t.value)})),l["\u0275\u0275pipe"](6,"translate"),l["\u0275\u0275template"](7,be,2,2,"mat-option",25),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](8,Re,2,0,"mat-error",16),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](4,4,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](6,6,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",e.companies),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.submitted&&e.f.companyId.errors&&e.f.companyId.errors.required)}}function Ne(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",27),l["\u0275\u0275element"](1,"app-search-filter",28),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("companyId",e.companyId)}}function De(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT")))}function Be(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT")))}function Pe(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",26),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e.leaveTypeName),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",e.leaveTypeName," ")}}function Me(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",29),l["\u0275\u0275elementStart"](1,"mat-form-field",12),l["\u0275\u0275elementStart"](2,"mat-label"),l["\u0275\u0275text"](3,"Leave Type Name"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"mat-select",30),l["\u0275\u0275listener"]("selectionChange",(function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().onChangeLeaveTypeName(t)})),l["\u0275\u0275template"](5,Pe,2,2,"mat-option",25),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](5),l["\u0275\u0275property"]("ngForOf",e.leaveTypes)}}function Fe(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",26),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e.id),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function Ve(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",29),l["\u0275\u0275elementStart"](1,"mat-form-field",12),l["\u0275\u0275elementStart"](2,"mat-label"),l["\u0275\u0275text"](3,"Status"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"mat-select",31),l["\u0275\u0275listener"]("selectionChange",(function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().onChangeStatus(t)})),l["\u0275\u0275template"](5,Fe,2,2,"mat-option",25),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](5),l["\u0275\u0275property"]("ngForOf",e.statuses)}}function we(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"th"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"EMPLOYEE.EMPLOYEE.INDEX.TABLE.HEADER.EMPLOYEEID")))}function Ge(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"th"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"EMPLOYEE.EMPLOYEE.INDEX.TABLE.HEADER.BRANCH")))}function Ye(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"th"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"EMPLOYEE.EMPLOYEE.INDEX.TABLE.HEADER.DEPARTMENT")))}function je(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"th"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"ATTENDANCE.EMPLOYEEATTENDANCE.INDEX.TABLE.HEADER.DESIGNATION")))}function ke(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"th"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"ATTENDANCE.EMPLOYEEATTENDANCE.INDEX.TABLE.HEADER.EMAIL")))}function _e(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"button",41),l["\u0275\u0275listener"]("click",(function(){l["\u0275\u0275restoreView"](e);const t=l["\u0275\u0275nextContext"]().$implicit;return l["\u0275\u0275nextContext"](2).editLeaveApplication(t)})),l["\u0275\u0275pipe"](1,"translate"),l["\u0275\u0275elementStart"](2,"mat-icon"),l["\u0275\u0275text"](3,"create"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}2&e&&l["\u0275\u0275propertyInterpolate"]("matTooltip",l["\u0275\u0275pipeBind1"](1,1,"COMMON.EDIT_BUTTON_TEXT"))}function qe(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"td"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](e.companyEmployeeId)}}function He(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"td"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](e.branchName)}}function Ue(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"td"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](e.departmentName)}}function Xe(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"td"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](e.designationName)}}function $e(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"td"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](e.loginId)}}function ze(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275elementStart"](1,"td",39),l["\u0275\u0275template"](2,_e,4,3,"button",40),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"td"),l["\u0275\u0275text"](4),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](5,qe,2,1,"td",16),l["\u0275\u0275elementStart"](6,"td"),l["\u0275\u0275text"](7),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"td"),l["\u0275\u0275text"](9),l["\u0275\u0275pipe"](10,"date"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](11,"td"),l["\u0275\u0275text"](12),l["\u0275\u0275pipe"](13,"date"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](14,"td"),l["\u0275\u0275text"](15),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](16,"td"),l["\u0275\u0275text"](17),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](18,"td"),l["\u0275\u0275text"](19),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](20,He,2,1,"td",16),l["\u0275\u0275template"](21,Ue,2,1,"td",16),l["\u0275\u0275template"](22,Xe,2,1,"td",16),l["\u0275\u0275template"](23,$e,2,1,"td",16),l["\u0275\u0275elementStart"](24,"td"),l["\u0275\u0275text"](25),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",n.employeeId===e.employeeId&&("1"===e.approvalStatus||"9"===e.approvalStatus)),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](e.leaveTypeName),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.isAdmin),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](e.employeeName),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind2"](10,14,e.startDate,"dd/MM/yyyy")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind2"](13,17,e.endDate,"dd/MM/yyyy")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](e.leaveDays),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](e.reason),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](e.approvalStatusText),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.isAdmin),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.isAdmin),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.isAdmin),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.isAdmin),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](""===e.notes||null===e.notes?"N/A":e.notes)}}function Qe(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"td",43),l["\u0275\u0275text"](1,"No leave applications found"),l["\u0275\u0275elementEnd"]())}function We(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275template"](1,Qe,2,0,"td",42),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.searched)}}function Ke(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"pagination-controls",49),l["\u0275\u0275listener"]("pageChange",(function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](3).pageChanged(t)})),l["\u0275\u0275elementEnd"]()}}function Je(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",26),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e.value),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",e.text," ")}}function Ze(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",44),l["\u0275\u0275elementStart"](1,"div",45),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"div",45),l["\u0275\u0275template"](4,Ke,1,0,"pagination-controls",46),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"div",47),l["\u0275\u0275elementStart"](6,"mat-form-field"),l["\u0275\u0275elementStart"](7,"mat-select",48),l["\u0275\u0275listener"]("ngModelChange",(function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](2).pageSize=t}))("selectionChange",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](2).onChangePaginationPerPage()})),l["\u0275\u0275pipe"](8,"translate"),l["\u0275\u0275template"](9,Je,2,2,"mat-option",25),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",e.totalItemsText," "),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",e.totalItems>0),l["\u0275\u0275advance"](3),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](8,5,"PAGINATION.PLACEHOLDER")),l["\u0275\u0275property"]("ngModel",e.pageSize),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",e.paginationPageNumbers)}}const et=function(e,t,n){return{id:"pagination",itemsPerPage:e,currentPage:t,totalItems:n}};function tt(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"section",32),l["\u0275\u0275elementStart"](1,"div",33),l["\u0275\u0275elementStart"](2,"table",34),l["\u0275\u0275elementStart"](3,"thead"),l["\u0275\u0275elementStart"](4,"tr",35),l["\u0275\u0275elementStart"](5,"th",36),l["\u0275\u0275text"](6),l["\u0275\u0275pipe"](7,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"th"),l["\u0275\u0275text"](9),l["\u0275\u0275pipe"](10,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](11,we,3,3,"th",16),l["\u0275\u0275elementStart"](12,"th"),l["\u0275\u0275text"](13),l["\u0275\u0275pipe"](14,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](15,"th"),l["\u0275\u0275text"](16),l["\u0275\u0275pipe"](17,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](18,"th"),l["\u0275\u0275text"](19),l["\u0275\u0275pipe"](20,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](21,"th"),l["\u0275\u0275text"](22),l["\u0275\u0275pipe"](23,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](24,"th"),l["\u0275\u0275text"](25),l["\u0275\u0275pipe"](26,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](27,"th"),l["\u0275\u0275text"](28),l["\u0275\u0275pipe"](29,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](30,Ge,3,3,"th",16),l["\u0275\u0275template"](31,Ye,3,3,"th",16),l["\u0275\u0275template"](32,je,3,3,"th",16),l["\u0275\u0275template"](33,ke,3,3,"th",16),l["\u0275\u0275elementStart"](34,"th"),l["\u0275\u0275text"](35),l["\u0275\u0275pipe"](36,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](37,"tbody"),l["\u0275\u0275template"](38,ze,26,20,"tr",37),l["\u0275\u0275pipe"](39,"paginate"),l["\u0275\u0275template"](40,We,2,1,"tr",16),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](41,Ze,10,7,"div",38),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](6),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](7,17,"EMPLOYEE.EMPLOYEE.INDEX.TABLE.HEADER.ACTIONS")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](10,19,"LEAVE.LEAVETYPE.INDEX.TABLE.HEADER.NAME")),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",e.isAdmin),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](14,21,"LEAVE.LEAVEBALANCE.INDEX.TABLE.HEADER.EMPLOYEE_NAME")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](17,23,"COMPANY.FINANCIALYEAR.INDEX.TABLE.HEADER.STARTDATE")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](20,25,"COMPANY.FINANCIALYEAR.INDEX.TABLE.HEADER.ENDDATE")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](23,27,"LEAVE.LEAVEAPPLICATION.CREATE.NO_OF_DAYS.PLACEHOLDER")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](26,29,"LEAVE.LEAVEAPPLICATION.CREATE.REASON.PLACEHOLDER")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](29,31,"LEAVE.LEAVEAPPLICATION.CREATE.STATUS.PLACEHOLDER")),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",e.isAdmin),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.isAdmin),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.isAdmin),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.isAdmin),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](36,33,"LEAVE.LEAVEREQUEST.INDEX.TABLE.HEADER.NOTE")),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngForOf",l["\u0275\u0275pipeBind2"](39,35,e.leaveApplications,l["\u0275\u0275pureFunction3"](38,et,e.pageSize,e.currentPage,e.totalItems))),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",0==e.leaveApplications.length),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.totalItems>0)}}const nt=function(e){return{"is-invalid":e}};let at=(()=>{class e extends G.a{constructor(e,t,n,a,l,r,i,o,p){super(l),this.dialog=e,this.formBuilder=t,this.leaveApplicationService=n,this.companyService=a,this.datePipe=r,this.employeeService=i,this.financialYearService=o,this.leaveTypeService=p,this.leaveApplications=[],this.leaveApplication=new Z.a,this.isAdmin=!1,this.loading=!1,this.searched=!1,this.userId=localStorage.getItem("userId"),this.statuses=[{id:3,name:"Approved"},{name:"Declined",id:9},{name:"Pending",id:1}],this.employeeId=this.authService.getLoggedInUserInfo().employeeId,this.isAdmin=this.authService.isAdmin,this.buildForm();var s=new Date;s.setFullYear(s.getFullYear()-1),this.leaveApplicationFilterFormGroup.updateValueAndValidity()}ngOnInit(){this.onChangeCompany(this.companyId),this.getAllCompanies(),this.setDates(),this.getAllEmployees(),this.getAllLeaveTypeByCompanyId()}buildForm(){this.leaveApplicationFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,s.G.required],startDate:["",s.G.required],endDate:["",s.G.required],statusId:[""]})}getAllEmployees(){this.loading=!0,this.employeeService.getAllEmployees().subscribe(e=>{this.employees=e,this.loading=!1},()=>{this.emptyTable()})}get f(){return this.leaveApplicationFilterFormGroup.controls}onChangeCompany(e){this.companyId=e,e&&(this.getCurrentFinancialYearOfCompanyAndGetLeaveApplicationsOfCurrentYear(),this.emptyTable())}getCurrentFinancialYearOfCompanyAndGetLeaveApplicationsOfCurrentYear(){this.financialYearService.getCurrentFinancialYearByCompanyId(this.companyId).subscribe(e=>{})}getLeaveApplications(){this.submitted=!0,this.leaveApplicationFilterFormGroup.invalid||(this.companyId=this.f.companyId.value,this.startDate=this.f.startDate.value,this.endDate=this.f.endDate.value,this.startDate=this.datePipe.transform(new Date(this.startDate),"yyyy-MM-dd"),this.endDate=this.datePipe.transform(new Date(this.endDate),"yyyy-MM-dd"),this.getLeaveApplicationsByRole())}getAllCompanies(){this.companyService.getAllCompanies().subscribe(e=>{this.companies=e})}applyForLeave(){const e=new d.e;e.disableClose=!0,e.autoFocus=!0,e.panelClass="xHR-dialog";const t=window.screen.width<=576?90:50;e.width=t+"%";var n=new Z.a;n.companyId=this.companyId,e.data=n,this.dialog.open(Ce,e).afterClosed().subscribe(()=>{this.isAdmin?this.getLeaveApplicationsByCompanyId():this.getLeaveApplicationsByEmployeeId()})}editLeaveApplication(e){const t=new d.e;t.disableClose=!0,t.autoFocus=!0,t.panelClass="xHR-dialog";const n=window.screen.width<=576?90:50;t.width=n+"%",t.data=e,this.dialog.open(Ce,t).afterClosed().subscribe(()=>{this.isAdmin?this.getLeaveApplicationsByCompanyId():this.getLeaveApplicationsByEmployeeId()})}getLeaveApplicationsByRole(){this.isAdmin?this.getLeaveApplicationsByCompanyId():this.getLeaveApplicationsByEmployeeId()}getLeaveApplicationsByCompanyId(){this.blockUI.start(),this.loading=!0;let e=this.datePipe.transform(new Date(this.startDate),"MM-dd-yyyy"),t=this.datePipe.transform(new Date(this.endDate),"MM-dd-yyyy");this.leaveApplicationService.getAllLeaveApplicationByCompanyId(this.companyId,e,t).subscribe(e=>{this.leaveApplications=e,this.totalItems=this.leaveApplications.length,this.searched=!0,this.loading=!1,this.generateTotalItemsText(),this.blockUI.stop()},()=>{this.emptyTable()})}getLeaveApplicationsByEmployeeId(){this.blockUI.start(),this.loading=!0;let e=this.datePipe.transform(new Date(this.f.startDate.value),"MM-dd-yyyy"),t=this.datePipe.transform(new Date(this.f.endDate.value),"MM-dd-yyyy");this.leaveApplicationService.getAllLeaveApplicationByEmployeeId(this.employeeId,e,t).subscribe(e=>{this.leaveApplications=e.employeeLeaveApplictions,this.totalItems=this.leaveApplications.length,this.loading=!1,this.searched=!0,this.generateTotalItemsText(),this.blockUI.stop()},()=>{this.emptyTable()})}getLeaveApplicationByCompanyAndParameter(e){if(!this.isAdmin)return void this.getLeaveApplicationsByEmployeeId();this.loading=!0;let t=this.searchFilter.employeeFilterFormGroup,n=this.datePipe.transform(new Date(this.f.startDate.value),"MM-dd-yyyy"),a=this.datePipe.transform(new Date(this.f.endDate.value),"MM-dd-yyyy");this.leaveApplication.companyId=this.companyId,this.leaveApplication.branchIds=t.value.branchId,this.leaveApplication.departmentIds=t.value.departmentId,this.leaveApplication.designationIds=t.value.designationId,this.leaveApplication.searchText=t.value.searchText,this.leaveApplication.startDate=n,this.leaveApplication.endDate=a,this.leaveApplication.leaveTypeName=this.leaveName,this.leaveApplication.approvalStatusText=this.statusType,this.leaveApplicationService.getAllLeaveApplication(this.leaveApplication).subscribe(t=>{this.leaveApplications=t,this.totalItems=this.leaveApplications.length,this.searched=!0,this.loading=!1,!0===e&&(this.currentPage=1),this.generateTotalItemsText(),this.blockUI.stop()},()=>{this.loading=!1})}emptyTable(){this.leaveApplications=[],this.totalItems=0,this.searched=!1,this.loading=!1,this.blockUI.stop()}setDates(){var e=new Date,t=new Date,n=new Date;t.setDate(t.getDate()-1),e.setMonth(e.getMonth()-1),this.f.startDate.setValue(e),this.f.endDate.setValue(n)}getAllLeaveTypeByCompanyId(){this.blockUI.start(),this.loading=!0,this.leaveTypeService.getAllLeaveTypeByCompanyIdForCombo(this.companyId).subscribe(e=>{this.leaveTypes=e,this.loading=!1,this.blockUI.stop()},()=>{this.blockUI.stop(),this.loading=!1})}getAllLeaveTypeByEmployeeId(){this.blockUI.start(),this.loading=!0,this.leaveTypeService.getAllLeaveTypeByEmployeeId(this.employeeId).subscribe(e=>{this.leaveTypes=e,this.loading=!1,console.log(this.leaveTypes),this.blockUI.stop()},()=>{this.blockUI.stop(),this.loading=!1})}onChangeEmployee(e){const t=e.value;this.employeeName=t;let n=this.employees.find(e=>e.fullName===t);this.employeeId=n.id,this.getAllLeaveTypeByEmployeeId()}onChangeStatus(e){this.statusType=e.value}onChangeLeaveTypeName(e){this.leaveName=e.value}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](d.b),l["\u0275\u0275directiveInject"](s.g),l["\u0275\u0275directiveInject"](Se.a),l["\u0275\u0275directiveInject"](m.u),l["\u0275\u0275directiveInject"](l.Injector),l["\u0275\u0275directiveInject"](E.f),l["\u0275\u0275directiveInject"](m.U),l["\u0275\u0275directiveInject"](m.Y),l["\u0275\u0275directiveInject"](m.hb))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-leave-application"]],viewQuery:function(e,t){var n;1&e&&l["\u0275\u0275viewQuery"](Te.a,!0),2&e&&l["\u0275\u0275queryRefresh"](n=l["\u0275\u0275loadQuery"]())&&(t.searchFilter=n.first)},features:[l["\u0275\u0275InheritDefinitionFeature"]],decls:43,vars:34,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-sm-12","col-md-6"],["id","tableLabel"],[1,"col-lg-3","col-md-6","col-sm-12"],["mat-raised-button","","matTooltip","Apply For Leave",1,"btn","btn-success","btn-block","text-center",3,"click"],[1,"create-icon-button"],[3,"formGroup","ngSubmit"],[1,"row"],["class","col-sm-6 col-md-3 col-lg-2",4,"ngIf"],["class","col-12",4,"ngIf"],[1,"col-sm-6","col-md-3","col-lg-2"],["appearance","outline"],["matInput","","formControlName","startDate","placeholder","Start Date",3,"matDatepicker","ngClass","dateChange","click"],["matSuffix","",3,"for"],["startDatePicker",""],[4,"ngIf"],["matInput","","formControlName","endDate",3,"matDatepicker","placeholder","ngClass","dateChange","click"],["endDatePicker",""],["class","col-12 col-md-3 col-lg-2",4,"ngIf"],[1,"col-sm-12","col-md-4","col-lg-2","pt-0"],["type","submit",1,"btn","btn-success","w-100"],["class","pt-3",4,"blockUI"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],["formControlName","companyId",3,"placeholder","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"col-12"],[3,"companyId"],[1,"col-12","col-md-3","col-lg-2"],["placeholder","Leave Type Name","multiple","",3,"selectionChange"],["placeholder","Status","formControlName","statusId","multiple","",3,"selectionChange"],[1,"pt-3"],[1,"table-responsive"],["aria-labelledby","tableLabel",1,"table","table-light","table-hover","table-responsive-sm","text-nowrap"],[1,"table-secondary"],[1,"text-center"],[4,"ngFor","ngForOf"],["class","row justify-content-between",4,"ngIf"],[1,"pl-0","pr-0","px-0","py-0","text-center"],["mat-icon-button","",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","",3,"matTooltip","click"],["class","text-center","colspan","12",4,"ngIf"],["colspan","12",1,"text-center"],[1,"row","justify-content-between"],[1,"col-md-5","col-sm-5","text-left"],["id","pagination","directionLinks","true","previousLabel","","nextLabel","",3,"pageChange",4,"ngIf"],[1,"col-md-2","col-sm-2","text-left"],[3,"ngModel","placeholder","ngModelChange","selectionChange"],["id","pagination","directionLinks","true","previousLabel","","nextLabel","",3,"pageChange"]],template:function(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275template"](0,xe,1,0,"div",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"div",2),l["\u0275\u0275elementStart"](3,"h1",3),l["\u0275\u0275text"](4,"Leave Applications"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"div",4),l["\u0275\u0275elementStart"](6,"button",5),l["\u0275\u0275listener"]("click",(function(){return t.applyForLeave()})),l["\u0275\u0275elementStart"](7,"mat-icon",6),l["\u0275\u0275text"](8,"add"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275text"](9),l["\u0275\u0275pipe"](10,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](11,"form",7),l["\u0275\u0275listener"]("ngSubmit",(function(){return t.getLeaveApplicationByCompanyAndParameter(!0)})),l["\u0275\u0275elementStart"](12,"div",8),l["\u0275\u0275template"](13,Oe,9,8,"div",9),l["\u0275\u0275template"](14,Ne,2,1,"div",10),l["\u0275\u0275elementStart"](15,"div",11),l["\u0275\u0275elementStart"](16,"mat-form-field",12),l["\u0275\u0275elementStart"](17,"mat-label"),l["\u0275\u0275text"](18),l["\u0275\u0275pipe"](19,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](20,"input",13),l["\u0275\u0275listener"]("dateChange",(function(){return t.emptyTable()}))("click",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275reference"](23).open()})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](21,"mat-datepicker-toggle",14),l["\u0275\u0275element"](22,"mat-datepicker",null,15),l["\u0275\u0275template"](24,De,3,3,"mat-error",16),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](25,"div",11),l["\u0275\u0275elementStart"](26,"mat-form-field",12),l["\u0275\u0275elementStart"](27,"mat-label"),l["\u0275\u0275text"](28),l["\u0275\u0275pipe"](29,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](30,"input",17),l["\u0275\u0275listener"]("dateChange",(function(){return t.emptyTable()}))("click",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275reference"](34).open()})),l["\u0275\u0275pipe"](31,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](32,"mat-datepicker-toggle",14),l["\u0275\u0275element"](33,"mat-datepicker",null,18),l["\u0275\u0275template"](35,Be,3,3,"mat-error",16),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](36,Me,6,1,"div",19),l["\u0275\u0275template"](37,Ve,6,1,"div",19),l["\u0275\u0275elementStart"](38,"div",20),l["\u0275\u0275elementStart"](39,"button",21),l["\u0275\u0275text"](40),l["\u0275\u0275pipe"](41,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](42,tt,42,42,"section",22)}if(2&e){const e=l["\u0275\u0275reference"](23),n=l["\u0275\u0275reference"](34);l["\u0275\u0275property"]("ngIf",t.loading),l["\u0275\u0275advance"](9),l["\u0275\u0275textInterpolate1"]("",l["\u0275\u0275pipeBind1"](10,20,"LEAVE.LEAVEAPPLICATION.CREATE.CREATE_BUTTON_TOOLTIP")," "),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("formGroup",t.leaveApplicationFilterFormGroup),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",!t.isAdmin),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.isAdmin),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](19,22,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("matDatepicker",e)("ngClass",l["\u0275\u0275pureFunction1"](30,nt,t.f.startDate.errors)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("for",e),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startDate.errors&&t.f.startDate.errors.required),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](29,24,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](31,26,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),l["\u0275\u0275property"]("matDatepicker",n)("ngClass",l["\u0275\u0275pureFunction1"](32,nt,t.f.endDate.errors)),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("for",n),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endDate.errors&&t.f.endDate.errors.required),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.isAdmin),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.isAdmin),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](41,28,"COMMON.SEARCHTEXT")),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("blockUI","leaveApplication-list-section")}},directives:[E.t,g.b,y.a,Y.a,s.I,s.t,s.k,v.c,v.g,h.b,s.d,ee.h,s.s,s.j,E.q,ee.j,v.j,ee.f,o.e,u.a,E.s,I.m,v.b,Te.a,s.v,j.c],pipes:[A.d,j.b,E.f],styles:[".w-100[_ngcontent-%COMP%]{width:100%}"]}),function(e,t,n,a){var l,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var o=e.length-1;o>=0;o--)(l=e[o])&&(i=(r<3?l(i):r>3?l(t,n,i):l(t,n))||i);r>3&&i&&Object.defineProperty(t,n,i)}([Object(o.a)("leaveApplication-list-section"),Le("design:type",Object)],e.prototype,"blockUI",void 0),e})();var lt=n("40fR"),rt=n("FXLl"),it=n("tk/3"),ot=n("NMGg");let pt=(()=>{class e extends rt.a{constructor(e,t){super(),this.http=e,this.appSettingsService=t,this.leaveProcessUrl=this.Base_API_URL+"LeaveBalance",this.leaveProcessUrl=this.appSettingsService.apiBaseUrl+"LeaveBalance"}processLeave(e){var t={headers:new it.d({"Content-Type":"application/json","No-Auth":"False"})};return this.http.post(this.leaveProcessUrl+"/process-balance",e,t)}getEmployeeLeaveBalanceByCalendar(e,t){return this.http.get(this.leaveProcessUrl+"/employee/"+e+"/calendar/"+t)}getLeaveBalanceSummary(e){var t={headers:new it.d({"Content-Type":"application/json","No-Auth":"False"})};return this.http.post(this.leaveProcessUrl+"/leave-balance",e,t)}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275inject"](it.b),l["\u0275\u0275inject"](ot.a))},e.\u0275prov=l["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class st{constructor(e){Object.assign(this,e)}}var dt=n("5W1o");function mt(e,t){1&e&&l["\u0275\u0275element"](0,"div",15)}function ct(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275elementStart"](1,"div",16),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",e.errorMessages," ")}}function Et(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",17),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e.id),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",e.companyName," ")}}function vt(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](2,1,"COMMON.SELECT.COMPANYID.REQUIERED_ERROR_TEXT"),""))}function ut(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",17),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e.id),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",e.financialYearName," ")}}function ht(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1,"Financial Year is required"),l["\u0275\u0275elementEnd"]())}function ft(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",17),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e.id),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",e.fullName," ")}}function yt(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1,"Employee is required"),l["\u0275\u0275elementEnd"]())}let gt=(()=>{class e extends G.a{constructor(e,t,n,a,r,i,o,s){super(s),this.dialog=e,this.formBuilder=t,this.companyService=n,this.financialYearService=a,this.leaveBalanceService=r,this.employeeService=i,this.alertService=o,this.injector=s,this.onLeaveProcessEvent=new l.EventEmitter,this.leaveProcess=new st,this.employeeId=p.cb.empty,this.loading=!1,this.setInitialValue(),this.buildForm(),this.onChangeCompany(this.companyId),this.getAllCompanies(),this.getAllFinancialYearByCompanyId()}ngOnInit(){this.setInitialValue(),this.buildForm(),this.getAllCompanies(),this.getAllFinancialYearByCompanyId()}get f(){return this.leaveProcessFilterFormGroup.controls}buildForm(){this.leaveProcessFilterFormGroup=this.formBuilder.group({companyId:[this.companyId],leaveCalendarId:[this.leaveProcess.leaveCalendarId,[s.G.required]],employeeId:[this.leaveProcess.employeeId]})}setInitialValue(){var e=new Date;this.processingStartDate=e,this.processingEndDate=e}getAllEmployees(){this.employeeService.getAllEmployees().subscribe(e=>{this.employees=e})}onChangeCompany(e){this.companyId=e,e&&(this.getAllFinancialYearByCompanyId(),this.getAllEmployees())}onChangeFinancialYears(e){var t=e.source.selected.viewValue;this.leaveCalendarId=e.source.value,this.financialYearName=t}getAllFinancialYearByCompanyId(){this.financialYearService.getAllFinancialYearByCompanyId(this.companyId).subscribe(e=>{this.financialYears=e})}getAllCompanies(){this.companyService.getAllCompanies().subscribe(e=>{this.companies=e})}leaveProcesses(){this.leaveProcess.leaveCalendarId=this.leaveCalendarId,this.leaveProcess=new st(this.leaveProcessFilterFormGroup.value),this.leaveProcess.companyId=this.companyId,this.loading=!0,this.leaveBalanceService.processLeave(this.leaveProcess).subscribe(e=>{this.onLeaveProcessEvent.emit(this.leaveProcess.id),!0===e.status?(this.isFormValid=!0,this.alertService.success("Leave Process Successfully")):(this.isFormValid=!1,this.errorMessages=e.message),this.loading=!1},e=>{this.showErrorMessage(e),this.loading=!1})}processLeave(){this.submitted=!0,this.leaveProcessFilterFormGroup.invalid||(this.companyId=this.f.companyId.value,this.leaveProcesses())}showErrorMessage(e){console.log(e)}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](d.b),l["\u0275\u0275directiveInject"](s.g),l["\u0275\u0275directiveInject"](m.u),l["\u0275\u0275directiveInject"](m.Y),l["\u0275\u0275directiveInject"](pt),l["\u0275\u0275directiveInject"](dt.a),l["\u0275\u0275directiveInject"](c.a),l["\u0275\u0275directiveInject"](l.Injector))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-leave-process"]],features:[l["\u0275\u0275InheritDefinitionFeature"]],decls:36,vars:15,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],["id","container"],["id","tableLabel"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-12"],["appearance","outline"],["placeholder","Company","formControlName","companyId",3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-6"],["placeholder","Financial Year","formControlName","leaveCalendarId",3,"value","valueChange","selectionChange"],["placeholder","Employees","formControlName","employeeId",3,"value","valueChange"],[1,"col-sm-6","float-right"],["type","submit",1,"btn","btn-success"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[1,"d-flex"],[3,"value"]],template:function(e,t){1&e&&(l["\u0275\u0275template"](0,mt,1,0,"div",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"h1",2),l["\u0275\u0275text"](3),l["\u0275\u0275pipe"](4,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](5,ct,3,1,"mat-error",3),l["\u0275\u0275elementStart"](6,"form",4),l["\u0275\u0275listener"]("ngSubmit",(function(){return t.processLeave()})),l["\u0275\u0275elementStart"](7,"div",5),l["\u0275\u0275elementStart"](8,"div",6),l["\u0275\u0275elementStart"](9,"mat-form-field",7),l["\u0275\u0275elementStart"](10,"mat-label"),l["\u0275\u0275text"](11,"Company"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](12,"mat-select",8),l["\u0275\u0275listener"]("valueChange",(function(e){return t.leaveProcess.companyId=e}))("selectionChange",(function(e){return t.onChangeCompany(e.value)})),l["\u0275\u0275template"](13,Et,2,2,"mat-option",9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](14,vt,3,3,"mat-error",3),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](15,"div",5),l["\u0275\u0275elementStart"](16,"div",10),l["\u0275\u0275elementStart"](17,"mat-form-field",7),l["\u0275\u0275elementStart"](18,"mat-label"),l["\u0275\u0275text"](19,"Financial Year"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](20,"mat-select",11),l["\u0275\u0275listener"]("valueChange",(function(e){return t.leaveProcess.leaveCalendarId=e}))("selectionChange",(function(e){return t.onChangeFinancialYears(e)})),l["\u0275\u0275template"](21,ut,2,2,"mat-option",9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](22,ht,2,0,"mat-error",3),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](23,"div",10),l["\u0275\u0275elementStart"](24,"mat-form-field",7),l["\u0275\u0275elementStart"](25,"mat-label"),l["\u0275\u0275text"](26,"Employee"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](27,"mat-select",12),l["\u0275\u0275listener"]("valueChange",(function(e){return t.leaveProcess.employeeId=e})),l["\u0275\u0275template"](28,ft,2,2,"mat-option",9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](29,yt,2,0,"mat-error",3),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](30,"div",5),l["\u0275\u0275element"](31,"br"),l["\u0275\u0275elementStart"](32,"div",5),l["\u0275\u0275elementStart"](33,"div",13),l["\u0275\u0275elementStart"](34,"button",14),l["\u0275\u0275text"](35,"Submit"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275property"]("ngIf",t.loading),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](4,13,"LEAVE.LEAVEPROCESS.INDEX.TITLE"),""),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",!t.isFormValid),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("formGroup",t.leaveProcessFilterFormGroup),l["\u0275\u0275advance"](6),l["\u0275\u0275property"]("value",t.leaveProcess.companyId),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngForOf",t.companies),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),l["\u0275\u0275advance"](6),l["\u0275\u0275property"]("value",t.leaveProcess.leaveCalendarId),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngForOf",t.financialYears),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.leaveCalendarId.errors&&t.f.leaveCalendarId.errors.required),l["\u0275\u0275advance"](5),l["\u0275\u0275property"]("value",t.leaveProcess.employeeId),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngForOf",t.employees),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.leaveCalendarId.errors&&t.f.leaveCalendarId.errors.required))},directives:[E.t,s.I,s.t,s.k,v.c,v.g,u.a,s.s,s.j,E.s,v.b,I.m],pipes:[A.d],styles:[""]}),e})();var It=n("Vvy3"),At=n("Yj9t");function Ct(e,t){1&e&&l["\u0275\u0275element"](0,"div",22)}function Tt(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",24),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e.id),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",e.fullName," ")}}function St(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](2,1,"LEAVE.LEAVEBALANCE.INDEX.EMPLOYEE.ERROR_TEXT")," "))}function Lt(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",8),l["\u0275\u0275elementStart"](1,"mat-form-field",9),l["\u0275\u0275elementStart"](2,"mat-label"),l["\u0275\u0275text"](3),l["\u0275\u0275pipe"](4,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"mat-select",23),l["\u0275\u0275listener"]("selectionChange",(function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().onChangeEmployee(t)})),l["\u0275\u0275pipe"](6,"translate"),l["\u0275\u0275template"](7,Tt,2,2,"mat-option",11),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](8,St,3,3,"mat-error",12),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](4,5,"LEAVE.LEAVEBALANCE.INDEX.EMPLOYEE.PLACEHOLDER")),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](6,7,"LEAVE.LEAVEBALANCE.INDEX.EMPLOYEE.PLACEHOLDER")),l["\u0275\u0275property"]("disabled",!e.isAdmin),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",e.employees),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.submitted&&e.f.employeeId.errors)}}function xt(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",25),l["\u0275\u0275element"](1,"app-search-filter",26),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("companyId",e.companyId)}}function bt(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",24),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e.financialYearName),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",e.financialYearName," ")}}function Rt(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"COMMON.SELECT.FINANCIALYEARID.REQUIERED_ERROR_TEXT")))}function Ot(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",24),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e.leaveTypeName),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",e.leaveTypeName," ")}}function Nt(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](2,1,"LEAVE.LEAVEBALANCE.INDEX.EMPLOYEE.ERROR_TEXT")," "))}function Dt(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"th"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"EMPLOYEE.EMPLOYEE.INDEX.TABLE.HEADER.EMPLOYEEID")))}function Bt(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"th"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"EMPLOYEE.EMPLOYEE.INDEX.TABLE.HEADER.BRANCH")))}function Pt(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"th"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"EMPLOYEE.EMPLOYEE.INDEX.TABLE.HEADER.DEPARTMENT")))}function Mt(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"th"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"ATTENDANCE.EMPLOYEEATTENDANCE.INDEX.TABLE.HEADER.DESIGNATION")))}function Ft(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"th"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"ATTENDANCE.EMPLOYEEATTENDANCE.INDEX.TABLE.HEADER.EMAIL")))}function Vt(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"td"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](e.companyEmployeeId)}}function wt(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"td"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](e.branchName)}}function Gt(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"td"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](e.departmentName)}}function Yt(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"td"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](e.designationName)}}function jt(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"td"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](e.loginId)}}function kt(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275template"](1,Vt,2,1,"td",12),l["\u0275\u0275elementStart"](2,"td"),l["\u0275\u0275text"](3),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"td"),l["\u0275\u0275text"](5),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"td"),l["\u0275\u0275text"](7),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"td"),l["\u0275\u0275text"](9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](10,"td"),l["\u0275\u0275text"](11),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](12,wt,2,1,"td",12),l["\u0275\u0275template"](13,Gt,2,1,"td",12),l["\u0275\u0275template"](14,Yt,2,1,"td",12),l["\u0275\u0275template"](15,jt,2,1,"td",12),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.isAdmin),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](e.employeeName),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](e.leaveTypeName),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](e.maximumBalance),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](e.usedBalance),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](e.remainingBalance),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.isAdmin),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.isAdmin),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.isAdmin),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.isAdmin)}}function _t(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",27),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](2,1,"PAYROLL.PAIDSALARY.INDEX.EMPTYMESSAGE"),""))}function qt(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"pagination-controls",33),l["\u0275\u0275listener"]("pageChange",(function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](2).pageChanged(t)})),l["\u0275\u0275elementEnd"]()}}function Ht(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",24),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e.value),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",e.text," ")}}function Ut(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",28),l["\u0275\u0275elementStart"](1,"div",29),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"div",29),l["\u0275\u0275template"](4,qt,1,0,"pagination-controls",30),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"div",31),l["\u0275\u0275elementStart"](6,"mat-form-field"),l["\u0275\u0275elementStart"](7,"mat-select",32),l["\u0275\u0275listener"]("ngModelChange",(function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().pageSize=t}))("selectionChange",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().onChangePaginationPerPage()})),l["\u0275\u0275pipe"](8,"translate"),l["\u0275\u0275template"](9,Ht,2,2,"mat-option",11),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",e.totalItemsText," "),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",e.totalItems>0),l["\u0275\u0275advance"](3),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](8,5,"PAGINATION.PLACEHOLDER")),l["\u0275\u0275property"]("ngModel",e.pageSize),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",e.paginationPageNumbers)}}const Xt=function(e,t,n){return{id:"pagination",itemsPerPage:e,currentPage:t,totalItems:n}};let $t=(()=>{class e extends G.a{constructor(e,t,n,a,l,r,i){super(e),this.injector=e,this.formBuilder=t,this.employeeService=n,this.leaveBalanceService=a,this.financialYearService=l,this.leaveTypeService=r,this.dialog=i,this.input=new p.V,this.companyId=localStorage.getItem("companyId"),this.leaveBalances=[],this.leaveBalance=new p.jb,this.leaveTypes=[],this.allLeaveBalances=[],this.financialYear="",this.loading=!1,this.submitted=!1,this.isSearched=!1,this.isAdmin=!1,this.isAdmin=this.authService.isAdmin,this.isAdmin||(this.employeeId=this.authService.getLoggedInUserInfo().employeeId),this.getAllEmployees(),this.getAllFinancialYearByCompanyId()}ngOnInit(){this.buildForm(),this.getAllLeaveTypeByCompanyId()}getAllFinancialYearByCompanyId(){this.financialYearService.getAllFinancialYearByCompanyId(this.companyId).subscribe(e=>{this.financialYears=e})}getAllLeaveTypeByCompanyId(){this.loading=!0,this.leaveTypeService.getAllLeaveTypeByCompanyId(this.companyId).subscribe(e=>{this.loading=!1,this.leaveTypes=e.map(e=>({leaveTypeName:e.leaveTypeName})),this.leaveTypes.unshift({leaveTypeName:"All"})},e=>{this.loading=!1})}onChangeFinancialYear(e){this.financialYear=e,this.emptyTable()}buildForm(){this.leaveBalanceFilterFormGroup=this.formBuilder.group({financialYearId:[this.financialYear,s.G.required],employeeId:[this.employeeId]})}getAllEmployees(){this.loading=!0,this.employeeService.getAllEmployees().subscribe(e=>{this.employees=e,this.loading=!1},()=>{this.emptyTable()})}onChangeEmployee(e){this.employeeId=e.source.value,this.emptyTable()}onChangeLeaveType(e){this.leaveTypeName=e.value}onSubmit(){this.submitted=!0,this.leaveBalanceFilterFormGroup.invalid||(this.isAdmin?this.getLeaveBalance(!0):this.getEmployeeLeaveBalance())}getEmployeeLeaveBalance(){this.loading=!0,this.loading=!0,this.leaveBalanceService.getEmployeeLeaveBalanceByCalendar(this.employeeId,this.financialYear).subscribe(e=>{this.leaveBalances=e,this.loading=!1,this.allLeaveBalances=e,this.totalItems=this.leaveBalances.length,this.generateTotalItemsText(),this.processeUI()},()=>{this.emptyTable()})}getLeaveBalance(e){this.loading=!0;let t=this.searchFilter.employeeFilterFormGroup;this.leaveBalance.companyId=this.companyId,this.leaveBalance.leaveCalendar=this.leaveBalanceFilterFormGroup.value.financialYearId,this.leaveBalance.branchIds=t.value.branchId,this.leaveBalance.departmentIds=t.value.departmentId,this.leaveBalance.designationIds=t.value.designationId,this.leaveBalance.searchText=t.value.searchText,this.leaveBalanceService.getLeaveBalanceSummary(this.leaveBalance).subscribe(t=>{this.leaveBalances=t,this.allLeaveBalances=t,this.loading=!1,this.leaveTypeName&&this.leaveTypeName.length>0&&this.filterWithLeaveType(),this.totalItems=this.leaveBalances.length,!0===e&&(this.currentPage=1),this.generateTotalItemsText()},()=>{this.emptyTable()})}filterWithLeaveType(){this.leaveBalances="All"!==this.leaveTypeName?this.allLeaveBalances.filter(e=>e.leaveTypeName===this.leaveTypeName):this.allLeaveBalances,this.totalItems=this.leaveBalances.length}emptyTable(){this.leaveBalances=[],this.totalItems=0,this.isSearched=!1,this.loading=!1}processeUI(){this.loading=!1,this.isSearched=!0,this.loading=!1,this.totalItems=this.leaveBalances.length,this.generateTotalItemsText()}search(){}get f(){return this.leaveBalanceFilterFormGroup.controls}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](l.Injector),l["\u0275\u0275directiveInject"](s.g),l["\u0275\u0275directiveInject"](m.U),l["\u0275\u0275directiveInject"](pt),l["\u0275\u0275directiveInject"](m.Y),l["\u0275\u0275directiveInject"](m.hb),l["\u0275\u0275directiveInject"](d.b))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-leave-balance"]],viewQuery:function(e,t){var n;1&e&&l["\u0275\u0275viewQuery"](Te.a,!0),2&e&&l["\u0275\u0275queryRefresh"](n=l["\u0275\u0275loadQuery"]())&&(t.searchFilter=n.first)},features:[l["\u0275\u0275InheritDefinitionFeature"]],decls:60,vars:47,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-sm-12","col-md-6","col-lg-3"],["id","tableLabel"],[3,"formGroup","ngSubmit"],[1,"row"],["class","col-12 col-md-4 col-lg-2",4,"ngIf"],["class","col-12",4,"ngIf"],[1,"col-12","col-md-4","col-lg-2"],["appearance","outline"],["placeholder","Leave Year","formControlName","financialYearId",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"placeholder","selectionChange"],[1,"col-12","col-md-2","pull-right"],["type","submit",1,"btn","btn-success","w-100"],[1,"table-responsive"],["aria-labelledby","tableLabel",1,"table","table-light","table-hover","table-responsive-sm","text-nowrap"],[1,"table-secondary"],[4,"ngFor","ngForOf"],["class","text-info text-center",4,"ngIf"],["class","row ","style","padding-top:20px;",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],["formControlName","employeeId",3,"placeholder","disabled","selectionChange"],[3,"value"],[1,"col-12"],[3,"companyId"],[1,"text-info","text-center"],[1,"row",2,"padding-top","20px"],[1,"col-md-5","col-sm-5","text-left"],["id","pagination","directionLinks","true","previousLabel","","nextLabel","",3,"pageChange",4,"ngIf"],[1,"col-md-2","col-sm-2","text-left"],[3,"ngModel","placeholder","ngModelChange","selectionChange"],["id","pagination","directionLinks","true","previousLabel","","nextLabel","",3,"pageChange"]],template:function(e,t){1&e&&(l["\u0275\u0275template"](0,Ct,1,0,"div",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"div",2),l["\u0275\u0275elementStart"](3,"h1",3),l["\u0275\u0275text"](4),l["\u0275\u0275pipe"](5,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"form",4),l["\u0275\u0275listener"]("ngSubmit",(function(){return t.onSubmit()})),l["\u0275\u0275elementStart"](7,"div",5),l["\u0275\u0275template"](8,Lt,9,9,"div",6),l["\u0275\u0275template"](9,xt,2,1,"div",7),l["\u0275\u0275elementStart"](10,"div",8),l["\u0275\u0275elementStart"](11,"mat-form-field",9),l["\u0275\u0275elementStart"](12,"mat-label"),l["\u0275\u0275text"](13,"Leave Year"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](14,"mat-select",10),l["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeFinancialYear(e.value)})),l["\u0275\u0275template"](15,bt,2,2,"mat-option",11),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](16,Rt,3,3,"mat-error",12),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](17,"div",8),l["\u0275\u0275elementStart"](18,"mat-form-field",9),l["\u0275\u0275elementStart"](19,"mat-label"),l["\u0275\u0275text"](20),l["\u0275\u0275pipe"](21,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](22,"mat-select",13),l["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeLeaveType(e)})),l["\u0275\u0275pipe"](23,"translate"),l["\u0275\u0275template"](24,Ot,2,2,"mat-option",11),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](25,Nt,3,3,"mat-error",12),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](26,"div",14),l["\u0275\u0275elementStart"](27,"button",15),l["\u0275\u0275text"](28,"Search"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](29,"div"),l["\u0275\u0275elementStart"](30,"div",16),l["\u0275\u0275elementStart"](31,"table",17),l["\u0275\u0275elementStart"](32,"thead"),l["\u0275\u0275elementStart"](33,"tr",18),l["\u0275\u0275template"](34,Dt,3,3,"th",12),l["\u0275\u0275elementStart"](35,"th"),l["\u0275\u0275text"](36),l["\u0275\u0275pipe"](37,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](38,"th"),l["\u0275\u0275text"](39),l["\u0275\u0275pipe"](40,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](41,"th"),l["\u0275\u0275text"](42),l["\u0275\u0275pipe"](43,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](44,"th"),l["\u0275\u0275text"](45),l["\u0275\u0275pipe"](46,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](47,"th"),l["\u0275\u0275text"](48),l["\u0275\u0275pipe"](49,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](50,Bt,3,3,"th",12),l["\u0275\u0275template"](51,Pt,3,3,"th",12),l["\u0275\u0275template"](52,Mt,3,3,"th",12),l["\u0275\u0275template"](53,Ft,3,3,"th",12),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](54,"tbody"),l["\u0275\u0275template"](55,kt,16,10,"tr",19),l["\u0275\u0275pipe"](56,"paginate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](57,_t,3,3,"div",20),l["\u0275\u0275element"](58,"br"),l["\u0275\u0275template"](59,Ut,10,7,"div",21),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275property"]("ngIf",t.loading),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](5,24,"LEAVE.LEAVEBALANCE.INDEX.TITLE")),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("formGroup",t.leaveBalanceFilterFormGroup),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",!t.isAdmin),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.isAdmin),l["\u0275\u0275advance"](6),l["\u0275\u0275property"]("ngForOf",t.financialYears),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.financialYearId.errors&&t.f.financialYearId.errors.required),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](21,26,"LEAVE.LEAVETYPE.INDEX.TABLE.HEADER.NAME")),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](23,28,"LEAVE.LEAVETYPE.INDEX.TABLE.HEADER.NAME")),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",t.leaveTypes),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.employeeId.errors),l["\u0275\u0275advance"](9),l["\u0275\u0275property"]("ngIf",t.isAdmin),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](37,30,"LEAVE.LEAVEBALANCE.INDEX.TABLE.HEADER.EMPLOYEE_NAME")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](40,32,"LEAVE.LEAVEBALANCE.INDEX.TABLE.HEADER.LEAVE_TYPE_NAME")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](43,34,"LEAVE.LEAVEBALANCE.INDEX.TABLE.HEADER.MAXIMUM_BALANCE")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](46,36,"LEAVE.LEAVEBALANCE.INDEX.TABLE.HEADER.USED_BALANCE")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](49,38,"LEAVE.LEAVEBALANCE.INDEX.TABLE.HEADER.REMAINING_BALANCE")),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",t.isAdmin),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.isAdmin),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.isAdmin),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.isAdmin),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",l["\u0275\u0275pipeBind2"](56,40,t.leaveBalances,l["\u0275\u0275pureFunction3"](43,Xt,t.pageSize,t.currentPage,t.totalItems))),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",!t.loading&&0===t.leaveBalances.length&&t.isSearched),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",t.totalItems>0))},directives:[E.t,s.I,s.t,s.k,v.c,v.g,u.a,s.s,s.j,E.s,I.m,v.b,Te.a,s.v,j.c],pipes:[A.d,j.b],styles:[".w-100[_ngcontent-%COMP%]{width:100%}"]}),e})();function zt(e,t){1&e&&l["\u0275\u0275element"](0,"div",12)}function Qt(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"h5",13),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"LEAVE.LEAVEGROUP.CREATE")))}function Wt(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"h5",13),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"LEAVE.LEAVEGROUP.EDIT")))}function Kt(e,t){if(1&e&&(l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275elementStart"](1,"mat-option",14),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275propertyInterpolate"]("value",e.id),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](e.companyName)}}function Jt(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](2,1,"COMMON.SELECT.COMPANYID.REQUIERED_ERROR_TEXT"),""))}function Zt(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](2,1,"LEAVE.LEAVEGROUP.ERROR.LEAVEGROUPNAMEERRORTEXT"),""))}function en(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](2,1,"LEAVE.LEAVEGROUP.ERROR.LEAVEGROUPNAMEMAXLENGTHERRORTEXT"),""))}function tn(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275elementStart"](1,"div",15),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",e.errorMessages," ")}}const nn=function(e){return{"is-invalid":e}};let an=(()=>{class e{constructor(e,t,n,a,r,i){this.dialogRef=e,this.formBuilder=t,this.leaveGroupService=n,this.companyService=a,this.alertService=r,this.onLeaveGroupCreateEvent=new l.EventEmitter,this.onLeaveGroupEditEvent=new l.EventEmitter,this.submitted=!1,this.companies=[],this.isEditMode=!1,this.loading=!1,this.leaveGroup=new p.lb,isNaN(i)&&(this.leaveGroup=new p.lb(i),this.companyId=this.leaveGroup.companyId),this.isEditMode=!!this.leaveGroup.id,this.buildForm()}ngOnInit(){this.getAllCompanies()}getAllCompanies(){this.companyService.getAllCompanies().subscribe(e=>{this.companies=e})}onChangeCompany(){this.companyId=this.f.companyId.value}buildForm(){this.leaveGroupCreateForm=this.formBuilder.group({companyId:[this.companyId,[s.G.required]],leaveTypeGroupName:[this.leaveGroup.leaveTypeGroupName,[s.G.required,s.G.maxLength(250)]],leaveTypeGroupNameLC:[this.leaveGroup.leaveTypeGroupNameLC]})}onSubmit(){this.submitted=!0,this.leaveGroupCreateForm.invalid||(void 0===this.leaveGroup.id?this.createLeaveGroup():this.editLeaveGroup())}createLeaveGroup(){this.leaveGroup=new p.lb(this.leaveGroupCreateForm.value),this.loading=!0,this.leaveGroupService.createLeaveGroup(this.leaveGroup).subscribe(e=>{this.onLeaveGroupCreateEvent.emit(!0),!0===e.status?(this.isFormValid=!0,this.alertService.success("Leave Group added successfully"),this.dialogRef.close()):(this.isFormValid=!1,this.errorMessages=e.message),this.loading=!0},()=>{this.loading=!1})}editLeaveGroup(){let e=new p.lb(this.leaveGroupCreateForm.value);this.leaveGroup.companyId=this.companyId,this.leaveGroup.leaveTypeGroupName=e.leaveTypeGroupName,this.leaveGroup.leaveTypeGroupNameLC=e.leaveTypeGroupNameLC,this.loading=!0,this.leaveGroupService.editLeaveGroup(this.leaveGroup).subscribe(e=>{this.onLeaveGroupEditEvent.emit(!0),!0===e.status?(this.isFormValid=!0,this.alertService.success("Leave Group added successfully"),this.dialogRef.close()):(this.isFormValid=!1,this.errorMessages=e.message),this.loading=!0},()=>{this.loading=!1})}close(){this.dialogRef.close()}get f(){return this.leaveGroupCreateForm.controls}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](d.i),l["\u0275\u0275directiveInject"](s.g),l["\u0275\u0275directiveInject"](m.fb),l["\u0275\u0275directiveInject"](m.u),l["\u0275\u0275directiveInject"](c.a),l["\u0275\u0275directiveInject"](d.a))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-create-leave-group"]],decls:29,vars:26,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],["mat-dialog-title","",4,"ngIf"],["enctype","multipart/form-data",1,"employee-from",3,"formGroup"],[1,"mat-typography"],[1,"form-group"],["appearance","outline"],["matInput","","formControlName","companyId",3,"value","placeholder","valueChange","selectionChange"],[4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","leaveTypeGroupName","placeholder","Leave Group Name",3,"value","ngClass","valueChange"],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","",1,"btn","btn-success",3,"click"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],["mat-dialog-title",""],[3,"value"],[1,"d-flex"]],template:function(e,t){1&e&&(l["\u0275\u0275template"](0,zt,1,0,"div",0),l["\u0275\u0275template"](1,Qt,3,3,"h5",1),l["\u0275\u0275template"](2,Wt,3,3,"h5",1),l["\u0275\u0275elementStart"](3,"form",2),l["\u0275\u0275elementStart"](4,"mat-dialog-content",3),l["\u0275\u0275elementStart"](5,"div",4),l["\u0275\u0275elementStart"](6,"mat-form-field",5),l["\u0275\u0275elementStart"](7,"mat-label"),l["\u0275\u0275text"](8),l["\u0275\u0275pipe"](9,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](10,"mat-select",6),l["\u0275\u0275listener"]("valueChange",(function(e){return t.companyId=e}))("selectionChange",(function(){return t.onChangeCompany()})),l["\u0275\u0275pipe"](11,"translate"),l["\u0275\u0275template"](12,Kt,3,2,"ng-container",7),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](13,Jt,3,3,"mat-error",8),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](14,"div",4),l["\u0275\u0275elementStart"](15,"mat-form-field",5),l["\u0275\u0275elementStart"](16,"mat-label"),l["\u0275\u0275text"](17,"Leave Group Name"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](18,"input",9),l["\u0275\u0275listener"]("valueChange",(function(e){return t.leaveGroup.leaveTypeGroupName=e})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](19,Zt,3,3,"mat-error",8),l["\u0275\u0275template"](20,en,3,3,"mat-error",8),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](21,tn,3,1,"mat-error",8),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](22,"mat-dialog-actions"),l["\u0275\u0275elementStart"](23,"button",10),l["\u0275\u0275listener"]("click",(function(){return t.close()})),l["\u0275\u0275text"](24),l["\u0275\u0275pipe"](25,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](26,"button",11),l["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),l["\u0275\u0275text"](27),l["\u0275\u0275pipe"](28,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275property"]("ngIf",t.loading),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!t.isEditMode),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.isEditMode),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("formGroup",t.leaveGroupCreateForm),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](9,16,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](11,18,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),l["\u0275\u0275property"]("value",t.companyId),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",t.companies),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),l["\u0275\u0275advance"](5),l["\u0275\u0275property"]("value",t.leaveGroup.leaveTypeGroupName)("ngClass",l["\u0275\u0275pureFunction1"](24,nn,t.submitted&&t.f.leaveTypeGroupName.errors)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.leaveTypeGroupName.errors&&t.f.leaveTypeGroupName.errors.required),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.leaveTypeGroupName.errors&&t.f.leaveTypeGroupName.errors.maxlength),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!t.isFormValid),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](25,20,"COMMON.CANCEL_BUTTON_TEXT")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](28,22,"COMMON.SAVE_BUTTON_TEXT")))},directives:[E.t,s.I,s.t,s.k,d.g,v.c,v.g,u.a,s.s,s.j,E.s,h.b,s.d,E.q,d.c,g.b,d.d,d.j,I.m,v.b],pipes:[A.d],styles:[""]}),e})();function ln(e,t){1&e&&l["\u0275\u0275element"](0,"div",20)}function rn(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",21),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e.id),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",e.companyName," ")}}function on(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1,"Company is required"),l["\u0275\u0275elementEnd"]())}function pn(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275template"](1,on,2,0,"mat-error",13),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.f.companyId.errors.required)}}function sn(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275elementStart"](1,"td",22),l["\u0275\u0275elementStart"](2,"button",23),l["\u0275\u0275listener"]("click",(function(){l["\u0275\u0275restoreView"](e);const n=t.$implicit;return l["\u0275\u0275nextContext"]().onDeleteLeaveGroup(n)})),l["\u0275\u0275elementStart"](3,"mat-icon",24),l["\u0275\u0275text"](4,"delete"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"td"),l["\u0275\u0275text"](6),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;l["\u0275\u0275advance"](6),l["\u0275\u0275textInterpolate"](e.leaveTypeGroupName)}}function dn(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275elementStart"](1,"td",25),l["\u0275\u0275text"](2,"No Leave Group Found"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]())}function mn(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"pagination-controls",31),l["\u0275\u0275listener"]("pageChange",(function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](2).pageChanged(t)})),l["\u0275\u0275elementEnd"]()}}function cn(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",21),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e.value),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",e.text," ")}}function En(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",26),l["\u0275\u0275elementStart"](1,"div",27),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"div",27),l["\u0275\u0275template"](4,mn,1,0,"pagination-controls",28),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"div",29),l["\u0275\u0275elementStart"](6,"mat-form-field"),l["\u0275\u0275elementStart"](7,"mat-select",30),l["\u0275\u0275listener"]("ngModelChange",(function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().pageSize=t}))("selectionChange",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().onChangePaginationPerPage()})),l["\u0275\u0275pipe"](8,"translate"),l["\u0275\u0275template"](9,cn,2,2,"mat-option",12),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",e.totalItemsText," "),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",e.totalItems>0),l["\u0275\u0275advance"](3),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](8,5,"PAGINATION.PLACEHOLDER")),l["\u0275\u0275property"]("ngModel",e.pageSize),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",e.paginationPageNumbers)}}const vn=function(e,t,n){return{id:"pagination",itemsPerPage:e,currentPage:t,totalItems:n}};let un=(()=>{class e extends G.a{constructor(e,t,n,a,l,r){super(r),this.companyService=e,this.leaveGroupService=t,this.alertService=n,this.formBuilder=a,this.dialog=l,this.injector=r,this.companies=[],this.submitted=!1,this.loading=!1,this.leaveGroups=[]}ngOnInit(){this.getAllCompanies(),this.onChangeCompany(this.companyId),this.buildForm()}buildForm(){this.leaveGroupFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,s.G.required]})}getAllCompanies(){this.companyService.getAllCompanies().subscribe(e=>{this.companies=e},()=>{})}onChangeCompany(e){this.companyId=e,e&&this.getAllLeaveGroups()}getLeaves(){this.getAllLeaveGroups()}getAllLeaveGroups(){this.loading=!0,this.leaveGroupService.getAllLeaveGroups(this.companyId).subscribe(e=>{this.loading=!1,this.leaveGroups=e,this.totalItems=e.length,this.generateTotalItemsText()},()=>{this.loading=!1,this.leaveGroups=[]})}createLeaveGroup(){const e=new d.e;e.disableClose=!0,e.autoFocus=!0,e.panelClass="xHR-dialog";const t=window.screen.width<=576?90:50;e.width=t+"%";var n=new p.lb;n.companyId=this.companyId,e.data=n;const a=this.dialog.open(an,e);a.componentInstance.onLeaveGroupCreateEvent.subscribe(e=>{this.getAllLeaveGroups()}),a.afterClosed().subscribe(()=>{})}editLeaveGroup(e){const t=new d.e;t.disableClose=!0,t.autoFocus=!0,t.data=e,t.panelClass="xHR-dialog";const n=window.screen.width<=576?90:50;t.width=n+"%";const a=this.dialog.open(an,t);a.componentInstance.onLeaveGroupEditEvent.subscribe(e=>{this.getAllLeaveGroups()}),a.afterClosed().subscribe(()=>{})}onDeleteLeaveGroup(e){const t=new d.e;t.data="Are you sure to delete the leave Group ?",t.panelClass="xHR-dialog",this.dialog.open(w.a,t).afterClosed().subscribe(t=>{null!=t&&this.deleteLeaveGroup(e)})}deleteLeaveGroup(e){this.leaveGroupService.deleteLeaveGroup(e).subscribe(e=>{this.alertService.success("Leave Group deleted successfully"),this.getAllLeaveGroups()},e=>{this.alertService.error("Internal server error happen"),console.log(e)})}get f(){return this.leaveGroupFilterFormGroup.controls}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](m.u),l["\u0275\u0275directiveInject"](m.fb),l["\u0275\u0275directiveInject"](c.a),l["\u0275\u0275directiveInject"](s.g),l["\u0275\u0275directiveInject"](d.b),l["\u0275\u0275directiveInject"](l.Injector))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-leave-group"]],features:[l["\u0275\u0275InheritDefinitionFeature"]],decls:38,vars:32,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-sm-12","col-md-6"],["id","tableLabel"],[1,"col-xl-3","col-lg-4","col-md-6","col-sm-10"],["mat-raised-button","","matTooltip","Create New Leave Group",1,"btn","btn-success","btn-block","text-center",3,"click"],[1,"create-icon-button"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-6","col-md-6","col-lg-3"],["appearance","outline"],["formControlName","companyId",3,"placeholder","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"table-responsive"],["aria-labelledby","tableLabel",1,"table","table-light","table-hover","text-nowrap"],[1,"table-secondary"],[1,"text-center"],[4,"ngFor","ngForOf"],["class","row justify-content-between",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"],[1,"pt-0","text-center"],["mat-icon-button","","matTooltip","Delete",3,"click"],[1,"mat-icon-delete"],["colspan","11",1,"text-center"],[1,"row","justify-content-between"],[1,"col-md-5","col-sm-5","text-left"],["id","pagination","directionLinks","true","previousLabel","","nextLabel","",3,"pageChange",4,"ngIf"],[1,"col-md-2","col-sm-2","text-left"],[3,"ngModel","placeholder","ngModelChange","selectionChange"],["id","pagination","directionLinks","true","previousLabel","","nextLabel","",3,"pageChange"]],template:function(e,t){1&e&&(l["\u0275\u0275template"](0,ln,1,0,"div",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"div",2),l["\u0275\u0275elementStart"](3,"h1",3),l["\u0275\u0275text"](4),l["\u0275\u0275pipe"](5,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"div",4),l["\u0275\u0275elementStart"](7,"button",5),l["\u0275\u0275listener"]("click",(function(){return t.createLeaveGroup()})),l["\u0275\u0275elementStart"](8,"mat-icon",6),l["\u0275\u0275text"](9,"add"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275text"](10),l["\u0275\u0275pipe"](11,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](12,"form",7),l["\u0275\u0275listener"]("ngSubmit",(function(){return t.getLeaves()})),l["\u0275\u0275elementStart"](13,"div",8),l["\u0275\u0275elementStart"](14,"div",9),l["\u0275\u0275elementStart"](15,"mat-form-field",10),l["\u0275\u0275elementStart"](16,"mat-label"),l["\u0275\u0275text"](17),l["\u0275\u0275pipe"](18,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](19,"mat-select",11),l["\u0275\u0275listener"]("selectionChange",(function(e){return t.onChangeCompany(e.value)})),l["\u0275\u0275pipe"](20,"translate"),l["\u0275\u0275template"](21,rn,2,2,"mat-option",12),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](22,pn,2,1,"div",13),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](23,"div",14),l["\u0275\u0275elementStart"](24,"table",15),l["\u0275\u0275elementStart"](25,"thead"),l["\u0275\u0275elementStart"](26,"tr",16),l["\u0275\u0275elementStart"](27,"th",17),l["\u0275\u0275text"](28),l["\u0275\u0275pipe"](29,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](30,"th"),l["\u0275\u0275text"](31),l["\u0275\u0275pipe"](32,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](33,"tbody"),l["\u0275\u0275template"](34,sn,7,1,"tr",18),l["\u0275\u0275pipe"](35,"paginate"),l["\u0275\u0275template"](36,dn,3,0,"tr",13),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](37,En,10,7,"div",19)),2&e&&(l["\u0275\u0275property"]("ngIf",t.loading),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](5,13,"LEAVE.LEAVEGROUP.INDEX.TITLE")),l["\u0275\u0275advance"](6),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](11,15,"LEAVE.LEAVEGROUP.INDEX.BUTTONTEXT")," "),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("formGroup",t.leaveGroupFilterFormGroup),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](18,17,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](20,19,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",t.companies),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors),l["\u0275\u0275advance"](6),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](29,21,"ATTENDANCE.SHIFTGROUP.INDEX.TABLE.HEADER.ACTIONS")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](32,23,"ATTENDANCE.SHIFTGROUP.INDEX.TABLE.HEADER.NAME")),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngForOf",l["\u0275\u0275pipeBind2"](35,25,t.leaveGroups,l["\u0275\u0275pureFunction3"](28,vn,t.pageSize,t.currentPage,t.totalItems))),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",0===t.leaveGroups.length),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.totalItems>0))},directives:[E.t,g.b,y.a,Y.a,s.I,s.t,s.k,v.c,v.g,u.a,s.s,s.j,E.s,I.m,v.b,s.v,j.c],pipes:[A.d,j.b],styles:[""]}),e})();var hn=n("TmWB");function fn(e,t){1&e&&l["\u0275\u0275element"](0,"div",10)}function yn(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"h5",11),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"EMPLOYEE.EMPLOYEEPROMOTIONTRANSFERLIST.APPROVEORREJECT.APPROVE")))}function gn(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"h5",11),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](2,1,"EMPLOYEE.EMPLOYEEPROMOTIONTRANSFERLIST.APPROVEORREJECT.DECLINE")))}function In(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1,"Max length should be 250"),l["\u0275\u0275elementEnd"]())}function An(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275elementStart"](1,"div",12),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",e.errorMessages," ")}}const Cn=function(e){return{"is-invalid":e}};let Tn=(()=>{class e{constructor(e,t,n,a,r){this.dialogRef=e,this.formBuilder=t,this.alertService=n,this.leaveApplicationService=a,this.onleaveRequestApproveOrRejectCreateEvent=new l.EventEmitter,this.submitted=!1,this.loading=!1,this.type=r.type,this.id=r.id}ngOnInit(){this.buildForm()}buildForm(){this.approveOrRejectLeaveRequestForm=this.formBuilder.group({applicationId:[this.id,[s.G.required]],notes:["",[s.G.maxLength(250)]]})}onSubmit(){this.submitted=!0,this.approveOrRejectLeaveRequestForm.invalid||(this.type===hn.a.Approve?this.approveLeaveRequest():this.rejectLeaveRequest())}approveLeaveRequest(){this.loading=!0,this.approveOrRejectLeaveRequest=new p.e(this.approveOrRejectLeaveRequestForm.value),this.leaveApplicationService.approveLeaveRequest(this.approveOrRejectLeaveRequest).subscribe(e=>{this.loading=!1,!1===e.status?(this.isFormValid=!1,this.errorMessages=e.message):(this.isFormValid=!0,this.onleaveRequestApproveOrRejectCreateEvent.emit(!0),this.alertService.success("Approve successful"),this.close())},()=>{})}rejectLeaveRequest(){this.loading=!0,this.approveOrRejectLeaveRequest=new p.e(this.approveOrRejectLeaveRequestForm.value),this.leaveApplicationService.rejectLeaveRequest(this.approveOrRejectLeaveRequest).subscribe(e=>{this.loading=!1,!1===e.status?(this.isFormValid=!1,this.errorMessages=e.message):(this.isFormValid=!0,this.onleaveRequestApproveOrRejectCreateEvent.emit(!0),this.alertService.success("Decline successful"),this.close())},()=>{})}close(){this.dialogRef.close()}get f(){return this.approveOrRejectLeaveRequestForm.controls}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](d.i),l["\u0275\u0275directiveInject"](s.g),l["\u0275\u0275directiveInject"](c.a),l["\u0275\u0275directiveInject"](m.eb),l["\u0275\u0275directiveInject"](d.a))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-approve-or-reject-leave-request"]],decls:21,vars:21,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],["mat-dialog-title","",4,"ngIf"],["enctype","multipart/form-data",1,"employee-from",3,"formGroup"],[1,"mat-typography"],[1,"form-group"],["appearance","outline"],["matInput","","formControlName","notes",3,"placeholder","ngClass"],[4,"ngIf"],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","",1,"btn","btn-success",3,"click"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],["mat-dialog-title",""],[1,"d-flex"]],template:function(e,t){1&e&&(l["\u0275\u0275template"](0,fn,1,0,"div",0),l["\u0275\u0275template"](1,yn,3,3,"h5",1),l["\u0275\u0275template"](2,gn,3,3,"h5",1),l["\u0275\u0275elementStart"](3,"form",2),l["\u0275\u0275elementStart"](4,"mat-dialog-content",3),l["\u0275\u0275elementStart"](5,"div",4),l["\u0275\u0275elementStart"](6,"mat-form-field",5),l["\u0275\u0275elementStart"](7,"mat-label"),l["\u0275\u0275text"](8),l["\u0275\u0275pipe"](9,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](10,"input",6),l["\u0275\u0275pipe"](11,"translate"),l["\u0275\u0275template"](12,In,2,0,"mat-error",7),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](13,An,3,1,"mat-error",7),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](14,"mat-dialog-actions"),l["\u0275\u0275elementStart"](15,"button",8),l["\u0275\u0275listener"]("click",(function(){return t.close()})),l["\u0275\u0275text"](16),l["\u0275\u0275pipe"](17,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](18,"button",9),l["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),l["\u0275\u0275text"](19),l["\u0275\u0275pipe"](20,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275property"]("ngIf",t.loading),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",1===t.type),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",2===t.type),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("formGroup",t.approveOrRejectLeaveRequestForm),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](9,11,"EMPLOYEE.EMPLOYEEPROMOTIONTRANSFERLIST.APPROVEORREJECT.NOTES")),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](11,13,"EMPLOYEE.EMPLOYEEPROMOTIONTRANSFERLIST.APPROVEORREJECT.NOTES")),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](19,Cn,t.submitted&&t.f.notes.errors)),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",t.f.notes.errors&&t.f.notes.errors.maxlength),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!t.isFormValid),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](17,15,"COMMON.CANCEL_BUTTON_TEXT")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](20,17,"COMMON.SAVE_BUTTON_TEXT")))},directives:[E.t,s.I,s.t,s.k,d.g,v.c,v.g,h.b,s.d,s.s,s.j,E.q,d.c,g.b,d.d,d.j,v.b],pipes:[A.d],styles:[""]}),e})();function Sn(e,t){1&e&&l["\u0275\u0275element"](0,"div",26)}function Ln(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",27),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e.id),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",e.companyName," ")}}function xn(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1,"Company is required"),l["\u0275\u0275elementEnd"]())}function bn(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275template"](1,xn,2,0,"mat-error",10),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.f.companyId.errors.required)}}function Rn(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",27),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e.id),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",e.value," ")}}function On(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT"),""))}function Nn(e,t){1&e&&l["\u0275\u0275element"](0,"mat-error")}function Dn(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT"),""))}function Bn(e,t){1&e&&l["\u0275\u0275element"](0,"mat-error")}function Pn(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275elementStart"](1,"tr"),l["\u0275\u0275elementStart"](2,"td",28),l["\u0275\u0275elementStart"](3,"button",29),l["\u0275\u0275listener"]("click",(function(){l["\u0275\u0275restoreView"](e);const n=t.$implicit;return l["\u0275\u0275nextContext"]().approveOrRejectLeaveRequest(n,1)})),l["\u0275\u0275text"](4,"Approve"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"button",30),l["\u0275\u0275listener"]("click",(function(){l["\u0275\u0275restoreView"](e);const n=t.$implicit;return l["\u0275\u0275nextContext"]().approveOrRejectLeaveRequest(n,2)})),l["\u0275\u0275text"](6,"Decline"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](7,"td"),l["\u0275\u0275text"](8),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](9,"td"),l["\u0275\u0275text"](10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](11,"td"),l["\u0275\u0275text"](12),l["\u0275\u0275pipe"](13,"date"),l["\u0275\u0275pipe"](14,"date"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](15,"td"),l["\u0275\u0275text"](16),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](17,"td"),l["\u0275\u0275text"](18),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](19,"td"),l["\u0275\u0275text"](20),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](21,"td"),l["\u0275\u0275text"](22),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](23,"td"),l["\u0275\u0275text"](24),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](25,"td"),l["\u0275\u0275text"](26),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=t.$implicit;l["\u0275\u0275advance"](3),l["\u0275\u0275classProp"]("disabled","9"===e.approvalStatus||"3"===e.approvalStatus||null),l["\u0275\u0275property"]("disabled","3"===e.approvalStatus||"9"===e.approvalStatus),l["\u0275\u0275advance"](2),l["\u0275\u0275classProp"]("disabled","9"===e.approvalStatus||"3"===e.approvalStatus||null),l["\u0275\u0275property"]("disabled","9"===e.approvalStatus||"3"===e.approvalStatus),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](null==e?null:e.applicantName),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](null==e?null:e.leaveTypeName),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate2"]("",l["\u0275\u0275pipeBind2"](13,17,null==e?null:e.startDate,"dd/MM/yyyy")," - ",l["\u0275\u0275pipeBind2"](14,20,null==e?null:e.endDate,"dd/MM/yyyy"),""),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](null==e?null:e.approvalStatusText),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate2"]("",null==e?null:e.remainingBalance,"/",null==e?null:e.maximumBalance,""),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](null==e?null:e.reason),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](null==e?null:e.addressOnLeave),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](null==e?null:e.emergencyContact),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](null==e?null:e.notes)}}function Mn(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275elementStart"](1,"td",31),l["\u0275\u0275text"](2),l["\u0275\u0275pipe"](3,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](3,1,"PAYROLL.PAIDSALARY.INDEX.EMPTYMESSAGE"),""))}function Fn(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"pagination-controls",37),l["\u0275\u0275listener"]("pageChange",(function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](2).pageChanged(t)})),l["\u0275\u0275elementEnd"]()}}function Vn(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",27),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e.value),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",e.text," ")}}function wn(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",32),l["\u0275\u0275elementStart"](1,"div",33),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"div",33),l["\u0275\u0275template"](4,Fn,1,0,"pagination-controls",34),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"div",35),l["\u0275\u0275elementStart"](6,"mat-form-field"),l["\u0275\u0275elementStart"](7,"mat-select",36),l["\u0275\u0275listener"]("ngModelChange",(function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().pageSize=t}))("selectionChange",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().onChangePaginationPerPage()})),l["\u0275\u0275template"](8,Vn,2,2,"mat-option",9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",e.totalItemsText," "),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",e.totalItems>0),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngModel",e.pageSize),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngForOf",e.paginationPageNumbers)}}const Gn=function(e){return{"is-invalid":e}},Yn=function(e,t,n){return{id:"pagination",itemsPerPage:e,currentPage:t,totalItems:n}},jn=[{path:"",component:r},{path:"leaveType",component:J,canActivate:[It.a],data:{roles:["Administrators","SystemAdmin"]}},{path:"leave-process",component:gt,canActivate:[It.a],data:{roles:["Administrators","SystemAdmin"]}},{path:"leaveApplication",component:at,canActivate:[It.a],data:{roles:["Administrators","EmployeeRole","SystemAdmin"]}},{path:"leave-balance",component:$t,canActivate:[It.a],data:{roles:["Administrators","EmployeeRole","SystemAdmin"]}},{path:"leave-group",component:un,canActivate:[It.a],data:{roles:["Administrators","SystemAdmin"]}},{path:"leave-request",component:(()=>{class e extends G.a{constructor(e,t,n,a,l,r){super(r),this.dialog=e,this.formBuilder=t,this.companyService=n,this.leaveApplicationService=a,this.datePipe=l,this.injector=r,this.leaveRequests=[],this.leaveRequest=new p.mb,this.leaveRequestList=[],this.submitted=!1,this.companyId=localStorage.getItem("companyId"),this.companies=[],this.approvalStatus="",this.loading=!1,this.approveOrRejectLeaveRequestModalData={id:null,type:0},this.approvalStatuses=[{id:0,value:"All"},{id:"3",value:"Approved"},{id:"9",value:"Declined"},{id:"1",value:"Pending"}],this.managerId=this.authService.getLoggedInUserInfo().employeeId}ngOnInit(){this.buildForm(),this.setDates(),this.getAllLeaveRequestsByManager(),this.getAllCompanies()}buildForm(){this.leaveRequestFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,s.G.required],startDate:[this.leaveRequest.startDate,[s.G.required]],endDate:[this.leaveRequest.endDate,[s.G.required]],approvalStatus:[this.leaveRequest.approvalStatus]})}getAllLeaveRequestsByManager(){this.loading=!0,this.leaveRequest=new p.mb(this.leaveRequestFilterFormGroup.value),this.leaveRequest.startDate=this.datePipe.transform(new Date(this.leaveRequest.startDate),"yyyy-MM-dd"),this.leaveRequest.endDate=this.datePipe.transform(new Date(this.leaveRequest.endDate),"yyyy-MM-dd"),this.leaveApplicationService.getLeaveRequestsByManagerId(this.managerId,this.leaveRequest.startDate,this.leaveRequest.endDate).subscribe(e=>{this.loading=!1,this.leaveRequests=e,this.leaveRequestList=e,this.totalItems=e.length,this.generateTotalItemsText(),this.leaveRequestFilterFormGroup.value.approvalStatus&&this.filterDataOnChangApprovalStatus()},()=>{this.loading=!1})}getAllCompanies(){this.companyService.getAllCompanies().subscribe(e=>{this.companies=e})}setDates(){var e=new Date,t=new Date;new Date,t.setDate(t.getDate()-1),e.setMonth(e.getMonth()-1),e.setMonth(e.getMonth()-1);const n=t;this.f.startDate.setValue(new Date(e)),this.f.endDate.setValue(new Date(n))}filterDataOnChangApprovalStatus(){if("3"===this.leaveRequestFilterFormGroup.value.approvalStatus||"9"===this.leaveRequestFilterFormGroup.value.approvalStatus){const e=this.leaveRequestList.filter(e=>e.approvalStatus===this.leaveRequestFilterFormGroup.value.approvalStatus.toString());this.leaveRequests=e,this.totalItems=e.length,this.generateTotalItemsText()}else if("1"===this.leaveRequestFilterFormGroup.value.approvalStatus){const e=this.leaveRequestList.filter(e=>"3"!==e.approvalStatus&&"9"!==e.approvalStatus);this.leaveRequests=e,this.totalItems=e.length,this.generateTotalItemsText()}else this.leaveRequests=this.leaveRequestList,this.totalItems=this.leaveRequestList.length,this.generateTotalItemsText()}approveOrRejectLeaveRequest(e,t){const n=new d.e;console.log(e),n.disableClose=!0,n.autoFocus=!0,n.panelClass="xHR-dialog";const a=window.screen.width<=576?90:50;n.width=a+"%",this.approveOrRejectLeaveRequestModalData.id=e.leaveApplicationId,this.approveOrRejectLeaveRequestModalData.type=t,n.data=this.approveOrRejectLeaveRequestModalData;const l=this.dialog.open(Tn,n);l.componentInstance.onleaveRequestApproveOrRejectCreateEvent.subscribe(e=>{this.getAllLeaveRequestsByManager()}),l.afterClosed().subscribe(()=>{})}get f(){return this.leaveRequestFilterFormGroup.controls}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](d.b),l["\u0275\u0275directiveInject"](s.g),l["\u0275\u0275directiveInject"](m.u),l["\u0275\u0275directiveInject"](m.eb),l["\u0275\u0275directiveInject"](E.f),l["\u0275\u0275directiveInject"](l.Injector))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-leave-request"]],features:[l["\u0275\u0275InheritDefinitionFeature"]],decls:89,vars:82,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-12","col-md-6","col-lg-5"],["id","tableLabel"],[3,"formGroup"],[1,"row"],[1,"col-sm-12","col-md-6","col-lg-2"],["appearance","outline"],["formControlName","companyId",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","approvalStatus",3,"placeholder"],[1,"col-sm-12","col-md-6","col-lg-3"],["matInput","","formControlName","startDate","placeholder","Start Date",3,"value","matDatepicker","ngClass","valueChange","click"],["matSuffix","",3,"for"],["startDate",""],["matInput","","formControlName","endDate","placeholder","End date",3,"value","matDatepicker","ngClass","valueChange","click"],["endDate",""],[1,"col-lg-2","col-md-4","col-sm-12"],["mat-raised-button","","type","button","matTooltip","seacrh",1,"btn","btn-success","btn-block","text-center","mb-2",3,"click"],[1,"table-responsive"],["aria-labelledby","tableLabel",1,"table","table-light","table-hover","table-responsive-sm","text-nowrap"],[1,"table-secondary"],[1,"text-center","headcol"],[4,"ngFor","ngForOf"],["class","row justify-content-between",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"],[1,"pt-0","text-center","headcol"],[1,"btn","btn-success","mr-1",3,"disabled","click"],[1,"btn","btn-danger",3,"disabled","click"],["colspan","50",1,"text-center","text-info"],[1,"row","justify-content-between"],[1,"col-md-5","col-sm-5","text-left"],["id","pagination","directionLinks","true","previousLabel","","nextLabel","",3,"pageChange",4,"ngIf"],[1,"col-md-2","col-sm-2","text-left"],["placeholder","Items Per Page",3,"ngModel","ngModelChange","selectionChange"],["id","pagination","directionLinks","true","previousLabel","","nextLabel","",3,"pageChange"]],template:function(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275template"](0,Sn,1,0,"div",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"div",2),l["\u0275\u0275elementStart"](3,"h1",3),l["\u0275\u0275text"](4),l["\u0275\u0275pipe"](5,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"form",4),l["\u0275\u0275elementStart"](7,"div",5),l["\u0275\u0275elementStart"](8,"div",6),l["\u0275\u0275elementStart"](9,"mat-form-field",7),l["\u0275\u0275elementStart"](10,"mat-label"),l["\u0275\u0275text"](11),l["\u0275\u0275pipe"](12,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](13,"mat-select",8),l["\u0275\u0275pipe"](14,"translate"),l["\u0275\u0275template"](15,Ln,2,2,"mat-option",9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](16,bn,2,1,"div",10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](17,"div",6),l["\u0275\u0275elementStart"](18,"mat-form-field",7),l["\u0275\u0275elementStart"](19,"mat-label"),l["\u0275\u0275text"](20),l["\u0275\u0275pipe"](21,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](22,"mat-select",11),l["\u0275\u0275pipe"](23,"translate"),l["\u0275\u0275template"](24,Rn,2,2,"mat-option",9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](25,"div",12),l["\u0275\u0275elementStart"](26,"mat-form-field",7),l["\u0275\u0275elementStart"](27,"mat-label"),l["\u0275\u0275text"](28),l["\u0275\u0275pipe"](29,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](30,"input",13),l["\u0275\u0275listener"]("valueChange",(function(e){return t.leaveRequest.startDate=e}))("click",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275reference"](33).open()})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](31,"mat-datepicker-toggle",14),l["\u0275\u0275element"](32,"mat-datepicker",null,15),l["\u0275\u0275template"](34,On,3,3,"mat-error",10),l["\u0275\u0275template"](35,Nn,1,0,"mat-error",10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](36,"div",12),l["\u0275\u0275elementStart"](37,"mat-form-field",7),l["\u0275\u0275elementStart"](38,"mat-label"),l["\u0275\u0275text"](39),l["\u0275\u0275pipe"](40,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](41,"input",16),l["\u0275\u0275listener"]("valueChange",(function(e){return t.leaveRequest.endDate=e}))("click",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275reference"](44).open()})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](42,"mat-datepicker-toggle",14),l["\u0275\u0275element"](43,"mat-datepicker",null,17),l["\u0275\u0275template"](45,Dn,3,3,"mat-error",10),l["\u0275\u0275template"](46,Bn,1,0,"mat-error",10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](47,"div",18),l["\u0275\u0275elementStart"](48,"button",19),l["\u0275\u0275listener"]("click",(function(){return t.getAllLeaveRequestsByManager()})),l["\u0275\u0275text"](49," Search "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](50,"div",20),l["\u0275\u0275elementStart"](51,"table",21),l["\u0275\u0275elementStart"](52,"thead"),l["\u0275\u0275elementStart"](53,"tr",22),l["\u0275\u0275elementStart"](54,"th",23),l["\u0275\u0275text"](55),l["\u0275\u0275pipe"](56,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](57,"th"),l["\u0275\u0275text"](58),l["\u0275\u0275pipe"](59,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](60,"th"),l["\u0275\u0275text"](61),l["\u0275\u0275pipe"](62,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](63,"th"),l["\u0275\u0275text"](64),l["\u0275\u0275pipe"](65,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](66,"th"),l["\u0275\u0275text"](67),l["\u0275\u0275pipe"](68,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](69,"th"),l["\u0275\u0275text"](70),l["\u0275\u0275pipe"](71,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](72,"th"),l["\u0275\u0275text"](73),l["\u0275\u0275pipe"](74,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](75,"th"),l["\u0275\u0275text"](76),l["\u0275\u0275pipe"](77,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](78,"th"),l["\u0275\u0275text"](79),l["\u0275\u0275pipe"](80,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](81,"th"),l["\u0275\u0275text"](82),l["\u0275\u0275pipe"](83,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](84,"tbody"),l["\u0275\u0275template"](85,Pn,27,23,"ng-container",24),l["\u0275\u0275pipe"](86,"paginate"),l["\u0275\u0275template"](87,Mn,4,3,"tr",10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](88,wn,9,4,"div",25)}if(2&e){const e=l["\u0275\u0275reference"](33),n=l["\u0275\u0275reference"](44);l["\u0275\u0275property"]("ngIf",t.loading),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](5,37,"LEAVE.LEAVEREQUEST.INDEX.TITLE")),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("formGroup",t.leaveRequestFilterFormGroup),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](12,39,"COMPANY.DEPARTMENT.DROPDOWN.COMPANY.PLACEHOLDER")),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](14,41,"COMPANY.DEPARTMENT.DROPDOWN.COMPANY.PLACEHOLDER")),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",t.companies),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](21,43,"EMPLOYEE.EMPLOYEEPROMOTIONTRANSFERLIST.INDEX.APPROVAL_STATUS")),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("placeholder",l["\u0275\u0275pipeBind1"](23,45,"EMPLOYEE.EMPLOYEEPROMOTIONTRANSFERLIST.INDEX.APPROVAL_STATUS")),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",t.approvalStatuses),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](29,47,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("value",t.leaveRequest.startDate)("matDatepicker",e)("ngClass",l["\u0275\u0275pureFunction1"](74,Gn,t.f.startDate.errors)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("for",e),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startDate.errors&&t.f.startDate.errors.required),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startDate.errors&&t.f.startDate.errors.maxlength),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](40,49,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("value",t.leaveRequest.endDate)("matDatepicker",n)("ngClass",l["\u0275\u0275pureFunction1"](76,Gn,t.f.endDate.errors)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("for",n),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endDate.errors&&t.f.endDate.errors.required),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endDate.errors&&t.f.endDate.errors.maxlength),l["\u0275\u0275advance"](9),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](56,51,"COMPANY.COMPANY.INDEX.TABLE.HEADER.ACTIONS")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](59,53,"LEAVE.LEAVEREQUEST.INDEX.TABLE.HEADER.APPLICANT_NAME")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](62,55,"LEAVE.LEAVEREQUEST.INDEX.TABLE.HEADER.REQUEST_TYPE")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](65,57,"LEAVE.LEAVEREQUEST.INDEX.TABLE.HEADER.DATE_RNAGE")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](68,59,"LEAVE.LEAVEREQUEST.INDEX.TABLE.HEADER.APPROVAL_STATUS")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](71,61,"LEAVE.LEAVEREQUEST.INDEX.TABLE.HEADER.BALANCE")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](74,63,"LEAVE.LEAVEREQUEST.INDEX.TABLE.HEADER.REASON")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](77,65,"LEAVE.LEAVEREQUEST.INDEX.TABLE.HEADER.ADDRESS_ON_LEAVE")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](80,67,"LEAVE.LEAVEREQUEST.INDEX.TABLE.HEADER.EMERGENCY_CONTACT")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](83,69,"LEAVE.LEAVEREQUEST.INDEX.TABLE.HEADER.NOTE")),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngForOf",l["\u0275\u0275pipeBind2"](86,71,t.leaveRequests,l["\u0275\u0275pureFunction3"](78,Yn,t.pageSize,t.currentPage,t.totalItems))),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",0==t.leaveRequests.length),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.totalItems>0)}},directives:[E.t,s.I,s.t,s.k,v.c,v.g,u.a,s.s,s.j,E.s,h.b,s.d,ee.h,E.q,ee.j,v.j,ee.f,g.b,y.a,I.m,v.b,s.v,j.c],pipes:[A.d,j.b,E.f],styles:[".wrapper-btn[_ngcontent-%COMP%]{margin:0;padding:0;border:none}.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.text-white[_ngcontent-%COMP%]{color:#fff}"]}),e})(),canActivate:[It.a],data:{roles:["SystemAdmin","ReportingManager"]}}];let kn=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.a,At.AuthModule,lt.a,a.g.forChild(jn)]]}),e})()}}]);