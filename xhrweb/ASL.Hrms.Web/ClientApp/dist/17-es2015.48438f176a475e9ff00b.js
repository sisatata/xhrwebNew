(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"09GQ":function(e,t,a){"use strict";a.r(t),a.d(t,"TaskModule",(function(){return It}));var n=a("tyNb"),r=a("fXoL");let i=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-task"]],decls:2,vars:0,template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"p"),r["\u0275\u0275text"](1,"task works!"),r["\u0275\u0275elementEnd"]())},styles:[""]}),e})();var l=a("PCNd"),s=a("40fR"),o=a("Vvy3"),d=a("Yj9t"),p=a("3Pt+"),m=a("0IaG"),c=a("brQL"),E=a("Wxx3"),u=a("TwVa"),g=a("ZF+8"),h=a("Cmua"),T=a("ofXK"),D=a("kmnG"),I=a("d3UM"),f=a("qFsG"),A=a("bTqV"),C=a("FKr1"),v=a("sYmb");function S(e,t){1&e&&r["\u0275\u0275element"](0,"div",14)}function k(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"h5",15),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](2,1,"TASK.TASKCATEGORY.CREATE.TITLE")))}function y(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"h5",15),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](2,1,"TASK.TASKCATEGORY.EDIT.TITLE")))}function R(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"h6",16),r["\u0275\u0275text"](1,"Please enter valid data and fill up the required fields."),r["\u0275\u0275elementEnd"]())}function x(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-option",17),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275property"]("value",e.id),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",e.companyName," ")}}function b(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1,"Company is required"),r["\u0275\u0275elementEnd"]())}function L(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275template"](1,b,2,0,"mat-error",9),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.f.companyId.errors.required)}}function O(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"TASK.TASKCATEGORY.CREATE.TASK_CATEGORY_NAME.REQUIRED_ERROR_TEXT")," "))}function N(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"TASK.TASKCATEGORY.CREATE.TASK_CATEGORY_NAME.MAX_LENGTH_ERROR_TEXT")," "))}function M(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"PAYROLL.INCOMETAXPAYERTYPE.CREATE.REMARKS.REQUIRED_ERROR_TEXT")," "))}function B(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"PAYROLL.INCOMETAXPAYERTYPE.CREATE.REMARKS.MAX_LENGTH_ERROR_TEXT")," "))}const P=function(e){return{"is-invalid":e}};let K=(()=>{class e{constructor(e,t,a,n,i,l,s){this.alertService=e,this.dialogRef=t,this.formBuilder=a,this.companyService=n,this.datePipe=i,this.taskCategoryService=l,this.onTaskCategoryCreateEvent=new r.EventEmitter,this.onTaskCategoryEditEvent=new r.EventEmitter,this.incomeTaxPayerTypes=[],this.dateOverLapErrorMessage="Dates overlapping for parameter name",this.taskCategory=new u.yb,isNaN(s)&&(this.taskCategory=new u.yb(s)),this.taskCategory.id&&(this.isEditMode=!0,this.buildForm())}ngOnInit(){this.buildForm(),this.getAllCompanies()}buildForm(){this.taskCategoryCreateForm=this.formBuilder.group({companyId:[this.taskCategory.companyId],taskCategoryName:[this.taskCategory.taskCategoryName,[p.G.required,p.G.maxLength(50)]],remarks:[this.taskCategory.remarks,[p.G.maxLength(50)]]})}getAllCompanies(){this.loading=!0,this.companyService.getAllCompanies().subscribe(e=>{this.companies=e,this.loading=!1},()=>{this.loading=!1})}get f(){return this.taskCategoryCreateForm.controls}onSubmit(){this.submitted=!0,this.taskCategoryCreateForm.invalid||(null==this.taskCategory.id?this.createTaskCategory():this.editTaskCategory())}close(){this.dialogRef.close()}createTaskCategory(){this.taskCategory=new u.yb(this.taskCategoryCreateForm.value),this.loading=!0,this.taskCategoryService.createTaskCategory(this.taskCategory).subscribe(e=>{this.onTaskCategoryCreateEvent.emit(e.id),!0===e.status?(this.isFormValid=!0,this.alertService.success("Task category successfully created"),this.close()):(this.isFormValid=!1,this.errorMessages=e.message),this.loading=!1},()=>{this.loading=!1})}editTaskCategory(){let e=new u.yb(this.taskCategoryCreateForm.value);null!==this.taskCategory&&(this.taskCategory.remarks=e.remarks,this.taskCategory.taskCategoryName=e.taskCategoryName,this.taskCategoryService.editTaskCategory(this.taskCategory).subscribe(e=>{this.onTaskCategoryEditEvent.emit(e.id),!0===e.status?(this.isFormValid=!0,this.alertService.success("Task category successfully edited"),this.close()):(this.isFormValid=!1,this.errorMessages=e.message),this.loading=!1},()=>{this.loading=!1}))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](h.a),r["\u0275\u0275directiveInject"](m.i),r["\u0275\u0275directiveInject"](p.g),r["\u0275\u0275directiveInject"](g.u),r["\u0275\u0275directiveInject"](T.f),r["\u0275\u0275directiveInject"](g.tb),r["\u0275\u0275directiveInject"](m.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-create-task-category"]],decls:40,vars:44,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],["mat-dialog-title","",4,"ngIf"],["class","text-danger",4,"ngIf"],["enctype","multipart/form-data",3,"formGroup"],[1,"mat-typography"],[1,"form-group"],["appearance","outline"],["formControlName","companyId",3,"placeholder","disabled"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","taskCategoryName",3,"value","placeholder","ngClass","valueChange"],["matInput","","formControlName","remarks",3,"value","placeholder","ngClass","valueChange"],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","",1,"btn","btn-success",3,"click"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],["mat-dialog-title",""],[1,"text-danger"],[3,"value"]],template:function(e,t){1&e&&(r["\u0275\u0275template"](0,S,1,0,"div",0),r["\u0275\u0275template"](1,k,3,3,"h5",1),r["\u0275\u0275template"](2,y,3,3,"h5",1),r["\u0275\u0275template"](3,R,2,0,"h6",2),r["\u0275\u0275elementStart"](4,"form",3),r["\u0275\u0275elementStart"](5,"mat-dialog-content",4),r["\u0275\u0275elementStart"](6,"div",5),r["\u0275\u0275elementStart"](7,"mat-form-field",6),r["\u0275\u0275elementStart"](8,"mat-label"),r["\u0275\u0275text"](9),r["\u0275\u0275pipe"](10,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](11,"mat-select",7),r["\u0275\u0275pipe"](12,"translate"),r["\u0275\u0275template"](13,x,2,2,"mat-option",8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](14,L,2,1,"div",9),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](15,"div",5),r["\u0275\u0275elementStart"](16,"mat-form-field",6),r["\u0275\u0275elementStart"](17,"mat-label"),r["\u0275\u0275text"](18),r["\u0275\u0275pipe"](19,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](20,"input",10),r["\u0275\u0275listener"]("valueChange",(function(e){return t.taskCategory.taskCategoryName=e})),r["\u0275\u0275pipe"](21,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](22,O,3,3,"mat-error",9),r["\u0275\u0275template"](23,N,3,3,"mat-error",9),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](24,"div",5),r["\u0275\u0275elementStart"](25,"mat-form-field",6),r["\u0275\u0275elementStart"](26,"mat-label"),r["\u0275\u0275text"](27),r["\u0275\u0275pipe"](28,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](29,"input",11),r["\u0275\u0275listener"]("valueChange",(function(e){return t.taskCategory.remarks=e})),r["\u0275\u0275pipe"](30,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](31,M,3,3,"mat-error",9),r["\u0275\u0275template"](32,B,3,3,"mat-error",9),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](33,"mat-dialog-actions"),r["\u0275\u0275elementStart"](34,"button",12),r["\u0275\u0275listener"]("click",(function(){return t.close()})),r["\u0275\u0275text"](35),r["\u0275\u0275pipe"](36,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](37,"button",13),r["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),r["\u0275\u0275text"](38),r["\u0275\u0275pipe"](39,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("ngIf",t.loading),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.isEditMode),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.isEditMode),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.taskCategoryCreateForm.invalid&&t.submitted),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("formGroup",t.taskCategoryCreateForm),r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](10,24,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](12,26,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),r["\u0275\u0275property"]("disabled",!0),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",t.companies),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate1"]("",r["\u0275\u0275pipeBind1"](19,28,"TASK.TASKCATEGORY.CREATE.TASK_CATEGORY_NAME.PLACEHOLDER")," "),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](21,30,"TASK.TASKCATEGORY.CREATE.TASK_CATEGORY_NAME.PLACEHOLDER")),r["\u0275\u0275property"]("value",t.taskCategory.taskCategoryName)("ngClass",r["\u0275\u0275pureFunction1"](40,P,t.submitted&&t.f.remarks.errors)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.taskCategoryName.errors&&t.f.taskCategoryName.errors.required),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.taskCategoryName.errors&&t.f.taskCategoryName.errors.maxlength),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate1"]("",r["\u0275\u0275pipeBind1"](28,32,"PAYROLL.INCOMETAXPAYERTYPE.CREATE.REMARKS.PLACEHOLDER")," "),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](30,34,"PAYROLL.INCOMETAXPAYERTYPE.CREATE.REMARKS.PLACEHOLDER")),r["\u0275\u0275property"]("value",t.taskCategory.remarks)("ngClass",r["\u0275\u0275pureFunction1"](42,P,t.submitted&&t.f.remarks.errors)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.remarks.errors&&t.f.remarks.errors.required),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.remarks.errors&&t.f.remarks.errors.maxlength),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](36,36,"COMMON.CANCEL_BUTTON_TEXT")),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](39,38,"COMMON.SAVE_BUTTON_TEXT")))},directives:[T.t,p.I,p.t,p.k,m.g,D.c,D.g,I.a,p.s,p.j,T.s,f.b,p.d,T.q,m.c,A.b,m.d,m.j,C.m,D.b],pipes:[v.d],styles:[""]}),e})();var _=a("Qu3c"),w=a("NFeN"),F=a("oOf3");function X(e,t){1&e&&r["\u0275\u0275element"](0,"div",20)}function Y(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-option",21),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275property"]("value",e.id),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",e.companyName," ")}}function G(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1,"Company is required"),r["\u0275\u0275elementEnd"]())}function U(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275template"](1,G,2,0,"mat-error",13),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.f.companyId.errors.required)}}function j(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tr"),r["\u0275\u0275elementStart"](1,"td",22),r["\u0275\u0275elementStart"](2,"button",23),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const a=t.$implicit;return r["\u0275\u0275nextContext"]().editTaskCategory(a)})),r["\u0275\u0275pipe"](3,"translate"),r["\u0275\u0275elementStart"](4,"mat-icon"),r["\u0275\u0275text"](5,"create"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"button",23),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const a=t.$implicit;return r["\u0275\u0275nextContext"]().onDeleteTaskCategory(a)})),r["\u0275\u0275pipe"](7,"translate"),r["\u0275\u0275elementStart"](8,"mat-icon",24),r["\u0275\u0275text"](9,"delete"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"td"),r["\u0275\u0275text"](11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](12,"td"),r["\u0275\u0275text"](13),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("matTooltip",r["\u0275\u0275pipeBind1"](3,4,"COMMON.EDIT_BUTTON_TEXT")),r["\u0275\u0275advance"](4),r["\u0275\u0275propertyInterpolate"]("matTooltip",r["\u0275\u0275pipeBind1"](7,6,"COMMON.DELETE_BUTTON_TEXT")),r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate"](e.taskCategoryName),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.remarks)}}function H(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"pagination-controls",30),r["\u0275\u0275listener"]("pageChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).pageChanged(t)})),r["\u0275\u0275elementEnd"]()}}function q(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-option",21),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275property"]("value",e.value),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",e.text," ")}}function V(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",25),r["\u0275\u0275elementStart"](1,"div",26),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"div",26),r["\u0275\u0275template"](4,H,1,0,"pagination-controls",27),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"div",28),r["\u0275\u0275elementStart"](6,"mat-form-field"),r["\u0275\u0275elementStart"](7,"mat-select",29),r["\u0275\u0275listener"]("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().pageSize=t}))("selectionChange",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onChangePaginationPerPage()})),r["\u0275\u0275template"](8,q,2,2,"mat-option",12),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",e.totalItemsText," "),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",e.totalItems>0),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngModel",e.pageSize),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",e.paginationPageNumbers)}}const Q=function(e,t,a){return{id:"pagination",itemsPerPage:e,currentPage:t,totalItems:a}};let z=(()=>{class e extends c.a{constructor(e,t,a,n,r,i){super(e),this.injector=e,this.companyService=t,this.taskCategoryService=a,this.dialog=n,this.formBuilder=r,this.alertService=i}ngOnInit(){this.getAllCompanies(),this.buildForm(),this.getAllTaskCategories()}getAllCompanies(){this.loading=!0,this.companyService.getAllCompanies().subscribe(e=>{this.companies=e,this.loading=!1},()=>{this.loading=!1})}get f(){return this.taskCategoryFilterFormGroup.controls}buildForm(){this.taskCategoryFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,p.G.required]})}getAllTaskCategories(){this.loading=!0,this.taskCategoryService.getAllTaskCategory(this.companyId).subscribe(e=>{this.taskCategories=e,this.loading=!1},()=>{this.loading=!1})}createTaskCategory(){const e=new m.e;e.disableClose=!0,e.autoFocus=!0,e.panelClass="xHR-dialog";const t=window.screen.width<=576?90:50;e.width=t+"%";var a=new u.yb;a.companyId=this.companyId,e.data=a;const n=this.dialog.open(K,e);n.componentInstance.onTaskCategoryCreateEvent.subscribe(e=>{this.getAllTaskCategories()}),n.afterClosed().subscribe(()=>{})}editTaskCategory(e){const t=new m.e;t.disableClose=!0,t.autoFocus=!0,t.panelClass="xHR-dialog";const a=window.screen.width<=576?90:50;t.width=a+"%",e.companyId=this.companyId,t.data=e;const n=this.dialog.open(K,t);n.componentInstance.onTaskCategoryEditEvent.subscribe(e=>{this.getAllTaskCategories()}),n.afterClosed().subscribe(()=>{})}onDeleteTaskCategory(e){const t=new m.e;t.data="Are you sure to delete the task category "+e.taskCategoryName,t.panelClass="xHR-dialog",this.dialog.open(E.a,t).afterClosed().subscribe(t=>{void 0!==t&&this.deleteTaskCategory(e)})}deleteTaskCategory(e){this.taskCategoryService.deleteTaskCategory(e).subscribe(e=>{this.alertService.success("Task Category successfully deleted")})}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.Injector),r["\u0275\u0275directiveInject"](g.u),r["\u0275\u0275directiveInject"](g.tb),r["\u0275\u0275directiveInject"](m.b),r["\u0275\u0275directiveInject"](p.g),r["\u0275\u0275directiveInject"](h.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-task-category"]],features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:41,vars:37,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[1,"row","d-flex","justify-content-between","mt-3","mb-3"],[1,"col-sm-12","col-md-6"],["id","tableLabel"],[1,"col-lg-4","col-xl-3","col-md-6","col-sm-10"],["mat-raised-button","",1,"btn","btn-success","btn-block","text-center",3,"matTooltip","click"],[1,"create-icon-button"],[3,"formGroup"],[1,"row"],[1,"col-12","col-md-6","col-lg-3"],["appearance","outline"],["formControlName","companyId",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"table-responsive"],["aria-labelledby","tableLabel",1,"table","table-light","table-hover","table-responsive-sm","text-nowrap"],[1,"table-secondary"],[1,"text-center"],[4,"ngFor","ngForOf"],["class","row justify-content-between",4,"ngIf"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[3,"value"],[1,"pt-0","text-center"],["mat-icon-button","",3,"matTooltip","click"],[1,"mat-icon-delete"],[1,"row","justify-content-between"],[1,"col-md-5","col-sm-5","text-left"],["id","pagination","directionLinks","true","previousLabel","","nextLabel","",3,"pageChange",4,"ngIf"],[1,"col-md-2","col-sm-2","text-left"],["placeholder","Items Per Page",3,"ngModel","ngModelChange","selectionChange"],["id","pagination","directionLinks","true","previousLabel","","nextLabel","",3,"pageChange"]],template:function(e,t){1&e&&(r["\u0275\u0275template"](0,X,1,0,"div",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"div",2),r["\u0275\u0275elementStart"](3,"h1",3),r["\u0275\u0275text"](4),r["\u0275\u0275pipe"](5,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"div",4),r["\u0275\u0275elementStart"](7,"button",5),r["\u0275\u0275listener"]("click",(function(){return t.createTaskCategory()})),r["\u0275\u0275pipe"](8,"translate"),r["\u0275\u0275elementStart"](9,"mat-icon",6),r["\u0275\u0275text"](10,"add"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](11),r["\u0275\u0275pipe"](12,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"form",7),r["\u0275\u0275elementStart"](14,"div",8),r["\u0275\u0275elementStart"](15,"div",9),r["\u0275\u0275elementStart"](16,"mat-form-field",10),r["\u0275\u0275elementStart"](17,"mat-label"),r["\u0275\u0275text"](18),r["\u0275\u0275pipe"](19,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](20,"mat-select",11),r["\u0275\u0275pipe"](21,"translate"),r["\u0275\u0275template"](22,Y,2,2,"mat-option",12),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](23,U,2,1,"div",13),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](24,"div",14),r["\u0275\u0275elementStart"](25,"table",15),r["\u0275\u0275elementStart"](26,"thead"),r["\u0275\u0275elementStart"](27,"tr",16),r["\u0275\u0275elementStart"](28,"th",17),r["\u0275\u0275text"](29),r["\u0275\u0275pipe"](30,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](31,"th"),r["\u0275\u0275text"](32),r["\u0275\u0275pipe"](33,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](34,"th"),r["\u0275\u0275text"](35),r["\u0275\u0275pipe"](36,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](37,"tbody"),r["\u0275\u0275template"](38,j,14,8,"tr",18),r["\u0275\u0275pipe"](39,"paginate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](40,V,9,4,"div",19)),2&e&&(r["\u0275\u0275property"]("ngIf",t.loading),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](5,14,"TASK.TASKCATEGORY.INDEX.TITLE")),r["\u0275\u0275advance"](3),r["\u0275\u0275propertyInterpolate1"]("matTooltip","Add ",r["\u0275\u0275pipeBind1"](8,16,"TASK.TASKCATEGORY.INDEX.TITLE"),""),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](12,18,"TASK.TASKCATEGORY.INDEX.TITLE")," "),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("formGroup",t.taskCategoryFilterFormGroup),r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](19,20,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](21,22,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",t.companies),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors),r["\u0275\u0275advance"](6),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](30,24,"PAYROLL.EMPLOYEEBANKACCOUNT.INDEX.TABLE.HEADER.ACTIONS")),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](33,26,"TASK.TASKCATEGORY.INDEX.TABLE.HEADER.TASK_CATEGORY_NAME")),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](36,28,"TASK.TASKCATEGORY.INDEX.TABLE.HEADER.REMARKS")),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngForOf",r["\u0275\u0275pipeBind2"](39,30,t.taskCategories,r["\u0275\u0275pureFunction3"](33,Q,t.pageSize,t.currentPage,t.totalItems))),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.totalItems>0))},directives:[T.t,A.b,_.a,w.a,p.I,p.t,p.k,D.c,D.g,I.a,p.s,p.j,T.s,C.m,D.b,p.v,F.c],pipes:[v.d,F.b],styles:[""]}),e})();var $=a("N/25"),J=a("iadO");function W(e,t){1&e&&r["\u0275\u0275element"](0,"div",26)}function Z(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"h5",27),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TITLE")))}function ee(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"h5",27),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.EDIT.TITLE")))}function te(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"h6",28),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](2,1,"COMMON.ERROR_TEXT")))}function ae(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"mat-option",29),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275propertyInterpolate"]("value",e.id),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e.taskCategoryName)}}function ne(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_CATEGORY.REQUIERED_ERROR_TEXT")," "))}function re(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_NAME.REQUIERED_ERROR_TEXT"),""))}function ie(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_NAME.MAX_LENGTH_ERROR"),""))}function le(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error",30),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_DESCRIPTION.REQUIERED_ERROR_TEXT"),""))}function se(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_DESCRIPTION.MAX_LENGTH_ERROR"),""))}function oe(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",r["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT")," "))}function de(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",r["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT")," "))}function pe(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"mat-option",29),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275propertyInterpolate"]("value",e.id),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e.fullName)}}function me(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"COMMON.SELECT.EMPLOYEEID.REQUIERED_ERROR_TEXT"),""))}function ce(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_NAME.REQUIERED_ERROR_TEXT"),""))}function Ee(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_NAME.MAX_LENGTH_ERROR"),""))}function ue(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"mat-option",29),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("value",e),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e.value)}}function ge(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1," Assignee is required"),r["\u0275\u0275elementEnd"]())}function he(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",15),r["\u0275\u0275elementStart"](1,"mat-form-field",8),r["\u0275\u0275elementStart"](2,"mat-label"),r["\u0275\u0275text"](3),r["\u0275\u0275pipe"](4,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"mat-select",31),r["\u0275\u0275listener"]("selectionChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onChangeStatus(t)})),r["\u0275\u0275pipe"](6,"translate"),r["\u0275\u0275template"](7,ue,3,2,"ng-container",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](8,ge,2,0,"mat-error",11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate1"]("",r["\u0275\u0275pipeBind1"](4,4,"TASK.TASKDETAIL.INDEX.CREATE.STATUS.PLACE_HOLDER")," "),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](6,6,"TASK.TASKDETAIL.INDEX.CREATE.STATUS.PLACE_HOLDER")),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",e.statuses),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.submitted&&e.f.statusId.errors&&e.f.statusId.errors.required)}}function Te(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"mat-option",29),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275propertyInterpolate"]("value",e.id),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e.taskName)}}function De(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"COMMON.SELECT.EMPLOYEEID.REQUIERED_ERROR_TEXT"),""))}function Ie(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",15),r["\u0275\u0275elementStart"](1,"mat-form-field",8),r["\u0275\u0275elementStart"](2,"mat-label"),r["\u0275\u0275text"](3),r["\u0275\u0275pipe"](4,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"mat-select",32),r["\u0275\u0275listener"]("valueChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().taskDetailparentTaskId=t}))("selectionChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onChangeStatus(t)})),r["\u0275\u0275pipe"](6,"translate"),r["\u0275\u0275template"](7,Te,3,2,"ng-container",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](8,De,3,3,"mat-error",11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate1"]("",r["\u0275\u0275pipeBind1"](4,5,"TASK.TASKDETAIL.INDEX.CREATE.PARENTTASK.PLACE_HOLDER")," "),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](6,7,"TASK.TASKDETAIL.INDEX.CREATE.PARENT_TASK.PLACE_HOLDER")),r["\u0275\u0275property"]("value",e.taskDetailparentTaskId),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",e.taskDetails),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.submitted&&e.f.managerId.errors&&e.f.managerId.errors.required)}}function fe(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275elementStart"](1,"div",33),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",e.errorMessage," ")}}const Ae=function(e){return{"is-invalid":e}};let Ce=(()=>{class e{constructor(e,t,a,n,i,l,s,o,d,p){this.alertService=e,this.dialogRef=t,this.formBuilder=a,this.companyService=n,this.datePipe=i,this.taskCategoryService=l,this.taskDetailService=s,this.authService=o,this.employeeService=d,this.onTaskDetailCreateEvent=new r.EventEmitter,this.onTaskDetailEditEvent=new r.EventEmitter,this.isEditMode=!1,this.incomeTaxPayerTypes=[],this.dateOverLapErrorMessage="Dates overlapping for parameter name",this.empId=1,this.statuses=[{id:1,value:"In queue"},{id:0,value:"In progress"},{id:2,value:"Done"}],this.tDemo=this.statuses[0],this.taskDetail=new u.zb,isNaN(p)&&(this.taskDetail=new u.zb(p),this.statusId=this.taskDetail.statusId),this.taskDetail.id&&(this.isEditMode=!0),this.userId=this.authService.getLoggedInUserInfo().userId}ngOnInit(){this.buildForm(),this.getAllCompanies(),this.getAllTaskCategories(),this.getAllEmployees(),this.getAllTasksDetailByCompany(),this.setStatus()}setStatus(){const e=this.statuses.find(e=>e.id===this.taskDetail.statusId);this.taskDetailCreateForm.get("statusId").setValue(e)}getAllEmployees(){this.employeeService.getAllEmployees().subscribe(e=>{this.employees=e},e=>{console.log(e)})}get statusID(){return this.taskDetailCreateForm.get("statusId")}getAllTasksDetailByCompany(){this.loading=!0,this.taskDetailService.getAllTasksDetailByCompanyId(this.taskDetail.companyId).subscribe(e=>{this.taskDetails=e.filter(e=>e.id!==this.taskDetail.id),this.loading=!1},()=>{this.loading=!1})}buildForm(){this.taskDetailCreateForm=this.formBuilder.group({companyId:[this.taskDetail.companyId],taskTypeId:[this.taskDetail.taskTypeId,[p.G.required,p.G.maxLength(50)]],taskName:[this.taskDetail.taskName,[p.G.required,p.G.maxLength(50)]],taskDescription:[this.taskDetail.taskDescription,[p.G.maxLength(150)]],startDate:[this.taskDetail.startDate,[p.G.required]],endDate:[this.taskDetail.endDate,[p.G.required]],assigneeId:[this.taskDetail.assigneeId,[p.G.required]],parentTaskId:[this.taskDetail.parentTaskId],statusId:[this.statusId],progress:[this.taskDetail.progress]})}getAllCompanies(){this.loading=!0,this.companyService.getAllCompanies().subscribe(e=>{this.companies=e,this.loading=!1},()=>{this.loading=!1})}get f(){return this.taskDetailCreateForm.controls}onSubmit(){this.submitted=!0,this.taskDetailCreateForm.invalid||(null==this.taskDetail.id?this.createTaskDetail():this.editTaskDetail())}close(){this.dialogRef.close()}createTaskDetail(){this.taskDetail=new u.zb(this.taskDetailCreateForm.value),this.loading=!0,this.taskDetail.endDate=this.datePipe.transform(new Date(this.taskDetail.endDate),"yyyy-MM-dd"),this.taskDetail.startDate=this.datePipe.transform(new Date(this.taskDetail.startDate),"yyyy-MM-dd"),this.taskDetail.taskCreator=this.userId,this.taskDetailService.createTaskCategory(this.taskDetail).subscribe(e=>{this.onTaskDetailCreateEvent.emit(e.id),!0===e.status?(this.isFormValid=!0,this.alertService.success("Task category successfully created"),this.close()):(this.isFormValid=!1,this.errorMessages=e.message),this.loading=!1},()=>{this.loading=!1})}editTaskDetail(){let e=new u.zb(this.taskDetailCreateForm.value),t=this.taskDetail.id;this.loading=!0,this.taskDetail=Object.assign({},e),this.taskDetail.statusId=this.taskDetail.statusId.id,this.taskDetail.id=t,this.taskDetail.endDate=this.datePipe.transform(new Date(this.taskDetail.endDate),"yyyy-MM-dd"),this.taskDetail.startDate=this.datePipe.transform(new Date(this.taskDetail.startDate),"yyyy-MM-dd"),this.taskDetailService.editTaskDetail(this.taskDetail).subscribe(e=>{this.onTaskDetailEditEvent.emit(e.id),!0===e.status?(this.isFormValid=!0,this.alertService.success("Task detail successfully edited"),this.close()):(this.isFormValid=!1,this.errorMessages=e.message),this.loading=!1},()=>{this.loading=!1})}getAllTaskCategories(){this.loading=!0,this.taskCategoryService.getAllTaskCategory(this.taskDetail.companyId).subscribe(e=>{this.taskCategories=e,this.loading=!1},()=>{this.loading=!1})}onChangeEmployee(e){this.taskDetail.assigneeId=e.value}onChangeParentTask(e){this.taskDetail.parentTaskId=e.value}onChangeStatus(e){this.statusId=e.value}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](h.a),r["\u0275\u0275directiveInject"](m.i),r["\u0275\u0275directiveInject"](p.g),r["\u0275\u0275directiveInject"](g.u),r["\u0275\u0275directiveInject"](T.f),r["\u0275\u0275directiveInject"](g.tb),r["\u0275\u0275directiveInject"](g.vb),r["\u0275\u0275directiveInject"]($.a),r["\u0275\u0275directiveInject"](g.U),r["\u0275\u0275directiveInject"](m.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-create-task-detail"]],decls:85,vars:81,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],["mat-dialog-title","",4,"ngIf"],["class","text-danger",4,"ngIf"],["enctype","multipart/form-data",1,"employee-from",3,"formGroup"],[1,"mat-typography"],[1,"row"],[1,"col-12","col-md-6"],[1,"form-group"],["appearance","outline"],["matInput","","formControlName","taskTypeId",3,"value","placeholder","valueChange"],[4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","taskName",3,"value","placeholder","ngClass","valueChange"],["matInput","","formControlName","taskDescription",3,"value","placeholder","ngClass","valueChange"],["required","",4,"ngIf"],[1,"col-md-6","col-12"],["matInput","","formControlName","startDate",3,"matDatepicker","placeholder","ngClass","click"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","endDate",3,"matDatepicker","value","placeholder","ngClass","click","valueChange"],["endDatePicker",""],["matInput","","formControlName","assigneeId","placeholder","Assignee",3,"value","valueChange","selectionChange"],["type","number","matInput","","formControlName","progress","placeholder","Progress",3,"value","ngClass","valueChange"],["class","col-md-6 col-12",4,"ngIf"],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","",1,"btn","btn-success",3,"click"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],["mat-dialog-title",""],[1,"text-danger"],[3,"value"],["required",""],["matInput","","formControlName","statusId",3,"placeholder","selectionChange"],["matInput","","formControlName","parentTaskId","disabled","",3,"value","placeholder","valueChange","selectionChange"],[1,"d-flex"]],template:function(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275template"](0,W,1,0,"div",0),r["\u0275\u0275template"](1,Z,3,3,"h5",1),r["\u0275\u0275template"](2,ee,3,3,"h5",1),r["\u0275\u0275template"](3,te,3,3,"h6",2),r["\u0275\u0275elementStart"](4,"form",3),r["\u0275\u0275elementStart"](5,"mat-dialog-content",4),r["\u0275\u0275elementStart"](6,"div",5),r["\u0275\u0275elementStart"](7,"div",6),r["\u0275\u0275elementStart"](8,"div",7),r["\u0275\u0275elementStart"](9,"mat-form-field",8),r["\u0275\u0275elementStart"](10,"mat-label"),r["\u0275\u0275text"](11),r["\u0275\u0275pipe"](12,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"mat-select",9),r["\u0275\u0275listener"]("valueChange",(function(e){return t.taskDetail.taskTypeId=e})),r["\u0275\u0275pipe"](14,"translate"),r["\u0275\u0275template"](15,ae,3,2,"ng-container",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](16,ne,3,3,"mat-error",11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](17,"div",6),r["\u0275\u0275elementStart"](18,"div",7),r["\u0275\u0275elementStart"](19,"mat-form-field",8),r["\u0275\u0275elementStart"](20,"mat-label"),r["\u0275\u0275text"](21),r["\u0275\u0275pipe"](22,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](23,"input",12),r["\u0275\u0275listener"]("valueChange",(function(e){return t.taskDetail.taskName=e})),r["\u0275\u0275pipe"](24,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](25,re,3,3,"mat-error",11),r["\u0275\u0275template"](26,ie,3,3,"mat-error",11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](27,"div",7),r["\u0275\u0275elementStart"](28,"mat-form-field",8),r["\u0275\u0275elementStart"](29,"mat-label"),r["\u0275\u0275text"](30),r["\u0275\u0275pipe"](31,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](32,"input",13),r["\u0275\u0275listener"]("valueChange",(function(e){return t.taskDetail.taskDescription=e})),r["\u0275\u0275pipe"](33,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](34,le,3,3,"mat-error",14),r["\u0275\u0275template"](35,se,3,3,"mat-error",11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](36,"div",5),r["\u0275\u0275elementStart"](37,"div",15),r["\u0275\u0275elementStart"](38,"mat-form-field",8),r["\u0275\u0275elementStart"](39,"mat-label"),r["\u0275\u0275text"](40),r["\u0275\u0275pipe"](41,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](42,"input",16),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275reference"](46).open()})),r["\u0275\u0275pipe"](43,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](44,"mat-datepicker-toggle",17),r["\u0275\u0275element"](45,"mat-datepicker",null,18),r["\u0275\u0275template"](47,oe,3,3,"mat-error",11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](48,"div",15),r["\u0275\u0275elementStart"](49,"mat-form-field",8),r["\u0275\u0275elementStart"](50,"mat-label"),r["\u0275\u0275text"](51),r["\u0275\u0275pipe"](52,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](53,"input",19),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275reference"](57).open()}))("valueChange",(function(e){return t.endDate=e})),r["\u0275\u0275pipe"](54,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](55,"mat-datepicker-toggle",17),r["\u0275\u0275element"](56,"mat-datepicker",null,20),r["\u0275\u0275template"](58,de,3,3,"mat-error",11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](59,"div",5),r["\u0275\u0275elementStart"](60,"div",15),r["\u0275\u0275elementStart"](61,"mat-form-field",8),r["\u0275\u0275elementStart"](62,"mat-label"),r["\u0275\u0275text"](63,"Assignee "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](64,"mat-select",21),r["\u0275\u0275listener"]("valueChange",(function(e){return t.employeeId=e}))("selectionChange",(function(e){return t.onChangeEmployee(e)})),r["\u0275\u0275template"](65,pe,3,2,"ng-container",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](66,me,3,3,"mat-error",11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](67,"div",15),r["\u0275\u0275elementStart"](68,"div",7),r["\u0275\u0275elementStart"](69,"mat-form-field",8),r["\u0275\u0275elementStart"](70,"mat-label"),r["\u0275\u0275text"](71,"Progress (%)"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](72,"input",22),r["\u0275\u0275listener"]("valueChange",(function(e){return t.taskDetail.progress=e})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](73,ce,3,3,"mat-error",11),r["\u0275\u0275template"](74,Ee,3,3,"mat-error",11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](75,he,9,8,"div",23),r["\u0275\u0275template"](76,Ie,9,9,"div",23),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](77,fe,3,1,"mat-error",11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](78,"mat-dialog-actions"),r["\u0275\u0275elementStart"](79,"button",24),r["\u0275\u0275listener"]("click",(function(){return t.close()})),r["\u0275\u0275text"](80),r["\u0275\u0275pipe"](81,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](82,"button",25),r["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),r["\u0275\u0275text"](83),r["\u0275\u0275pipe"](84,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](46),a=r["\u0275\u0275reference"](57);r["\u0275\u0275property"]("ngIf",t.loading),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.isEditMode),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.isEditMode),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.submitted&&t.taskDetailCreateForm.invalid),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("formGroup",t.taskDetailCreateForm),r["\u0275\u0275advance"](7),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](12,47,"TASK.TASKDETAIL.INDEX.CREATE.TASK_CATEGORY.PLACE_HOLDER")),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](14,49,"TASK.TASKDETAIL.INDEX.CREATE.TASK_CATEGORY.PLACE_HOLDER")),r["\u0275\u0275property"]("value",t.taskDetail.taskTypeId),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",t.taskCategories),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.taskTypeId.errors&&t.f.taskTypeId.errors.required),r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](22,51,"TASK.TASKDETAIL.INDEX.CREATE.TASK_NAME.PLACE_HOLDER")),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](24,53,"TASK.TASKDETAIL.INDEX.CREATE.TASK_NAME.PLACE_HOLDER")),r["\u0275\u0275property"]("value",t.taskDetail.taskName)("ngClass",r["\u0275\u0275pureFunction1"](71,Ae,t.submitted&&t.f.taskName.errors)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.taskName.errors&&t.f.taskName.errors.required),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.taskName.errors&&t.f.taskName.errors.maxlength),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](31,55,"TASK.TASKDETAIL.INDEX.CREATE.TASK_DESCRIPTION.PLACE_HOLDER")),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](33,57,"TASK.TASKDETAIL.INDEX.CREATE.TASK_DESCRIPTION.PLACE_HOLDER")),r["\u0275\u0275property"]("value",t.taskDetail.taskDescription)("ngClass",r["\u0275\u0275pureFunction1"](73,Ae,t.submitted&&t.f.taskDescription.errors)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.taskDescription.errors&&t.f.taskDescription.errors.required),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.taskDescription.errors&&t.f.taskDescription.errors.maxlength),r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate1"]("",r["\u0275\u0275pipeBind1"](41,59,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")," "),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](43,61,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),r["\u0275\u0275property"]("matDatepicker",e)("ngClass",r["\u0275\u0275pureFunction1"](75,Ae,t.f.startDate.errors)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("for",e),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startDate.errors&&t.f.startDate.errors.required),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate1"]("",r["\u0275\u0275pipeBind1"](52,63,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")," "),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](54,65,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),r["\u0275\u0275property"]("matDatepicker",a)("value",t.endDate)("ngClass",r["\u0275\u0275pureFunction1"](77,Ae,t.f.endDate.errors)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("for",a),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endDate.errors&&t.f.endDate.errors.required),r["\u0275\u0275advance"](6),r["\u0275\u0275property"]("value",t.employeeId),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",t.employees),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.assigneeId.errors&&t.f.assigneeId.errors.required),r["\u0275\u0275advance"](6),r["\u0275\u0275property"]("value",t.taskDetail.progress)("ngClass",r["\u0275\u0275pureFunction1"](79,Ae,t.submitted&&t.f.progress.errors)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.progress.errors&&t.f.progress.errors.required),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.progress.errors&&t.f.progress.errors.maxlength),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.isEditMode),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.isEditMode),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.isFormValid),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](81,67,"COMMON.CANCEL_BUTTON_TEXT")),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](84,69,"COMMON.SAVE_BUTTON_TEXT"))}},directives:[T.t,p.I,p.t,p.k,m.g,D.c,D.g,I.a,p.s,p.j,T.s,f.b,p.d,T.q,J.h,J.j,D.j,J.f,p.y,m.c,A.b,m.d,m.j,C.m,D.b],pipes:[v.d],styles:[""]}),e})();function ve(e,t){1&e&&r["\u0275\u0275element"](0,"div",26)}function Se(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"h5",27),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TITLE")))}function ke(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"h5",27),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.EDIT.TITLE")))}function ye(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"h6",28),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](2,1,"COMMON.ERROR_TEXT")))}function Re(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"mat-option",29),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275propertyInterpolate"]("value",e.id),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e.taskCategoryName)}}function xe(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_CATEGORY.REQUIERED_ERROR_TEXT"),""))}function be(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_NAME.REQUIERED_ERROR_TEXT"),""))}function Le(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_NAME.MAX_LENGTH_ERROR"),""))}function Oe(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error",30),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_DESCRIPTION.REQUIERED_ERROR_TEXT"),""))}function Ne(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_DESCRIPTION.MAX_LENGTH_ERROR"),""))}function Me(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",r["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT")," "))}function Be(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",r["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT")," "))}function Pe(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"mat-option",29),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275propertyInterpolate"]("value",e.id),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e.fullName)}}function Ke(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"COMMON.SELECT.EMPLOYEEID.REQUIERED_ERROR_TEXT"),""))}function _e(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_NAME.REQUIERED_ERROR_TEXT"),""))}function we(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAIL.INDEX.CREATE.TASK_NAME.MAX_LENGTH_ERROR"),""))}function Fe(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"mat-option",29),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275propertyInterpolate"]("value",e.id),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e.taskName)}}function Xe(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"COMMON.SELECT.EMPLOYEEID.REQUIERED_ERROR_TEXT"),""))}function Ye(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275elementStart"](1,"div",31),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",e.errorMessage," ")}}const Ge=function(e){return{"is-invalid":e}};let Ue=(()=>{class e{constructor(e,t,a,n,i,l,s,o,d,p){this.alertService=e,this.dialogRef=t,this.formBuilder=a,this.companyService=n,this.taskCategoryService=i,this.taskDetailService=l,this.authService=s,this.datePipe=o,this.employeeService=d,this.onTaskDetailChildCreateEvent=new r.EventEmitter,this.onTaskDetailChildEditEvent=new r.EventEmitter,this.incomeTaxPayerTypes=[],this.dateOverLapErrorMessage="Dates overlapping for parameter name",this.statuses=[{id:1,value:"In queue"},{id:0,value:"In progress"},{id:2,value:"Done"}],this.taskDetail=new u.zb,isNaN(p)&&(this.taskDetail=new u.zb(p)),this.taskDetail.id&&(this.isEditMode=!0,this.buildForm()),this.userId=this.authService.getLoggedInUserInfo().userId}ngOnInit(){this.buildForm(),this.getAllCompanies(),this.getAllTaskCategories(),this.getAllEmployees(),this.getAllTasksDetailByCompany()}getAllEmployees(){this.employeeService.getAllEmployees().subscribe(e=>{this.employees=e})}getAllTasksDetailByCompany(){this.loading=!0,this.taskDetailService.getAllTasksDetailByCompanyId(this.taskDetail.companyId).subscribe(e=>{this.taskDetails=e,this.loading=!1},()=>{this.loading=!1})}buildForm(){this.taskDetailChildCreateForm=this.formBuilder.group({companyId:[this.taskDetail.companyId],taskTypeId:[this.taskDetail.taskTypeId,[p.G.required,p.G.maxLength(50)]],taskName:[this.taskDetail.taskName,[p.G.required,p.G.maxLength(50)]],taskDescription:[this.taskDetail.taskDescription,[p.G.maxLength(150)]],startDate:[this.taskDetail.startDate,[p.G.required]],endDate:[this.taskDetail.endDate,[p.G.required]],assigneeId:[this.taskDetail.assigneeId],parentTaskId:[this.taskDetail.parentTaskId],statusId:[this.taskDetail.statusId],progress:[this.taskDetail.progress]})}getAllCompanies(){this.loading=!0,this.companyService.getAllCompanies().subscribe(e=>{this.companies=e,this.loading=!1},()=>{this.loading=!1})}get f(){return this.taskDetailChildCreateForm.controls}onSubmit(){this.submitted=!0,this.taskDetailChildCreateForm.invalid||(null==this.taskDetail.id?this.createTaskDetail():this.editTaskDetail())}close(){this.dialogRef.close()}createTaskDetail(){this.taskDetail=new u.zb(this.taskDetailChildCreateForm.value),this.loading=!0,this.taskDetail.startDate=this.datePipe.transform(new Date(this.taskDetail.startDate),"yyyy-MM-dd"),this.taskDetail.endDate=this.datePipe.transform(new Date(this.taskDetail.endDate),"yyyy-MM-dd"),this.taskDetail.taskCreator=this.userId,this.taskDetailService.createTaskCategory(this.taskDetail).subscribe(e=>{this.onTaskDetailChildCreateEvent.emit(e.id),!0===e.status?(this.isFormValid=!0,this.alertService.success("Task category successfully created"),this.close()):(this.isFormValid=!1,this.errorMessages=e.message),this.loading=!1},()=>{this.loading=!1})}editTaskDetail(){let e=new u.zb(this.taskDetailChildCreateForm.value),t=this.taskDetail.id;this.loading=!0,this.taskDetail=Object.assign({},e),this.taskDetail.id=t,this.taskDetail.startDate=this.datePipe.transform(new Date(this.taskDetail.startDate),"yyyy-MM-dd"),this.taskDetail.endDate=this.datePipe.transform(new Date(this.taskDetail.endDate),"yyyy-MM-dd"),this.taskDetailService.editTaskDetail(this.taskDetail).subscribe(e=>{this.onTaskDetailChildEditEvent.emit(e.id),!0===e.status?(this.isFormValid=!0,this.alertService.success("Task detail successfully edited"),this.close()):(this.isFormValid=!1,this.errorMessages=e.message),this.loading=!1},()=>{this.loading=!1})}getAllTaskCategories(){this.loading=!0,this.taskCategoryService.getAllTaskCategory(this.taskDetail.companyId).subscribe(e=>{this.taskCategories=e,this.loading=!1},()=>{this.loading=!1})}onChangeEmployee(e){this.taskDetail.assigneeId=e.value}onChangeParentTask(e){this.taskDetail.parentTaskId=e.value}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](h.a),r["\u0275\u0275directiveInject"](m.i),r["\u0275\u0275directiveInject"](p.g),r["\u0275\u0275directiveInject"](g.u),r["\u0275\u0275directiveInject"](g.tb),r["\u0275\u0275directiveInject"](g.vb),r["\u0275\u0275directiveInject"]($.a),r["\u0275\u0275directiveInject"](T.f),r["\u0275\u0275directiveInject"](g.U),r["\u0275\u0275directiveInject"](m.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-create-task-detail-child"]],decls:92,vars:88,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],["mat-dialog-title","",4,"ngIf"],["class","text-danger",4,"ngIf"],["enctype","multipart/form-data",1,"employee-from",3,"formGroup"],[1,"mat-typography"],[1,"row"],[1,"col-12","col-md-6"],[1,"form-group"],["appearance","outline"],["matInput","","formControlName","taskTypeId",3,"value","placeholder","valueChange"],[4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","taskName",3,"value","placeholder","ngClass","valueChange"],["matInput","","formControlName","taskDescription",3,"value","placeholder","ngClass","valueChange"],["required","",4,"ngIf"],[1,"col-md-6","col-12"],["matInput","","formControlName","startDate",3,"matDatepicker","placeholder","ngClass","click"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","endDate",3,"matDatepicker","value","placeholder","ngClass","click","valueChange"],["endDatePicker",""],["matInput","","formControlName","assigneeId","placeholder","Assignee","disabled","",3,"value","valueChange","selectionChange"],["type","number","matInput","","formControlName","progress","placeholder","Progress",3,"value","ngClass","valueChange"],["matInput","","formControlName","parentTaskId","disabled","",3,"value","placeholder","valueChange","selectionChange"],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","",1,"btn","btn-success",3,"click"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],["mat-dialog-title",""],[1,"text-danger"],[3,"value"],["required",""],[1,"d-flex"]],template:function(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275template"](0,ve,1,0,"div",0),r["\u0275\u0275template"](1,Se,3,3,"h5",1),r["\u0275\u0275template"](2,ke,3,3,"h5",1),r["\u0275\u0275template"](3,ye,3,3,"h6",2),r["\u0275\u0275elementStart"](4,"form",3),r["\u0275\u0275elementStart"](5,"mat-dialog-content",4),r["\u0275\u0275elementStart"](6,"div",5),r["\u0275\u0275elementStart"](7,"div",6),r["\u0275\u0275elementStart"](8,"div",7),r["\u0275\u0275elementStart"](9,"mat-form-field",8),r["\u0275\u0275elementStart"](10,"mat-label"),r["\u0275\u0275text"](11),r["\u0275\u0275pipe"](12,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"mat-select",9),r["\u0275\u0275listener"]("valueChange",(function(e){return t.taskDetail.taskTypeId=e})),r["\u0275\u0275pipe"](14,"translate"),r["\u0275\u0275template"](15,Re,3,2,"ng-container",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](16,xe,3,3,"mat-error",11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](17,"div",6),r["\u0275\u0275elementStart"](18,"div",7),r["\u0275\u0275elementStart"](19,"mat-form-field",8),r["\u0275\u0275elementStart"](20,"mat-label"),r["\u0275\u0275text"](21),r["\u0275\u0275pipe"](22,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](23,"input",12),r["\u0275\u0275listener"]("valueChange",(function(e){return t.taskDetail.taskName=e})),r["\u0275\u0275pipe"](24,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](25,be,3,3,"mat-error",11),r["\u0275\u0275template"](26,Le,3,3,"mat-error",11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](27,"div",7),r["\u0275\u0275elementStart"](28,"mat-form-field",8),r["\u0275\u0275elementStart"](29,"mat-label"),r["\u0275\u0275text"](30),r["\u0275\u0275pipe"](31,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](32,"input",13),r["\u0275\u0275listener"]("valueChange",(function(e){return t.taskDetail.taskDescription=e})),r["\u0275\u0275pipe"](33,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](34,Oe,3,3,"mat-error",14),r["\u0275\u0275template"](35,Ne,3,3,"mat-error",11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](36,"div",5),r["\u0275\u0275elementStart"](37,"div",15),r["\u0275\u0275elementStart"](38,"mat-form-field",8),r["\u0275\u0275elementStart"](39,"mat-label"),r["\u0275\u0275text"](40),r["\u0275\u0275pipe"](41,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](42,"input",16),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275reference"](46).open()})),r["\u0275\u0275pipe"](43,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](44,"mat-datepicker-toggle",17),r["\u0275\u0275element"](45,"mat-datepicker",null,18),r["\u0275\u0275template"](47,Me,3,3,"mat-error",11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](48,"div",15),r["\u0275\u0275elementStart"](49,"mat-form-field",8),r["\u0275\u0275elementStart"](50,"mat-label"),r["\u0275\u0275text"](51),r["\u0275\u0275pipe"](52,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](53,"input",19),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275reference"](57).open()}))("valueChange",(function(e){return t.endDate=e})),r["\u0275\u0275pipe"](54,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](55,"mat-datepicker-toggle",17),r["\u0275\u0275element"](56,"mat-datepicker",null,20),r["\u0275\u0275template"](58,Be,3,3,"mat-error",11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](59,"div",5),r["\u0275\u0275elementStart"](60,"div",15),r["\u0275\u0275elementStart"](61,"mat-form-field",8),r["\u0275\u0275elementStart"](62,"mat-label"),r["\u0275\u0275text"](63,"Assignee"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](64,"mat-select",21),r["\u0275\u0275listener"]("valueChange",(function(e){return t.taskDetail.assigneeId=e}))("selectionChange",(function(e){return t.onChangeEmployee(e)})),r["\u0275\u0275template"](65,Pe,3,2,"ng-container",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](66,Ke,3,3,"mat-error",11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](67,"div",15),r["\u0275\u0275elementStart"](68,"div",7),r["\u0275\u0275elementStart"](69,"mat-form-field",8),r["\u0275\u0275elementStart"](70,"mat-label"),r["\u0275\u0275text"](71,"Progress (%)"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](72,"input",22),r["\u0275\u0275listener"]("valueChange",(function(e){return t.taskDetail.progress=e})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](73,_e,3,3,"mat-error",11),r["\u0275\u0275template"](74,we,3,3,"mat-error",11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](75,"div",15),r["\u0275\u0275elementStart"](76,"mat-form-field",8),r["\u0275\u0275elementStart"](77,"mat-label"),r["\u0275\u0275text"](78),r["\u0275\u0275pipe"](79,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](80,"mat-select",23),r["\u0275\u0275listener"]("valueChange",(function(e){return t.taskDetail.parentTaskId=e}))("selectionChange",(function(e){return t.onChangeParentTask(e)})),r["\u0275\u0275pipe"](81,"translate"),r["\u0275\u0275template"](82,Fe,3,2,"ng-container",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](83,Xe,3,3,"mat-error",11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](84,Ye,3,1,"mat-error",11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](85,"mat-dialog-actions"),r["\u0275\u0275elementStart"](86,"button",24),r["\u0275\u0275listener"]("click",(function(){return t.close()})),r["\u0275\u0275text"](87),r["\u0275\u0275pipe"](88,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](89,"button",25),r["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),r["\u0275\u0275text"](90),r["\u0275\u0275pipe"](91,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](46),a=r["\u0275\u0275reference"](57);r["\u0275\u0275property"]("ngIf",t.loading),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.isEditMode),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.isEditMode),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.submitted&&t.taskDetailChildCreateForm.invalid),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("formGroup",t.taskDetailChildCreateForm),r["\u0275\u0275advance"](7),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](12,50,"TASK.TASKDETAIL.INDEX.CREATE.TASK_CATEGORY.PLACE_HOLDER")),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](14,52,"TASK.TASKDETAIL.INDEX.CREATE.TASK_CATEGORY.PLACE_HOLDER")),r["\u0275\u0275property"]("value",t.taskDetail.taskTypeId),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",t.taskCategories),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.taskTypeId.errors&&t.f.taskTypeId.errors.required),r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](22,54,"TASK.TASKDETAIL.INDEX.CREATE.TASK_NAME.PLACE_HOLDER")),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](24,56,"TASK.TASKDETAIL.INDEX.CREATE.TASK_NAME.PLACE_HOLDER")),r["\u0275\u0275property"]("value",t.taskDetail.taskName)("ngClass",r["\u0275\u0275pureFunction1"](78,Ge,t.submitted&&t.f.taskName.errors)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.taskName.errors&&t.f.taskName.errors.required),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.taskName.errors&&t.f.taskName.errors.maxlength),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](31,58,"TASK.TASKDETAIL.INDEX.CREATE.TASK_DESCRIPTION.PLACE_HOLDER")),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](33,60,"TASK.TASKDETAIL.INDEX.CREATE.TASK_DESCRIPTION.PLACE_HOLDER")),r["\u0275\u0275property"]("value",t.taskDetail.taskDescription)("ngClass",r["\u0275\u0275pureFunction1"](80,Ge,t.submitted&&t.f.taskDescription.errors)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.taskDescription.errors&&t.f.taskDescription.errors.required),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.taskDescription.errors&&t.f.taskDescription.errors.maxlength),r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate1"]("",r["\u0275\u0275pipeBind1"](41,62,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")," "),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](43,64,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),r["\u0275\u0275property"]("matDatepicker",e)("ngClass",r["\u0275\u0275pureFunction1"](82,Ge,t.f.startDate.errors)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("for",e),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startDate.errors&&t.f.startDate.errors.required),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate1"]("",r["\u0275\u0275pipeBind1"](52,66,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")," "),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](54,68,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),r["\u0275\u0275property"]("matDatepicker",a)("value",t.endDate)("ngClass",r["\u0275\u0275pureFunction1"](84,Ge,t.f.endDate.errors)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("for",a),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endDate.errors&&t.f.endDate.errors.required),r["\u0275\u0275advance"](6),r["\u0275\u0275property"]("value",t.taskDetail.assigneeId),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",t.employees),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.assigneeId.errors&&t.f.assigneeId.errors.required),r["\u0275\u0275advance"](6),r["\u0275\u0275property"]("value",t.taskDetail.progress)("ngClass",r["\u0275\u0275pureFunction1"](86,Ge,t.submitted&&t.f.progress.errors)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.progress.errors&&t.f.progress.errors.required),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.progress.errors&&t.f.progress.errors.maxlength),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](79,70,"TASK.TASKDETAIL.INDEX.CREATE.PARENTTASK.PLACE_HOLDER")),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](81,72,"TASK.TASKDETAIL.INDEX.CREATE.PARENTTASK.PLACE_HOLDER")),r["\u0275\u0275property"]("value",t.taskDetail.parentTaskId),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",t.taskDetails),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.managerId.errors&&t.f.managerId.errors.required),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.isFormValid),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](88,74,"COMMON.CANCEL_BUTTON_TEXT")),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](91,76,"COMMON.SAVE_BUTTON_TEXT"))}},directives:[T.t,p.I,p.t,p.k,m.g,D.c,D.g,I.a,p.s,p.j,T.s,f.b,p.d,T.q,J.h,J.j,D.j,J.f,p.y,m.c,A.b,m.d,m.j,C.m,D.b],pipes:[v.d],styles:[""]}),e})();function je(e,t){1&e&&r["\u0275\u0275element"](0,"div",23)}function He(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"h5",24),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAILLOG.INDEX.CREATE.TITLE")))}function qe(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"h5",24),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAILLOG.INDEX.EDIT.TITLE")))}function Ve(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"h6",25),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](2,1,"COMMON.ERROR_TEXT")))}function Qe(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAILLOG.INDEX.CREATE.UPDATE_INFO.REQUIERED_ERROR_TEXT"),""))}function ze(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"TASK.TASKDETAILLOG.INDEX.CREATE.UPDATE_INFO.MAX_LENGTH_ERROR_TEXT"),""))}function $e(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",r["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT")," "))}function Je(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",r["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT")," "))}function We(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1,"Update Date is required "),r["\u0275\u0275elementEnd"]())}function Ze(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1,"Spend time is required "),r["\u0275\u0275elementEnd"]())}function et(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275elementStart"](1,"div",26),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",e.errorMessage," ")}}const tt=function(e){return{"is-invalid":e}};let at=(()=>{class e{constructor(e,t,a,n,i,l,s){this.alertService=e,this.dialogRef=t,this.formBuilder=a,this.datePipe=n,this.employeeService=i,this.taskDetailLogService=l,this.onTaskDetailLogCreateEvent=new r.EventEmitter,this.onTaskDetailLogEditEvent=new r.EventEmitter,this.incomeTaxPayerTypes=[],this.dateOverLapErrorMessage="Dates overlapping for parameter name",this.statuses=[{id:1,value:"In queue"},{id:0,value:"In progress"},{id:2,value:"Done"}],this.taskDetailLog=new u.Bb,isNaN(s)&&(this.taskDetailLog=new u.Bb(s)),this.taskDetailLog.id&&(this.isEditMode=!0,this.taskDetailLogId=this.taskDetailLog.id)}ngOnInit(){this.buildForm(),this.getAllEmployees()}buildForm(){this.taskDetailLogCreateForm=this.formBuilder.group({employeeId:[this.taskDetailLog.employeeId],dateUpdated:[this.taskDetailLog.dateUpdated],spendTime:[this.taskDetailLog.spendTime],taskDetailId:[this.taskDetailLog.taskDetailId,[p.G.required]],startDate:[this.taskDetailLog.startDate,[p.G.required]],endDate:[this.taskDetailLog.endDate,[p.G.required]],updateInfo:[this.taskDetailLog.updateInfo,[p.G.maxLength(50)]]})}getAllEmployees(){this.employeeService.getAllEmployees().subscribe(e=>{this.employees=e})}get f(){return this.taskDetailLogCreateForm.controls}onSubmit(){localStorage.getItem("userId"),this.submitted=!0,this.taskDetailLogCreateForm.invalid||(null==this.taskDetailLog.id?this.createTaskDetailLog():this.editTaskDetailLog())}close(){this.dialogRef.close()}createTaskDetailLog(){this.loading=!0,this.taskDetailLog=new u.Bb(this.taskDetailLogCreateForm.value),this.taskDetailLog.startDate=this.datePipe.transform(new Date(this.taskDetailLog.startDate),"yyyy-MM-dd"),this.taskDetailLog.endDate=this.datePipe.transform(new Date(this.taskDetailLog.endDate),"yyyy-MM-dd"),this.taskDetailLogService.createTaskDetailLogByTaskDetailId(this.taskDetailLog).subscribe(e=>{this.loading=!1,this.onTaskDetailLogCreateEvent.emit(e.id),!0===e.status?(this.isFormValid=!0,this.alertService.success("Task detail log created successfully"),this.close()):(this.isFormValid=!1,this.errorMessage=e.message)},()=>{this.loading=!1})}editTaskDetailLog(){this.loading=!1;let e=new u.Bb(this.taskDetailLogCreateForm.value);this.taskDetailLog=Object.assign({},e),this.taskDetailLog.id=this.taskDetailLogId,this.taskDetailLog.startDate=this.datePipe.transform(new Date(this.taskDetailLog.startDate),"yyyy-MM-dd"),this.taskDetailLog.endDate=this.datePipe.transform(new Date(this.taskDetailLog.endDate),"yyyy-MM-dd"),this.taskDetailLogService.editTaskDetailLog(this.taskDetailLog).subscribe(e=>{this.onTaskDetailLogEditEvent.emit(e.id),this.loading=!1,!0===e.status?(this.alertService.success("Task detail log edited successfully"),this.isFormValid=!0,this.close()):(this.isFormValid=!1,this.errorMessages=e.message)},()=>{this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](h.a),r["\u0275\u0275directiveInject"](m.i),r["\u0275\u0275directiveInject"](p.g),r["\u0275\u0275directiveInject"](T.f),r["\u0275\u0275directiveInject"](g.U),r["\u0275\u0275directiveInject"](g.ub),r["\u0275\u0275directiveInject"](m.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-create-task-detail-log"]],decls:69,vars:68,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],["mat-dialog-title","",4,"ngIf"],["class","text-danger",4,"ngIf"],["enctype","multipart/form-data",1,"employee-from",3,"formGroup"],[1,"mat-typography"],[1,"row"],[1,"col-12"],[1,"form-group"],["appearance","outline"],["matInput","","formControlName","updateInfo",3,"value","placeholder","ngClass","valueChange"],[4,"ngIf"],[1,"col-md-6","col-12"],["matInput","","formControlName","startDate",3,"matDatepicker","placeholder","ngClass","click"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","endDate",3,"matDatepicker","value","placeholder","ngClass","click","valueChange"],["endDatePicker",""],["matInput","","formControlName","dateUpdated","placeholder","Update Date",3,"matDatepicker","ngClass","click"],["dateUpdatePicker",""],["matInput","","formControlName","spendTime","placeholder","Spend time",3,"matDatepicker","value","ngClass","click","valueChange"],["spendDatePicker",""],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","",1,"btn","btn-success",3,"click"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],["mat-dialog-title",""],[1,"text-danger"],[1,"d-flex"]],template:function(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275template"](0,je,1,0,"div",0),r["\u0275\u0275template"](1,He,3,3,"h5",1),r["\u0275\u0275template"](2,qe,3,3,"h5",1),r["\u0275\u0275template"](3,Ve,3,3,"h6",2),r["\u0275\u0275elementStart"](4,"form",3),r["\u0275\u0275elementStart"](5,"mat-dialog-content",4),r["\u0275\u0275elementStart"](6,"div",5),r["\u0275\u0275elementStart"](7,"div",6),r["\u0275\u0275elementStart"](8,"div",7),r["\u0275\u0275elementStart"](9,"mat-form-field",8),r["\u0275\u0275elementStart"](10,"mat-label"),r["\u0275\u0275text"](11),r["\u0275\u0275pipe"](12,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"input",9),r["\u0275\u0275listener"]("valueChange",(function(e){return t.taskDetailLog.updateInfo=e})),r["\u0275\u0275pipe"](14,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](15,Qe,3,3,"mat-error",10),r["\u0275\u0275template"](16,ze,3,3,"mat-error",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](17,"div",5),r["\u0275\u0275elementStart"](18,"div",11),r["\u0275\u0275elementStart"](19,"mat-form-field",8),r["\u0275\u0275elementStart"](20,"mat-label"),r["\u0275\u0275text"](21),r["\u0275\u0275pipe"](22,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](23,"input",12),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275reference"](27).open()})),r["\u0275\u0275pipe"](24,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](25,"mat-datepicker-toggle",13),r["\u0275\u0275element"](26,"mat-datepicker",null,14),r["\u0275\u0275template"](28,$e,3,3,"mat-error",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](29,"div",11),r["\u0275\u0275elementStart"](30,"mat-form-field",8),r["\u0275\u0275elementStart"](31,"mat-label"),r["\u0275\u0275text"](32),r["\u0275\u0275pipe"](33,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](34,"input",15),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275reference"](38).open()}))("valueChange",(function(e){return t.endDate=e})),r["\u0275\u0275pipe"](35,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](36,"mat-datepicker-toggle",13),r["\u0275\u0275element"](37,"mat-datepicker",null,16),r["\u0275\u0275template"](39,Je,3,3,"mat-error",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](40,"div",5),r["\u0275\u0275elementStart"](41,"div",11),r["\u0275\u0275elementStart"](42,"mat-form-field",8),r["\u0275\u0275elementStart"](43,"mat-label"),r["\u0275\u0275text"](44),r["\u0275\u0275pipe"](45,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](46,"input",17),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275reference"](49).open()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](47,"mat-datepicker-toggle",13),r["\u0275\u0275element"](48,"mat-datepicker",null,18),r["\u0275\u0275template"](50,We,2,0,"mat-error",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](51,"div",11),r["\u0275\u0275elementStart"](52,"mat-form-field",8),r["\u0275\u0275elementStart"](53,"mat-label"),r["\u0275\u0275text"](54),r["\u0275\u0275pipe"](55,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](56,"input",19),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275reference"](59).open()}))("valueChange",(function(e){return t.taskDetailLog.endDate=e})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](57,"mat-datepicker-toggle",13),r["\u0275\u0275element"](58,"mat-datepicker",null,20),r["\u0275\u0275template"](60,Ze,2,0,"mat-error",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](61,et,3,1,"mat-error",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](62,"mat-dialog-actions"),r["\u0275\u0275elementStart"](63,"button",21),r["\u0275\u0275listener"]("click",(function(){return t.close()})),r["\u0275\u0275text"](64),r["\u0275\u0275pipe"](65,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](66,"button",22),r["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),r["\u0275\u0275text"](67),r["\u0275\u0275pipe"](68,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](27),a=r["\u0275\u0275reference"](38),n=r["\u0275\u0275reference"](49),i=r["\u0275\u0275reference"](59);r["\u0275\u0275property"]("ngIf",t.loading),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.isEditMode),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.isEditMode),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.submitted&&t.taskDetailLogCreateForm.invalid),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("formGroup",t.taskDetailLogCreateForm),r["\u0275\u0275advance"](7),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](12,38,"TASK.TASKDETAILLOG.INDEX.CREATE.UPDATE_INFO.PLACE_HOLDER")),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](14,40,"TASK.TASKDETAILLOG.INDEX.CREATE.UPDATE_INFO.PLACE_HOLDER")),r["\u0275\u0275property"]("value",t.taskDetailLog.updateInfo)("ngClass",r["\u0275\u0275pureFunction1"](58,tt,t.submitted&&t.f.updateInfo.errors)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.updateInfo.errors&&t.f.updateInfo.errors.required),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.updateInfo.errors&&t.f.updateInfo.errors.maxlength),r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate1"]("",r["\u0275\u0275pipeBind1"](22,42,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")," "),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](24,44,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),r["\u0275\u0275property"]("matDatepicker",e)("ngClass",r["\u0275\u0275pureFunction1"](60,tt,t.f.startDate.errors)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("for",e),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startDate.errors&&t.f.startDate.errors.required),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate1"]("",r["\u0275\u0275pipeBind1"](33,46,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")," "),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](35,48,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),r["\u0275\u0275property"]("matDatepicker",a)("value",t.endDate)("ngClass",r["\u0275\u0275pureFunction1"](62,tt,t.f.endDate.errors)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("for",a),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endDate.errors&&t.f.endDate.errors.required),r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate1"]("",r["\u0275\u0275pipeBind1"](45,50,"TASK.TASKDETAILLOG.INDEX.CREATE.UPDATED_DATE.PLACE_HOLDER")," "),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("matDatepicker",n)("ngClass",r["\u0275\u0275pureFunction1"](64,tt,t.f.dateUpdated.errors)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("for",n),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.dateUpdated.errors&&t.f.dateUpdated.errors.required),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate1"]("",r["\u0275\u0275pipeBind1"](55,52,"TASK.TASKDETAILLOG.INDEX.CREATE.SPEND_TIME.PLACE_HOLDER")," "),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("matDatepicker",i)("value",t.taskDetailLog.endDate)("ngClass",r["\u0275\u0275pureFunction1"](66,tt,t.f.endDate.errors)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("for",i),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.spendTime.errors&&t.f.spendTime.errors.required),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.isFormValid),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](65,54,"COMMON.CANCEL_BUTTON_TEXT")),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](68,56,"COMMON.SAVE_BUTTON_TEXT"))}},directives:[T.t,p.I,p.t,p.k,m.g,D.c,D.g,f.b,p.d,p.s,p.j,T.q,J.h,J.j,D.j,J.f,m.c,A.b,m.d,m.j,D.b],pipes:[v.d],styles:[""]}),e})();var nt=a("12jx");function rt(e,t){1&e&&r["\u0275\u0275element"](0,"div",2)}function it(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",21),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"](),a=t.index,n=t.$implicit;return r["\u0275\u0275nextContext"](2).showTaskDetailLogs(a,n.id)})),r["\u0275\u0275elementStart"](1,"mat-icon"),r["\u0275\u0275text"](2,"visibility"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}}function lt(e,t){if(1&e&&r["\u0275\u0275element"](0,"app-task-detail",24),2&e){const e=r["\u0275\u0275nextContext"](2).index,t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("data",t.tasksDetail[e].listTaskDetail)}}function st(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"td",22),r["\u0275\u0275template"](2,lt,1,1,"app-task-detail",23),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]().index,t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",null!=t.tasksDetail[e].listTaskDetail&&null!=t.tasksDetail[e].listTaskDetail)}}function ot(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tbody"),r["\u0275\u0275elementStart"](1,"tr"),r["\u0275\u0275element"](2,"td"),r["\u0275\u0275elementStart"](3,"td",9),r["\u0275\u0275elementStart"](4,"button",25),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const a=t.$implicit;return r["\u0275\u0275nextContext"](3).editTaskDetailLog(a)})),r["\u0275\u0275pipe"](5,"translate"),r["\u0275\u0275elementStart"](6,"mat-icon"),r["\u0275\u0275text"](7,"create"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"td"),r["\u0275\u0275text"](9),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"td"),r["\u0275\u0275text"](11),r["\u0275\u0275pipe"](12,"date"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"td"),r["\u0275\u0275text"](14),r["\u0275\u0275pipe"](15,"date"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](16,"td"),r["\u0275\u0275text"](17),r["\u0275\u0275pipe"](18,"date"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](19,"td"),r["\u0275\u0275text"](20),r["\u0275\u0275pipe"](21,"date"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;r["\u0275\u0275advance"](4),r["\u0275\u0275propertyInterpolate"]("matTooltip",r["\u0275\u0275pipeBind1"](5,6,"COMMON.EDIT_BUTTON_TEXT")),r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate"](e.updateInfo),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind2"](12,8,e.dateUpdated,"dd/MM/yyyy")),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind2"](15,11,e.spendTime,"dd/MM/yyyy")),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind2"](18,14,e.startDate,"dd/MM/yyyy")),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind2"](21,17,e.endDate,"dd/MM/yyyy"))}}function dt(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tbody"),r["\u0275\u0275elementStart"](1,"tr"),r["\u0275\u0275elementStart"](2,"td",9),r["\u0275\u0275elementStart"](3,"button",10),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const a=t.$implicit;return r["\u0275\u0275nextContext"](2).editTaskDetail(a)})),r["\u0275\u0275elementStart"](4,"mat-icon"),r["\u0275\u0275text"](5,"create"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"button",11),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const a=t.$implicit;return r["\u0275\u0275nextContext"](2).onDeleteTaskDetail(a)})),r["\u0275\u0275elementStart"](7,"mat-icon",12),r["\u0275\u0275text"](8,"delete"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](9,it,3,0,"button",13),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"td"),r["\u0275\u0275text"](11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](12,"td"),r["\u0275\u0275text"](13),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](14,"td"),r["\u0275\u0275text"](15),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](16,"td"),r["\u0275\u0275text"](17),r["\u0275\u0275pipe"](18,"date"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](19,"td"),r["\u0275\u0275text"](20),r["\u0275\u0275pipe"](21,"date"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](22,"td"),r["\u0275\u0275text"](23),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](24,"td"),r["\u0275\u0275text"](25),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](26,"td"),r["\u0275\u0275text"](27),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](28,"td"),r["\u0275\u0275text"](29),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](30,"tr",14),r["\u0275\u0275element"](31,"td",15),r["\u0275\u0275template"](32,st,3,1,"ng-container",16),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](33,"tr",14),r["\u0275\u0275element"](34,"td",15),r["\u0275\u0275elementStart"](35,"td",17),r["\u0275\u0275elementStart"](36,"table",18),r["\u0275\u0275elementStart"](37,"thead"),r["\u0275\u0275elementStart"](38,"tr"),r["\u0275\u0275elementStart"](39,"th",7),r["\u0275\u0275elementStart"](40,"button",19),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const a=t.$implicit;return r["\u0275\u0275nextContext"](2).createTaskDetailLog(a)})),r["\u0275\u0275elementStart"](41,"mat-icon",20),r["\u0275\u0275text"](42,"add"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](43,"th",7),r["\u0275\u0275text"](44),r["\u0275\u0275pipe"](45,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](46,"th"),r["\u0275\u0275text"](47),r["\u0275\u0275pipe"](48,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](49,"th"),r["\u0275\u0275text"](50),r["\u0275\u0275pipe"](51,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](52,"th"),r["\u0275\u0275text"](53),r["\u0275\u0275pipe"](54,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](55,"th"),r["\u0275\u0275text"](56),r["\u0275\u0275pipe"](57,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](58,"th"),r["\u0275\u0275text"](59),r["\u0275\u0275pipe"](60,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](61,ot,22,20,"tbody",8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,a=t.index,n=t.index,i=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](9),r["\u0275\u0275property"]("ngIf",!i.hideme[n]),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.taskName),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.taskDescription),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](null===e.progress?"N/A":e.progress),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind2"](18,20,e.startDate,"dd/MM/yyyy")),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind2"](21,23,e.endDate,"dd/MM/yyyy")),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](e.fullName),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](null===e.assignedBy?"N/A":e.assignedBy),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.taskCategoryName),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](i.statuses[e.statusId]),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("hidden",!i.hideme[n]),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",i.tasksDetail[n].listTaskDetail&&i.tasksDetail[n].listTaskDetail.length),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("hidden",!i.hideDetailLogs[n]),r["\u0275\u0275advance"](11),r["\u0275\u0275textInterpolate1"]("",r["\u0275\u0275pipeBind1"](45,26,"COMPANY.COMMONLOOKUPTYPE.INDEX.TABLE.HEADER.ACTIONS")," "),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](48,28,"TASK.TASKDETAILLOG.INDEX.TABLE.HEADER.UPDATE_INFO")," "),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](51,30,"TASK.TASKDETAILLOG.INDEX.TABLE.HEADER.UPDATED_DATE")," "),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](54,32,"TASK.TASKDETAILLOG.INDEX.TABLE.HEADER.SPEND_TIME")," "),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](57,34,"TASK.TASKDETAIL.INDEX.TABLE.HEADER.START_DATE")),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](60,36,"TASK.TASKDETAIL.INDEX.TABLE.HEADER.END_DATE")," "),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",i.childList[a])}}function pt(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"section"),r["\u0275\u0275elementStart"](1,"div",3),r["\u0275\u0275elementStart"](2,"div"),r["\u0275\u0275elementStart"](3,"div"),r["\u0275\u0275elementStart"](4,"div",4),r["\u0275\u0275elementStart"](5,"table",5),r["\u0275\u0275elementStart"](6,"thead"),r["\u0275\u0275elementStart"](7,"tr",6),r["\u0275\u0275elementStart"](8,"th",7),r["\u0275\u0275text"](9),r["\u0275\u0275pipe"](10,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](11,"th"),r["\u0275\u0275text"](12),r["\u0275\u0275pipe"](13,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](14,"th"),r["\u0275\u0275text"](15),r["\u0275\u0275pipe"](16,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](17,"th"),r["\u0275\u0275text"](18,"Progress"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](19,"th"),r["\u0275\u0275text"](20),r["\u0275\u0275pipe"](21,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](22,"th"),r["\u0275\u0275text"](23),r["\u0275\u0275pipe"](24,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](25,"th"),r["\u0275\u0275text"](26,"Assignee"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](27,"th"),r["\u0275\u0275text"](28,"Assigned By"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](29,"th"),r["\u0275\u0275text"](30),r["\u0275\u0275pipe"](31,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](32,"th"),r["\u0275\u0275text"](33),r["\u0275\u0275pipe"](34,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](35,dt,62,38,"tbody",8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](9),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](10,8,"PAYROLL.SALARYSTRUCTURE.INDEX.TABLE.HEADER.ACTIONS")),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](13,10,"TASK.TASKDETAIL.INDEX.TABLE.HEADER.TASK_NAME")),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](16,12,"TASK.TASKDETAIL.INDEX.TABLE.HEADER.TASK_DESCRIPTION")),r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](21,14,"TASK.TASKDETAIL.INDEX.TABLE.HEADER.START_DATE")),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](24,16,"TASK.TASKDETAIL.INDEX.TABLE.HEADER.END_DATE")),r["\u0275\u0275advance"](7),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](31,18,"TASK.TASKDETAIL.INDEX.TABLE.HEADER.TASK_CATEGORY")),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](34,20,"TASK.TASKDETAIL.INDEX.TABLE.HEADER.STATUS")),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",e.tasksDetail)}}let mt=(()=>{class e extends c.a{constructor(e,t,a,n,r,i,l,s){super(e),this.companyService=t,this.dialog=a,this.formBuilder=n,this.alertService=r,this.taskDetailLogService=i,this.taskDetailService=l,this.datePipe=s,this.taskDetailExport=new u.Ab,this.childList=[],this.hideme=[],this.isInitialCall=!0,this.showAddButton=!0,this.hideDetailLogs=[],this.statuses=["In progress","In queue","Done"],this.employeeId=this.authService.getLoggedInUserInfo().employeeId,this.userId=this.authService.getLoggedInUserInfo().userId,this.isAdmin=this.authService.isAdmin,this.buildForm()}ngOnInit(){this.tasksDetail=this.data,this.setDates(),null!=this.tasksDetail&&(this.isInitialCall=!1),this.getAllCompanies(),this.isInitialCall&&(this.isInitialCall=!1,this.getAllParentTasksDetailByCompany())}getAllCompanies(){this.loading=!0,this.companyService.getAllCompanies().subscribe(e=>{this.companies=e,this.loading=!1},()=>{this.loading=!1})}getAllTaskDetails(){}buildForm(){this.taskDetailFilterFormGroup=this.formBuilder.group({companyId:[this.companyId,p.G.required],startDate:[this.stardDate,p.G.required],endDate:[this.endDate,p.G.required]})}get f(){return this.taskDetailFilterFormGroup.controls}showChildList(e,t){this.showAddButton=!0,t&&this.getAllChildTaskDetail(e,t)}createTaskDetailChild(e){const t=new m.e;t.disableClose=!0,t.autoFocus=!0,t.panelClass="xHR-dialog";const a=window.screen.width<=576?90:50;t.width=a+"%";var n=new u.zb;n.companyId=this.companyId,n.parentTaskId=e.id,n.assigneeId=e.assigneeId,n.taskTypeId=e.taskTypeId,t.data=n,this.dialog.open(Ue,t).afterClosed().subscribe(()=>{this.refreshPage()})}editTaskDetailChild(e){const t=new m.e;t.disableClose=!0,t.autoFocus=!0,t.panelClass="xHR-dialog";const a=window.screen.width<=576?90:50;t.width=a+"%",e.companyId=this.companyId,t.data=e,this.dialog.open(Ue,t).afterClosed().subscribe(()=>{this.refreshPage()})}getAllParentTasksDetailByCompany(){this.loading=!0;let e=this.datePipe.transform(new Date(localStorage.getItem("taskStartDate")),"MM-dd-yyyy"),t=this.datePipe.transform(new Date(localStorage.getItem("taskEndDate")),"MM-dd-yyyy");this.submitted=!0,this.taskDetailService.getAllParentTasksDetailByCompany(this.employeeId,e,t,this.userId).subscribe(e=>{this.totalItems=0,this.tasksDetail=e,this.totalItems=this.tasksDetail.length,this.generateTotalItemsText(),this.loading=!1},()=>{this.loading=!1})}getAllChildTaskDetail(e,t){this.companyId&&(this.loading=!0,this.taskDetailService.getAllTasksDetailByCompanyAndParent(t).subscribe(t=>{this.currentData=t,this.hideme[e]=!this.hideme[e],this.Index=e,this.tasksDetail[e].listTaskDetail=[],null!=this.tasksDetail[e].listTaskDetail&&null!=this.tasksDetail[e].listTaskDetail||(this.tasksDetail[e].listTaskDetail=new Array),null==this.currentData&&null==this.currentData||(this.tasksDetail[e].listTaskDetail=this.currentData),this.loading=!1},()=>{this.loading=!1}))}getTaskDetailListExcel(){this.taskDetailExport.employeeId=this.employeeId,this.taskDetailExport.userId=this.userId,this.taskDetailExport.startDate=this.datePipe.transform(new Date(localStorage.getItem("taskStartDate")),"MM-dd-yyyy"),this.taskDetailExport.endDate=this.datePipe.transform(new Date(localStorage.getItem("taskEndDate")),"MM-dd-yyyy"),this.taskDetailExport.employeeId=this.employeeId,this.taskDetailExport.userId=this.userId,this.loading=!0,this.taskDetailService.getTaskListExcel(this.taskDetailExport).subscribe(e=>{this.generateExcel(e,"TaskList-Report"),this.loading=!1,this.submitted=!1},()=>{this.loading=!1,this.submitted=!1})}createTaskDetail(){const e=new m.e;e.disableClose=!0,e.autoFocus=!0,e.panelClass="xHR-dialog";const t=window.screen.width<=576?90:50;e.width=t+"%";var a=new u.zb;a.companyId=this.companyId,e.data=a,this.dialog.open(Ce,e).afterClosed().subscribe(()=>{this.refreshPage()})}editTaskDetail(e){const t=new m.e;t.disableClose=!0,t.autoFocus=!0,t.panelClass="xHR-dialog";const a=window.screen.width<=576?90:50;t.width=a+"%",e.companyId=this.companyId,t.data=e,this.dialog.open(Ce,t).afterClosed().subscribe(()=>{this.refreshPage()})}onDeleteTaskDetail(e){const t=new m.e;t.data="Are you sure to delete the task detail "+e.taskName,t.panelClass="xHR-dialog",this.dialog.open(E.a,t).afterClosed().subscribe(t=>{void 0!==t&&this.deleteTaskDetail(e)})}deleteTaskDetail(e){this.taskDetailService.deleteTaskDetail(e).subscribe(()=>{this.alertService.success("Task Detail successfully deleted"),this.refreshPage()})}showTaskDetailLogs(e,t){this.loading=!0,this.taskDetailLogService.getAllTaskDetailLogsByTaskDetailId(t).subscribe(t=>{this.taskDetailLogs=t,this.childList[e]=t,this.hideDetailLogs[e]=!this.hideDetailLogs[e],this.loading=!1},()=>{this.loading=!1})}createTaskDetailLog(e){const t=new m.e;t.disableClose=!0,t.autoFocus=!0,t.panelClass="xHR-dialog";const a=window.screen.width<=576?90:50;t.width=a+"%";var n=new u.Bb;n.taskDetailId=e.id,t.data=n,this.dialog.open(at,t).afterClosed().subscribe(()=>{this.refreshPage()})}editTaskDetailLog(e){const t=new m.e;t.disableClose=!0,t.autoFocus=!0,t.panelClass="xHR-dialog";const a=window.screen.width<=576?90:50;t.width=a+"%",t.data=e,this.dialog.open(at,t).afterClosed().subscribe(()=>{this.refreshPage()})}refreshPage(){this.router.navigate(["/task/task-detail-base"],{state:{taskDetailPage:"taskDetail"}})}setDates(){var e=new Date,t=new Date,a=new Date;t.setDate(t.getDate()-1),e.setMonth(e.getMonth()-1),this.f.startDate.setValue(e),this.f.endDate.setValue(a)}generateExcel(e,t){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(e.body,t);else{const a=window.URL.createObjectURL(e.body),n=document.createElement("a");document.body.appendChild(n),n.setAttribute("style","display: none"),n.href=a,n.download=t,n.click(),window.URL.revokeObjectURL(a),n.remove()}}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.Injector),r["\u0275\u0275directiveInject"](g.u),r["\u0275\u0275directiveInject"](m.b),r["\u0275\u0275directiveInject"](p.g),r["\u0275\u0275directiveInject"](h.a),r["\u0275\u0275directiveInject"](g.ub),r["\u0275\u0275directiveInject"](g.vb),r["\u0275\u0275directiveInject"](T.f))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-task-detail"]],inputs:{isLoading:"isLoading",data:"data"},features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:2,vars:2,consts:[["class","spinner-border","style","position:fixed;z-index:9999;left:50%;top:30%; color:#218838;","role","status",4,"ngIf"],[4,"blockUI"],["role","status",1,"spinner-border",2,"position","fixed","z-index","9999","left","50%","top","30%","color","#218838"],[1,"card"],[1,"table-responsive"],["aria-labelledby","tableLabel",1,"table","table-light","table-hover","table-responsive-sm","text-nowrap"],[1,"table-secondary"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"pt-0","text-center"],["mat-icon-button","","matTooltip","Edit",3,"click"],["mat-icon-button","","matTooltip","Delete",3,"click"],[1,"mat-icon-delete"],["mat-icon-button","","matTooltip","Task Detail logs",3,"click",4,"ngIf"],[1,"sub-table","no-bg",3,"hidden"],["align","center"],[4,"ngIf"],["colspan","15",1,"p-0"],[1,"table","mb-0","table-striped"],["mat-icon-button","","matTooltip","Add task detail log",3,"click"],[2,"font-weight","700"],["mat-icon-button","","matTooltip","Task Detail logs",3,"click"],["colspan","100"],[3,"data",4,"ngIf"],[3,"data"],["mat-icon-button","",3,"matTooltip","click"]],template:function(e,t){1&e&&(r["\u0275\u0275template"](0,rt,1,0,"div",0),r["\u0275\u0275template"](1,pt,36,22,"section",1)),2&e&&(r["\u0275\u0275property"]("ngIf",t.loading),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("blockUI","salarystructure-list-section"))},directives:[T.t,nt.e,T.s,A.b,_.a,w.a,e],pipes:[v.d,T.f],styles:[""]}),e})();function ct(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-option",22),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275property"]("value",e.id),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",e.companyName," ")}}function Et(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1,"Company is required "),r["\u0275\u0275elementEnd"]())}function ut(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.REQUIERED_ERROR_TEXT"),""))}function gt(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.REQUIERED_ERROR_TEXT"),""))}const ht=function(e){return{"is-invalid":e}};let Tt=(()=>{class e{constructor(e,t,a,n,r){this.dialog=e,this.router=t,this.formBuilder=a,this.companyService=n,this.taskDetailComponent=r,this.companyId=localStorage.getItem("companyId"),this.submitted=!1,this.router.getCurrentNavigation().extras.state&&this.router.navigate(["/task/task-detail"]),this.buildForm(),this.getAllCompanies()}ngOnInit(){this.setDates()}buildForm(){this.taskDetaiBsaelFilterFormGroup=this.formBuilder.group({companyId:[this.companyId],startDate:[this.stardDate,p.G.required],endDate:[this.endDate,p.G.required]})}get f(){return this.taskDetaiBsaelFilterFormGroup.controls}createTaskDetail(){const e=new m.e;e.disableClose=!0,e.autoFocus=!0,e.panelClass="xHR-dialog",e.width="50%";var t=new u.zb;t.companyId=this.companyId,e.data=t;const a=this.dialog.open(Ce,e);a.componentInstance.onTaskDetailCreateEvent.subscribe(e=>{this.taskDetailComponent.refreshPage()}),a.afterClosed().subscribe(()=>{})}sendValue(){this.submitted=!0;var e=this.taskDetaiBsaelFilterFormGroup.value;null!==e.startDate&&null!==e.endDate&&(localStorage.setItem("taskStartDate",e.startDate),localStorage.setItem("taskEndDate",e.endDate),this.child.getAllParentTasksDetailByCompany())}exportTaskList(){this.submitted=!0;var e=this.taskDetaiBsaelFilterFormGroup.value;null!==e.startDate&&null!==e.endDate&&(localStorage.setItem("taskStartDate",e.startDate),localStorage.setItem("taskEndDate",e.endDate),this.child.getTaskDetailListExcel())}setDates(){var e=new Date,t=new Date;new Date,t.setDate(t.getDate()-1),e.setMonth(e.getMonth()-1);const a=localStorage.getItem("taskStartDate"),n=localStorage.getItem("taskEndDate");localStorage.getItem("taskStartDate")&&localStorage.getItem("taskEndDate")?(this.f.startDate.setValue(new Date(a)),this.f.endDate.setValue(new Date(n))):(this.f.startDate.setValue(e),this.f.endDate.setValue(t))}getAllCompanies(){this.companyService.getAllCompanies().subscribe(e=>{this.companies=e},()=>{})}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](m.b),r["\u0275\u0275directiveInject"](n.c),r["\u0275\u0275directiveInject"](p.g),r["\u0275\u0275directiveInject"](g.u),r["\u0275\u0275directiveInject"](mt))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-task-detail-base"]],viewQuery:function(e,t){var a;1&e&&r["\u0275\u0275viewQuery"](mt,!0),2&e&&r["\u0275\u0275queryRefresh"](a=r["\u0275\u0275loadQuery"]())&&(t.child=a.first)},features:[r["\u0275\u0275ProvidersFeature"]([mt])],decls:52,vars:39,consts:[[1,"row"],[1,"col-sm-12","col-md-6"],["id","tableLabel"],[1,"col-lg-3","d-lg-block","d-md-none","d-sm-none"],[1,"col-lg-3","col-md-6","col-12"],["mat-raised-button","",1,"btn","btn-success","btn-block","text-center;",2,"margin-top","10px","margin-bottom","10px",3,"matTooltip","click"],[1,"create-icon-button"],[3,"formGroup"],[1,"col-md-3","col-12"],["appearance","outline"],["formControlName","companyId",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-12","col-md-3"],["matInput","","formControlName","startDate","placeholder","Start Date",3,"matDatepicker","ngClass","click"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","endDate",3,"matDatepicker","placeholder","ngClass","click"],["endDatePicker",""],[1,"col-lg-1","col-md-4","col-sm-12"],["mat-raised-button","","type","button","matTooltip","search",1,"btn","btn-success","btn-block","text-center","mb-2",3,"click"],["mat-raised-button","","type","button","matTooltip","export",1,"btn","btn-success","btn-block","text-center","mb-2",3,"click"],[3,"value"]],template:function(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"h1",2),r["\u0275\u0275text"](3),r["\u0275\u0275pipe"](4,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](5,"div",3),r["\u0275\u0275elementStart"](6,"div",4),r["\u0275\u0275elementStart"](7,"button",5),r["\u0275\u0275listener"]("click",(function(){return t.createTaskDetail()})),r["\u0275\u0275pipe"](8,"translate"),r["\u0275\u0275elementStart"](9,"mat-icon",6),r["\u0275\u0275text"](10,"add"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](11),r["\u0275\u0275pipe"](12,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"form",7),r["\u0275\u0275elementStart"](14,"div",0),r["\u0275\u0275elementStart"](15,"div",8),r["\u0275\u0275elementStart"](16,"mat-form-field",9),r["\u0275\u0275elementStart"](17,"mat-label"),r["\u0275\u0275text"](18),r["\u0275\u0275pipe"](19,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](20,"mat-select",10),r["\u0275\u0275pipe"](21,"translate"),r["\u0275\u0275template"](22,ct,2,2,"mat-option",11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](23,Et,2,0,"mat-error",12),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](24,"div",13),r["\u0275\u0275elementStart"](25,"mat-form-field",9),r["\u0275\u0275elementStart"](26,"mat-label"),r["\u0275\u0275text"](27),r["\u0275\u0275pipe"](28,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](29,"input",14),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275reference"](32).open()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](30,"mat-datepicker-toggle",15),r["\u0275\u0275element"](31,"mat-datepicker",null,16),r["\u0275\u0275template"](33,ut,3,3,"mat-error",12),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](34,"div",13),r["\u0275\u0275elementStart"](35,"mat-form-field",9),r["\u0275\u0275elementStart"](36,"mat-label"),r["\u0275\u0275text"](37),r["\u0275\u0275pipe"](38,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](39,"input",17),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275reference"](43).open()})),r["\u0275\u0275pipe"](40,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](41,"mat-datepicker-toggle",15),r["\u0275\u0275element"](42,"mat-datepicker",null,18),r["\u0275\u0275template"](44,gt,3,3,"mat-error",12),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](45,"div",19),r["\u0275\u0275elementStart"](46,"button",20),r["\u0275\u0275listener"]("click",(function(){return t.sendValue()})),r["\u0275\u0275text"](47," Search "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](48,"div",19),r["\u0275\u0275elementStart"](49,"button",21),r["\u0275\u0275listener"]("click",(function(){return t.exportTaskList()})),r["\u0275\u0275text"](50," Export "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](51,"app-task-detail")}if(2&e){const e=r["\u0275\u0275reference"](32),a=r["\u0275\u0275reference"](43);r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](4,19,"TASK.TASKDETAIL.INDEX.TITLE")),r["\u0275\u0275advance"](4),r["\u0275\u0275propertyInterpolate1"]("matTooltip","Add ",r["\u0275\u0275pipeBind1"](8,21,"TASK.TASKCATEGORY.INDEX.TITLE"),""),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](12,23,"TASK.TASKDETAIL.INDEX.BUTTONTEXT")," "),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("formGroup",t.taskDetaiBsaelFilterFormGroup),r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](19,25,"COMPANY.COMPANY.CREATE.CREATE_FORM.COMPANYNAME.PLACEHOLDER"),""),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](21,27,"COMMON.SELECT.COMPANYID.PLACEHOLDER")),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",t.companies),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.companyId.errors&&t.f.companyId.errors.required),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](28,29,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.STARTDATE.PLACEHOLDER")),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("matDatepicker",e)("ngClass",r["\u0275\u0275pureFunction1"](35,ht,t.f.startDate.errors)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("for",e),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.startDate.errors&&t.f.startDate.errors.required),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](38,31,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](40,33,"PAYROLL.EMPLOYEEBANKACCOUNT.CREATE.CREATE_FORM.ENDDATE.PLACEHOLDER")),r["\u0275\u0275property"]("matDatepicker",a)("ngClass",r["\u0275\u0275pureFunction1"](37,ht,t.f.endDate.errors)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("for",a),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.submitted&&t.f.endDate.errors&&t.f.endDate.errors.required)}},directives:[A.b,_.a,w.a,p.I,p.t,p.k,D.c,D.g,I.a,p.s,p.j,T.s,T.t,f.b,p.d,J.h,T.q,J.j,D.j,J.f,mt,C.m,D.b],pipes:[v.d],styles:[".col-md-0[_ngcontent-%COMP%]{display:none}"]}),e})();const Dt=[{path:"",component:i,canActivate:[o.a],data:{roles:["Administrators"]}},{path:"task-category",component:z,canActivate:[o.a],data:{roles:["Administrators","EmployeeRole"]}},{path:"task-detail",component:Tt,canActivate:[o.a],data:{roles:["Administrators","EmployeeRole"]}},{path:"task-detail-base",component:Tt,canActivate:[o.a],data:{roles:["Administrators","EmployeeRole"]}}];let It=(()=>{class e{}return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[l.a,d.AuthModule,s.a,n.g.forChild(Dt)]]}),e})()}}]);